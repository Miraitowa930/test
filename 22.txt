!function(t,e){object==typeof exports&&object==typeof modulemodule.exports=e()function==typeof define&&define.amddefine([],e)object==typeof exportsexports.G6=e()t.G6=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={in,l!1,exports{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)Object.defineProperty(t,e,{enumerable!0,getn})},r.r=function(t){undefined!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{valueModule}),Object.defineProperty(t,__esModule,{value!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&object==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,default,{enumerable!0,valuet}),2&e&&string!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModulefunction(){return t.default}function(){return t};return r.d(e,a,e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=,r(r.s=556)}([function(t,e,r){use strict;r.r(e),r.d(e,contains,(function(){return i})),r.d(e,includes,(function(){return i})),r.d(e,difference,(function(){return a})),r.d(e,find,(function(){return x})),r.d(e,findIndex,(function(){return w})),r.d(e,firstValue,(function(){return M})),r.d(e,flatten,(function(){return S})),r.d(e,flattenDeep,(function(){return _})),r.d(e,getRange,(function(){return k})),r.d(e,pull,(function(){return C})),r.d(e,pullAt,(function(){return P})),r.d(e,reduce,(function(){return I})),r.d(e,remove,(function(){return T})),r.d(e,sortBy,(function(){return D})),r.d(e,union,(function(){return R})),r.d(e,uniq,(function(){return B})),r.d(e,valuesOfKey,(function(){return L})),r.d(e,head,(function(){return z})),r.d(e,last,(function(){return F})),r.d(e,startsWith,(function(){return Y})),r.d(e,endsWith,(function(){return G})),r.d(e,filter,(function(){return o})),r.d(e,every,(function(){return q})),r.d(e,some,(function(){return X})),r.d(e,group,(function(){return W})),r.d(e,groupBy,(function(){return H})),r.d(e,groupToMap,(function(){return U})),r.d(e,getWrapBehavior,(function(){return Z})),r.d(e,wrapBehavior,(function(){return $})),r.d(e,number2color,(function(){return Q})),r.d(e,parseRadius,(function(){return J})),r.d(e,clamp,(function(){return tt})),r.d(e,fixedBase,(function(){return et})),r.d(e,isDecimal,(function(){return nt})),r.d(e,isEven,(function(){return it})),r.d(e,isInteger,(function(){return ot})),r.d(e,isNegative,(function(){return at})),r.d(e,isNumberEqual,(function(){return st})),r.d(e,isOdd,(function(){return ut})),r.d(e,isPositive,(function(){return ct})),r.d(e,maxBy,(function(){return ht})),r.d(e,minBy,(function(){return ft})),r.d(e,mod,(function(){return lt})),r.d(e,toDegree,(function(){return pt})),r.d(e,toInteger,(function(){return gt})),r.d(e,toRadian,(function(){return yt})),r.d(e,forIn,(function(){return mt})),r.d(e,has,(function(){return bt})),r.d(e,hasKey,(function(){return xt})),r.d(e,hasValue,(function(){return Mt})),r.d(e,keys,(function(){return g})),r.d(e,isMatch,(function(){return v})),r.d(e,values,(function(){return wt})),r.d(e,lowerCase,(function(){return _t})),r.d(e,lowerFirst,(function(){return kt})),r.d(e,substitute,(function(){return Ot})),r.d(e,upperCase,(function(){return Et})),r.d(e,upperFirst,(function(){return jt})),r.d(e,getType,(function(){return At})),r.d(e,isArguments,(function(){return Pt})),r.d(e,isArray,(function(){return f})),r.d(e,isArrayLike,(function(){return n})),r.d(e,isBoolean,(function(){return It})),r.d(e,isDate,(function(){return Tt})),r.d(e,isError,(function(){return Nt})),r.d(e,isFunction,(function(){return c})),r.d(e,isFinite,(function(){return Dt})),r.d(e,isNil,(function(){return h})),r.d(e,isNull,(function(){return Bt})),r.d(e,isNumber,(function(){return rt})),r.d(e,isObject,(function(){return d})),r.d(e,isObjectLike,(function(){return m})),r.d(e,isPlainObject,(function(){return b})),r.d(e,isPrototype,(function(){return Lt})),r.d(e,isRegExp,(function(){return zt})),r.d(e,isString,(function(){return N})),r.d(e,isType,(function(){return u})),r.d(e,isUndefined,(function(){return Ft})),r.d(e,isElement,(function(){return Yt})),r.d(e,requestAnimationFrame,(function(){return Gt})),r.d(e,clearAnimationFrame,(function(){return qt})),r.d(e,augment,(function(){return Ht})),r.d(e,clone,(function(){return Wt})),r.d(e,debounce,(function(){return Zt})),r.d(e,memoize,(function(){return $t})),r.d(e,deepMix,(function(){return Qt})),r.d(e,each,(function(){return p})),r.d(e,extend,(function(){return Jt})),r.d(e,indexOf,(function(){return te})),r.d(e,isEmpty,(function(){return re})),r.d(e,isEqual,(function(){return ne})),r.d(e,isEqualWith,(function(){return ie})),r.d(e,map,(function(){return oe})),r.d(e,mapValues,(function(){return se})),r.d(e,mix,(function(){return Vt})),r.d(e,assign,(function(){return Vt})),r.d(e,get,(function(){return ue})),r.d(e,set,(function(){return ce})),r.d(e,pick,(function(){return fe})),r.d(e,throttle,(function(){return le})),r.d(e,toArray,(function(){return de})),r.d(e,toString,(function(){return St})),r.d(e,uniqueId,(function(){return ge})),r.d(e,noop,(function(){return ve})),r.d(e,identity,(function(){return ye})),r.d(e,size,(function(){return me})),r.d(e,Cache,(function(){return be}));var n=function(t){return null!==t&&function!=typeof t&&isFinite(t.length)},i=function(t,e){return!!n(t)&&t.indexOf(e)-1},o=function(t,e){if(!n(t))return t;for(var r=[],i=0;it.length;i++){var o=t[i];e(o,i)&&r.push(o)}return r},a=function(t,e){return void 0===e&&(e=[]),o(t,(function(t){return!i(e,t)}))},s={}.toString,u=function(t,e){return s.call(t)===[object +e+]},c=function(t){return u(t,Function)},h=function(t){return null==t},f=function(t){return Array.isArrayArray.isArray(t)u(t,Array)};function l(t){return(l=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var d=function(t){var e=l(t);return null!==t&&object===efunction===e};var p=function(t,e){if(t)if(f(t))for(var r=0,n=t.length;rn&&!1!==e(t[r],r);r++);else if(d(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},g=Object.keysfunction(t){return Object.keys(t)}function(t){var e=[];return p(t,(function(r,n){c(t)&&prototype===ne.push(n)})),e};var v=function(t,e){var r=g(e),n=r.length;if(h(t))return!n;for(var i=0;in;i+=1){var o=r[i];if(e[o]!==t[o]!(o in t))return!1}return!0};function y(t){return(y=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var m=function(t){returnobject===y(t)&&null!==t},b=function(t){if(!m(t)!u(t,Object))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var x=function(t,e){if(!f(t))return null;var r;if(c(e)&&(r=e),b(e)&&(r=function(t){return v(t,e)}),r)for(var n=0;nt.length;n+=1)if(r(t[n]))return t[n];return null};var w=function(t,e,r){void 0===r&&(r=0);for(var n=r;nt.length;n++)if(e(t[n],n))return n;return-1},M=function(t,e){for(var r=null,n=0;nt.length;n++){var i=t[n][e];if(!h(i)){r=f(i)i[0]i;break}}return r},S=function(t){if(!f(t))return[];for(var e=[],r=0;rt.length;r++)e=e.concat(t[r]);return e},_=function t(e,r){if(void 0===r&&(r=[]),f(e))for(var n=0;ne.length;n+=1)t(e[n],r);else r.push(e);return r},k=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min0,max0};if(f(t[0])){for(var r=[],n=0;nt.length;n++)r=r.concat(t[n]);e=r}var i=Math.max.apply(null,e);return{minMath.min.apply(null,e),maxi}},O=Array.prototype,E=O.splice,j=O.indexOf,C=function(t){for(var e=[],r=1;rarguments.length;r++)e[r-1]=arguments[r];for(var n=0;ne.length;n++)for(var i=e[n],o=-1;(o=j.call(t,i))-1;)E.call(t,o,1);return t},A=Array.prototype.splice,P=function(t,e){if(!n(t))return[];for(var r=te.length0,i=r-1;r--;){var o=void 0,a=e[r];r!==i&&a===o(o=a,A.call(t,a,1))}return t},I=function(t,e,r){if(!f(t)&&!b(t))return t;var n=r;return p(t,(function(t,r){n=e(n,t,r)})),n},T=function(t,e){var r=[];if(!n(t))return r;for(var i=-1,o=[],a=t.length;++ia;){var s=t[i];e(s,i,t)&&(r.push(s),o.push(i))}return P(t,o),r},N=function(t){return u(t,String)};var D=function(t,e){var r;if(c(e))r=function(t,r){return e(t)-e(r)};else{var n=[];N(e)n.push(e)f(e)&&(n=e),r=function(t,e){for(var r=0;rn.length;r+=1){var i=n[r];if(t[i]e[i])return 1;if(t[i]e[i])return-1}return 0}}return t.sort(r),t},B=function(t){var e=[];return p(t,(function(t){i(e,t)e.push(t)})),e},R=function(){for(var t=[],e=0;earguments.length;e++)t[e]=arguments[e];return B([].concat.apply([],t))},L=function(t,e){for(var r=[],n={},i=0;it.length;i++){var o=t[i][e];if(!h(o)){f(o)(o=[o]);for(var a=0;ao.length;a++){var s=o[a];n[s](r.push(s),n[s]=!0)}}}return r};function z(t){if(n(t))return t[0]}function F(t){if(n(t)){return t[t.length-1]}}var Y=function(t,e){return!(!f(t)&&!N(t))&&t[0]===e};var G=function(t,e){return!(!f(t)&&!N(t))&&t[t.length-1]===e},q=function(t,e){for(var r=0;rt.length;r++)if(!e(t[r],r))return!1;return!0},X=function(t,e){for(var r=0;rt.length;r++)if(e(t[r],r))return!0;return!1},V=Object.prototype.hasOwnProperty;var H=function(t,e){if(!e!f(t))return{};for(var r,n={},i=c(e)efunction(t){return t[e]},o=0;ot.length;o++){var a=t[o];r=i(a),V.call(n,r)n[r].push(a)n[r]=[a]}return n},U=function(t,e){if(!e)return{0t};if(!c(e)){var r=f(e)ee.replace(s+g,).split();e=function(t){for(var e=_,n=0,i=r.length;ni;n++)e+=t[r[n]]&&t[r[n]].toString();return e}}return H(t,e)},W=function(t,e){if(!e)return[t];var r=U(t,e),n=[];for(var i in r)n.push(r[i]);return n};var Z=function(t,e){return t[_wrap_+e]};var $=function(t,e){if(t[_wrap_+e])return t[_wrap_+e];var r=function(r){t[e](r)};return t[_wrap_+e]=r,r},K={};var Q=function(t){var e=K[t];if(!e){for(var r=t.toString(16),n=r.length;n6;n++)r=0+r;e=#+r,K[t]=e}return e};var J=function(t){var e=0,r=0,n=0,i=0;return f(t)1===t.lengthe=r=n=i=t[0]2===t.length(e=n=t[0],r=i=t[1])3===t.length(e=t[0],r=i=t[1],n=t[2])(e=t[0],r=t[1],n=t[2],i=t[3])e=r=n=i=t,{r1e,r2r,r3n,r4i}},tt=function(t,e,r){return teetrrt},et=function(t,e){var r=e.toString(),n=r.indexOf(.);if(-1===n)return Math.round(t);var i=r.substr(n+1).length;return i20&&(i=20),parseFloat(t.toFixed(i))},rt=function(t){return u(t,Number)},nt=function(t){return rt(t)&&t%1!=0},it=function(t){return rt(t)&&t%2==0},ot=Number.isIntegerNumber.isIntegerfunction(t){return rt(t)&&t%1==0},at=function(t){return rt(t)&&t0};function st(t,e,r){return void 0===r&&(r=1e-5),Math.abs(t-e)r}var ut=function(t){return rt(t)&&t%2!=0},ct=function(t){return rt(t)&&t0},ht=function(t,e){if(f(t)){var r,n,i=t[0];return r=c(e)e(t[0])t[0][e],p(t,(function(t){(n=c(e)e(t)t[e])r&&(i=t,r=n)})),i}},ft=function(t,e){if(f(t)){var r,n,i=t[0];return r=c(e)e(t[0])t[0][e],p(t,(function(t){(n=c(e)e(t)t[e])r&&(i=t,r=n)})),i}},lt=function(t,e){return(t%e+e)%e},dt=180Math.PI,pt=function(t){return dtt},gt=parseInt,vt=Math.PI180,yt=function(t){return vtt},mt=p,bt=function(t,e){return t.hasOwnProperty(e)},xt=bt,wt=Object.valuesfunction(t){return Object.values(t)}function(t){var e=[];return p(t,(function(r,n){c(t)&&prototype===ne.push(r)})),e},Mt=function(t,e){return i(wt(t),e)},St=function(t){return h(t)t.toString()},_t=function(t){return St(t).toLowerCase()},kt=function(t){var e=St(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Ot=function(t,e){return t&&et.replace({([^{}]+)}g,(function(t,r){return===t.charAt(0)t.slice(1)void 0===e[r]e[r]}))t},Et=function(t){return St(t).toUpperCase()},jt=function(t){var e=St(t);return e.charAt(0).toUpperCase()+e.substring(1)},Ct={}.toString,At=function(t){return Ct.call(t).replace(^[object ,).replace(]$,)},Pt=function(t){return u(t,Arguments)},It=function(t){return u(t,Boolean)},Tt=function(t){return u(t,Date)},Nt=function(t){return u(t,Error)},Dt=function(t){return rt(t)&&isFinite(t)},Bt=function(t){return null===t},Rt=Object.prototype,Lt=function(t){var e=t&&t.constructor;return t===(function==typeof e&&e.prototypeRt)},zt=function(t){return u(t,RegExp)},Ft=function(t){return void 0===t},Yt=function(t){return t instanceof Elementt instanceof HTMLDocument};function Gt(t){return(window.requestAnimationFramewindow.webkitRequestAnimationFramewindow.mozRequestAnimationFramewindow.msRequestAnimationFramefunction(t){return setTimeout(t,16)})(t)}function qt(t){(window.cancelAnimationFramewindow.webkitCancelAnimationFramewindow.mozCancelAnimationFramewindow.msCancelAnimationFrameclearTimeout)(t)}function Xt(t,e){for(var r in e)e.hasOwnProperty(r)&&constructor!==r&&void 0!==e[r]&&(t[r]=e[r])}function Vt(t,e,r,n){return e&&Xt(t,e),r&&Xt(t,r),n&&Xt(t,n),t}var Ht=function(){for(var t=[],e=0;earguments.length;e++)t[e]=arguments[e];for(var r=t[0],n=1;nt.length;n++){var i=t[n];c(i)&&(i=i.prototype),Vt(r.prototype,i)}};function Ut(t){return(Ut=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var Wt=function t(e){if(object!==Ut(e)null===e)return e;var r;if(f(e)){r=[];for(var n=0,i=e.length;ni;n++)object===Ut(e[n])&&null!=e[n]r[n]=t(e[n])r[n]=e[n]}else for(var o in r={},e)object===Ut(e[o])&&null!=e[o]r[o]=t(e[o])r[o]=e[o];return r};var Zt=function(t,e,r){var n;return function(){var i=this,o=arguments,a=function(){n=null,rt.apply(i,o)},s=r&&!n;clearTimeout(n),n=setTimeout(a,e),s&&t.apply(i,o)}},$t=function(t,e){if(!c(t))throw new TypeError(Expected a function);var r=function r(){for(var n=[],i=0;iarguments.length;i++)n[i]=arguments[i];var o=ee.apply(this,n)n[0],a=r.cache;if(a.has(o))return a.get(o);var s=t.apply(this,n);return a.set(o,s),s};return r.cache=new Map,r};function Kt(t,e,r,n){for(var i in r=r0,n=n5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&b(o)(b(t[i])(t[i]={}),rnKt(t[i],o,r+1,n)t[i]=e[i])f(o)(t[i]=[],t[i]=t[i].concat(o))void 0!==o&&(t[i]=o)}}var Qt=function(t){for(var e=[],r=1;rarguments.length;r++)e[r-1]=arguments[r];for(var n=0;ne.length;n+=1)Kt(t,e[n]);return t},Jt=function(t,e,r,n){c(e)(r=e,e=t,t=function(){});var i=Object.createfunction(t,e){return Object.create(t,{constructor{valuee}})}function(t,e){function r(){}r.prototype=t;var n=new r;return n.constructor=e,n},o=i(e.prototype,t);return t.prototype=Vt(o,t.prototype),t.superclass=i(e.prototype,e),Vt(o,r),Vt(t,n),t},te=function(t,e){if(!n(t))return-1;var r=Array.prototype.indexOf;if(r)return r.call(t,e);for(var i=-1,o=0;ot.length;o++)if(t[o]===e){i=o;break}return i},ee=Object.prototype.hasOwnProperty;var re=function(t){if(h(t))return!0;if(n(t))return!t.length;var e=At(t);if(Map===eSet===e)return!t.size;if(Lt(t))return!Object.keys(t).length;for(var r in t)if(ee.call(t,r))return!1;return!0},ne=function t(e,r){if(e===r)return!0;if(!e!r)return!1;if(N(e)N(r))return!1;if(n(e)n(r)){if(e.length!==r.length)return!1;for(var i=!0,o=0;oe.length&&(i=t(e[o],r[o]));o++);return i}if(m(e)m(r)){var a=Object.keys(e),s=Object.keys(r);if(a.length!==s.length)return!1;for(i=!0,o=0;oa.length&&(i=t(e[a[o]],r[a[o]]));o++);return i}return!1},ie=function(t,e,r){return c(r)!!r(t,e)ne(t,e)},oe=function(t,e){if(!n(t))return t;for(var r=[],i=0;it.length;i++){var o=t[i];r.push(e(o,i))}return r},ae=function(t){return t},se=function(t,e){void 0===e&&(e=ae);var r={};return d(t)&&!h(t)&&Object.keys(t).forEach((function(n){r[n]=e(t[n],n)})),r},ue=function(t,e,r){for(var n=0,i=N(e)e.split(.)e;t&&ni.length;)t=t[i[n++]];return void 0===tni.lengthrt},ce=function(t,e,r){var n=t,i=N(e)e.split(.)e;return i.forEach((function(t,e){ei.length-1(d(n[t])(n[t]=rt(i[e+1])[]{}),n=n[t])n[t]=r})),t},he=Object.prototype.hasOwnProperty,fe=function(t,e){if(null===t!b(t))return{};var r={};return p(e,(function(e){he.call(t,e)&&(r[e]=t[e])})),r},le=function(t,e,r){var n,i,o,a,s=0;r(r={});var u=function(){s=!1===r.leading0Date.now(),n=null,a=t.apply(i,o),n(i=o=null)},c=function(){var c=Date.now();s!1!==r.leading(s=c);var h=e-(c-s);return i=this,o=arguments,h=0he(n&&(clearTimeout(n),n=null),s=c,a=t.apply(i,o),n(i=o=null))n!1===r.trailing(n=setTimeout(u,h)),a};return c.cancel=function(){clearTimeout(n),s=0,n=i=o=null},c},de=function(t){return n(t)Array.prototype.slice.call(t)[]},pe={},ge=function(t){return pe[t=tg]pe[t]+=1pe[t]=1,t+pe[t]},ve=function(){},ye=function(t){return t};function me(t){return h(t)0n(t)t.lengthObject.keys(t).length}var be=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var r=this.map[t];return void 0===rer},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}()},function(t,e,r){use strict;function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}
! 
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, andor distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED AS IS AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
 r.r(e),r.d(e,__extends,(function(){return o})),r.d(e,__assign,(function(){return a})),r.d(e,__rest,(function(){return s})),r.d(e,__decorate,(function(){return u})),r.d(e,__param,(function(){return c})),r.d(e,__metadata,(function(){return h})),r.d(e,__awaiter,(function(){return f})),r.d(e,__generator,(function(){return l})),r.d(e,__createBinding,(function(){return d})),r.d(e,__exportStar,(function(){return p})),r.d(e,__values,(function(){return g})),r.d(e,__read,(function(){return v})),r.d(e,__spread,(function(){return y})),r.d(e,__spreadArrays,(function(){return m})),r.d(e,__await,(function(){return b})),r.d(e,__asyncGenerator,(function(){return x})),r.d(e,__asyncDelegator,(function(){return w})),r.d(e,__asyncValues,(function(){return M})),r.d(e,__makeTemplateObject,(function(){return S})),r.d(e,__importStar,(function(){return k})),r.d(e,__importDefault,(function(){return O})),r.d(e,__classPrivateFieldGet,(function(){return E})),r.d(e,__classPrivateFieldSet,(function(){return j}));var i=function(t,e){return(i=Object.setPrototypeOf{__proto__[]}instanceof Array&&function(t,e){t.__proto__=e}function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function o(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===eObject.create(e)(r.prototype=e.prototype,new r)}var a=function(){return(a=Object.assignfunction(t){for(var e,r=1,n=arguments.length;rn;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)0&&(r[n]=t[n]);if(null!=t&&function==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);in.length;i++)e.indexOf(n[i])0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function u(t,e,r,i){var o,a=arguments.length,s=a3enull===ii=Object.getOwnPropertyDescriptor(e,r)i;if(object===(undefined==typeof Reflectundefinedn(Reflect))&&function==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var u=t.length-1;u=0;u--)(o=t[u])&&(s=(a3o(s)a3o(e,r,s)o(e,r))s);return a3&&s&&Object.defineProperty(e,r,s),s}function c(t,e){return function(r,n){e(r,n,t)}}function h(t,e){if(object===(undefined==typeof Reflectundefinedn(Reflect))&&function==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,r,n){return new(r(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.donei(t.value)(e=t.value,e instanceof renew r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e[])).next())}))}function l(t,e){var r,n,i,o,a={label0,sentfunction(){if(1&i[0])throw i[1];return i[1]},trys[],ops[]};return o={nexts(0),throws(1),returns(2)},function==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError(Generator is already executing.);for(;a;)try{if(r=1,n&&(i=2&o[0]n.returno[0]n.throw((i=n.return)&&i.call(n),0)n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0case 1i=o;break;case 4return a.label++,{valueo[1],done!1};case 5a.label++,n=o[1],o=[0];continue;case 7o=a.ops.pop(),a.trys.pop();continue;defaultif(!(i=a.trys,(i=i.length0&&i[i.length-1])6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!io[1]i[0]&&o[1]i[3])){a.label=o[1];break}if(6===o[0]&&a.labeli[1]){a.label=i[1],i=o;break}if(i&&a.labeli[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{valueo[0]o[1]void 0,done!0}}([o,s])}}}var d=Object.createfunction(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable!0,getfunction(){return e[r]}})}function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function p(t,e){for(var r in t)default===rObject.prototype.hasOwnProperty.call(e,r)d(e,t,r)}function g(t){var e=function==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&number==typeof t.length)return{nextfunction(){return t&&n=t.length&&(t=void 0),{valuet&&t[n++],done!t}}};throw new TypeError(eObject is not iterable.Symbol.iterator is not defined.)}function v(t,e){var r=function==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===ee-- 0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={errort}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;earguments.length;e++)t=t.concat(v(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;er;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;er;e++)for(var o=arguments[e],a=0,s=o.length;as;a++,i++)n[i]=o[a];return n}function b(t){return this instanceof b(this.v=t,this)new b(t)}function x(t,e,r){if(!Symbol.asyncIterator)throw new TypeError(Symbol.asyncIterator is not defined.);var n,i=r.apply(t,e[]),o=[];return n={},a(next),a(throw),a(return),n[Symbol.asyncIterator]=function(){return this},n;function a(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])1s(t,e)}))})}function s(t,e){try{(r=i[t](e)).value instanceof bPromise.resolve(r.value.v).then(u,c)h(o[0][2],r)}catch(t){h(o[0][3],t)}var r}function u(t){s(next,t)}function c(t){s(throw,t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(t){var e,r;return e={},n(next),n(throw,(function(t){throw t})),n(return),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]function(e){return(r=!r){valueb(t[n](e)),donereturn===n}ii(e)e}i}}function M(t){if(!Symbol.asyncIterator)throw new TypeError(Symbol.asyncIterator is not defined.);var e,r=t[Symbol.asyncIterator];return rr.call(t)(t=g(t),e={},n(next),n(throw),n(return),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({valuee,doner})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function S(t,e){return Object.definePropertyObject.defineProperty(t,raw,{valuee})t.raw=e,t}var _=Object.createfunction(t,e){Object.defineProperty(t,default,{enumerable!0,valuee})}function(t,e){t.default=e};function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)default!==r&&Object.prototype.hasOwnProperty.call(t,r)&&d(e,t,r);return _(e,t),e}function O(t){return t&&t.__esModulet{defaultt}}function E(t,e){if(!e.has(t))throw new TypeError(attempted to get private field on non-instance);return e.get(t)}function j(t,e,r){if(!e.has(t))throw new TypeError(attempted to set private field on non-instance);return e.set(t,r),r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4),i=r(35);e.default=function(t,e){if(t)if(n.default(t))for(var r=0,o=t.length;ro&&!1!==e(t[r],r);r++);else if(i.default(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(27);e.default=function(t){return n.default(t,String)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(27);e.default=function(t){return Array.isArrayArray.isArray(t)n.default(t,Array)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t,e){if(t)for(var r in e)e.hasOwnProperty(r)&&(t.style[r]=e[r]);return t}},function(t,e,r){use strict;r.d(e,b,(function(){return n})),r.d(e,a,(function(){return i})),r.d(e,c,(function(){return o}));var n=1e-6,i=undefined!=typeof Float32ArrayFloat32ArrayArray,o=Math.random;Math.PI;Math.hypot(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]arguments[e];return Math.sqrt(t)})},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(72);e.contains=n.default,e.includes=n.default;var i=r(242);e.difference=i.default;var o=r(243);e.find=o.default;var a=r(244);e.findIndex=a.default;var s=r(245);e.firstValue=s.default;var u=r(246);e.flatten=u.default;var c=r(247);e.flattenDeep=c.default;var h=r(248);e.getRange=h.default;var f=r(249);e.pull=f.default;var l=r(140);e.pullAt=l.default;var d=r(250);e.reduce=d.default;var p=r(251);e.remove=p.default;var g=r(252);e.sortBy=g.default;var v=r(253);e.union=v.default;var y=r(141);e.uniq=y.default;var m=r(254);e.valuesOfKey=m.default;var b=r(255);e.head=b.default;var x=r(256);e.last=x.default;var w=r(257);e.startsWith=w.default;var M=r(258);e.endsWith=M.default;var S=r(137);e.filter=S.default;var _=r(259);e.every=_.default;var k=r(260);e.some=k.default;var O=r(261);e.group=O.default;var E=r(69);e.groupBy=E.default;var j=r(142);e.groupToMap=j.default;var C=r(262);e.getWrapBehavior=C.default;var A=r(50);e.wrapBehavior=A.default;var P=r(263);e.number2color=P.default;var I=r(264);e.parseRadius=I.default;var T=r(265);e.clamp=T.default;var N=r(266);e.fixedBase=N.default;var D=r(267);e.isDecimal=D.default;var B=r(268);e.isEven=B.default;var R=r(269);e.isInteger=R.default;var L=r(270);e.isNegative=L.default;var z=r(103);e.isNumberEqual=z.default;var F=r(271);e.isOdd=F.default;var Y=r(272);e.isPositive=Y.default;var G=r(273);e.maxBy=G.default;var q=r(274);e.minBy=q.default;var X=r(67);e.mod=X.default;var V=r(275);e.toDegree=V.default;var H=r(276);e.toInteger=H.default;var U=r(68);e.toRadian=U.default;var W=r(277);e.forIn=W.default;var Z=r(143);e.has=Z.default;var $=r(278);e.hasKey=$.default;var K=r(279);e.hasValue=K.default;var Q=r(139);e.keys=Q.default;var J=r(138);e.isMatch=J.default;var tt=r(144);e.values=tt.default;var et=r(280);e.lowerCase=et.default;var rt=r(281);e.lowerFirst=rt.default;var nt=r(282);e.substitute=nt.default;var it=r(283);e.upperCase=it.default;var ot=r(49);e.upperFirst=ot.default;var at=r(145);e.getType=at.default;var st=r(284);e.isArguments=st.default;var ut=r(4);e.isArray=ut.default;var ct=r(21);e.isArrayLike=ct.default;var ht=r(285);e.isBoolean=ht.default;var ft=r(286);e.isDate=ft.default;var lt=r(287);e.isError=lt.default;var dt=r(14);e.isFunction=dt.default;var pt=r(288);e.isFinite=pt.default;var gt=r(10);e.isNil=gt.default;var vt=r(289);e.isNull=vt.default;var yt=r(11);e.isNumber=yt.default;var mt=r(35);e.isObject=mt.default;var bt=r(102);e.isObjectLike=bt.default;var xt=r(58);e.isPlainObject=xt.default;var wt=r(146);e.isPrototype=wt.default;var Mt=r(290);e.isRegExp=Mt.default;var St=r(3);e.isString=St.default;var _t=r(27);e.isType=_t.default;var kt=r(291);e.isUndefined=kt.default;var Ot=r(292);e.isElement=Ot.default;var Et=r(147);e.requestAnimationFrame=Et.default;var jt=r(148);e.clearAnimationFrame=jt.default;var Ct=r(293);e.augment=Ct.default;var At=r(98);e.clone=At.default;var Pt=r(294);e.debounce=Pt.default;var It=r(295);e.memoize=It.default;var Tt=r(12);e.deepMix=Tt.default;var Nt=r(2);e.each=Nt.default;var Dt=r(296);e.extend=Dt.default;var Bt=r(297);e.indexOf=Bt.default;var Rt=r(298);e.isEmpty=Rt.default;var Lt=r(95);e.isEqual=Lt.default;var zt=r(299);e.isEqualWith=zt.default;var Ft=r(300);e.map=Ft.default;var Yt=r(301);e.mapValues=Yt.default;var Gt=r(17);e.mix=Gt.default,e.assign=Gt.default;var qt=r(130);e.get=qt.default;var Xt=r(302);e.set=Xt.default;var Vt=r(303);e.pick=Vt.default;var Ht=r(304);e.throttle=Ht.default;var Ut=r(305);e.toArray=Ut.default;var Wt=r(59);e.toString=Wt.default;var Zt=r(306);e.uniqueId=Zt.default;var $t=r(307);e.noop=$t.default;var Kt=r(308);e.identity=Kt.default;var Qt=r(309);e.size=Qt.default;var Jt=r(310);e.Cache=Jt.default},function(t,e,r){use strict;var n,i,o,a;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t){n(n=document.createElement(table),i=document.createElement(tr),o=^s(w+!)[^],a={trdocument.createElement(tbody),tbodyn,theadn,tfootn,tdi,thi,document.createElement(div)});var e=o.test(t)&&RegExp.$1;e&&e in a(e=);var r=a[e];t=t.replace((^s)(s$)g,),r.innerHTML=+t;var s=r.childNodes[0];return r.removeChild(s),s}},function(t,e,r){use strict;r.d(e,j,(function(){return y})),r.d(e,c,(function(){return m})),r.d(e,g,(function(){return b})),r.d(e,b,(function(){return x}));var n=r(10),i=r.n(n);r.d(e,e,(function(){return i.a}));var o=r(14),a=r.n(o);r.d(e,d,(function(){return a.a}));var s=r(3),u=r.n(s);r.d(e,h,(function(){return u.a}));var c=r(35),h=r.n(c);r.d(e,f,(function(){return h.a}));r(4);var f=r(17),l=r.n(f);r.d(e,i,(function(){return l.a}));var d=r(2),p=r.n(d);r.d(e,a,(function(){return p.a}));var g=r(49),v=r.n(g);function y(t,e){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}r.d(e,k,(function(){return v.a}));var m=undefined!=typeof window&&void 0!==window.document;function b(t,e){if(t.isCanvas())return!0;for(var r=e.getParent(),n=!1;r;){if(r===t){n=!0;break}r=r.getParent()}return n}function x(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t){return null==t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(27);e.default=function(t){return n.default(t,Number)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4),i=r(58);function o(t,e,r,a){for(var s in r=r0,a=a5,e)if(e.hasOwnProperty(s)){var u=e[s];null!==u&&i.default(u)(i.default(t[s])(t[s]={}),rao(t[s],u,r+1,a)t[s]=e[s])n.default(u)(t[s]=[],t[s]=t[s].concat(u))void 0!==u&&(t[s]=u)}}e.default=function(t){for(var e=[],r=1;rarguments.length;r++)e[r-1]=arguments[r];for(var n=0;ne.length;n+=1)o(t,e[n]);return t}},function(t,e,r){var n;try{n={cloneDeepr(486),constantr(122),defaultsr(487),eachr(191),filterr(194),findr(488),flattenr(221),forEachr(192),forInr(493),hasr(205),isUndefinedr(206),lastr(494),mapr(207),mapValuesr(495),maxr(496),merger(498),minr(504),minByr(505),nowr(506),pickr(507),ranger(512),reducer(209),sortByr(515),uniqueIdr(520),valuesr(214),zipObjectr(521)}}catch(t){}n(n=window._),t.exports=n},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(27);e.default=function(t){return n.default(t,Function)}},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.sub=e.mul=void 0,e.create=function(){var t=new n.ARRAY_TYPE(9);n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,r,i,o,a,s,u,c){var h=new n.ARRAY_TYPE(9);return h[0]=t,h[1]=e,h[2]=r,h[3]=i,h[4]=o,h[5]=a,h[6]=s,h[7]=u,h[8]=c,h},e.set=function(t,e,r,n,i,o,a,s,u,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=ha-sc,l=-ho+su,d=co-au,p=rf+nl+id;if(!p)return null;return p=1p,t[0]=fp,t[1]=(-hn+ic)p,t[2]=(sn-ia)p,t[3]=lp,t[4]=(hr-iu)p,t[5]=(-sr+io)p,t[6]=dp,t[7]=(-cr+nu)p,t[8]=(ar-no)p,t},e.adjoint=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=ah-sc,t[1]=ic-nh,t[2]=ns-ia,t[3]=su-oh,t[4]=rh-iu,t[5]=io-rs,t[6]=oc-au,t[7]=nu-rc,t[8]=ra-no,t},e.determinant=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e(co-au)+r(-ci+as)+n(ui-os)},e.multiply=i,e.translate=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=ln+da+c,t[7]=li+ds+h,t[8]=lo+du+f,t},e.rotate=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=Math.sin(r),d=Math.cos(r);return t[0]=dn+la,t[1]=di+ls,t[2]=do+lu,t[3]=da-ln,t[4]=ds-li,t[5]=du-lo,t[6]=c,t[7]=h,t[8]=f,t},e.scale=function(t,e,r){var n=r[0],i=r[1];return t[0]=ne[0],t[1]=ne[1],t[2]=ne[2],t[3]=ie[3],t[4]=ie[4],t[5]=ie[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,u=i+i,c=ra,h=na,f=ns,l=ia,d=is,p=iu,g=oa,v=os,y=ou;return t[0]=1-f-p,t[3]=h-y,t[6]=l+v,t[1]=h+y,t[4]=1-c-p,t[7]=d-g,t[2]=l-v,t[5]=d+g,t[8]=1-c-f,t},e.normalFromMat4=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=rs-na,b=ru-ia,x=rc-oa,w=nu-is,M=nc-os,S=ic-ou,_=hg-fp,k=hv-lp,O=hy-dp,E=fv-lg,j=fy-dg,C=ly-dv,A=mC-bj+xE+wO-Mk+S_;if(!A)return null;return A=1A,t[0]=(sC-uj+cE)A,t[1]=(uO-aC-ck)A,t[2]=(aj-sO+c_)A,t[3]=(ij-nC-oE)A,t[4]=(rC-iO+ok)A,t[5]=(nO-rj-o_)A,t[6]=(gS-vM+yw)A,t[7]=(vx-pS-yb)A,t[8]=(pM-gx+ym)A,t},e.projection=function(t,e,r){return t[0]=2e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){returnmat3(+t[0]+, +t[1]+, +t[2]+, +t[3]+, +t[4]+, +t[5]+, +t[6]+, +t[7]+, +t[8]+)},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},e.subtract=o,e.multiplyScalar=function(t,e,r){return t[0]=e[0]r,t[1]=e[1]r,t[2]=e[2]r,t[3]=e[3]r,t[4]=e[4]r,t[5]=e[5]r,t[6]=e[6]r,t[7]=e[7]r,t[8]=e[8]r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]n,t[1]=e[1]+r[1]n,t[2]=e[2]+r[2]n,t[3]=e[3]+r[3]n,t[4]=e[4]+r[4]n,t[5]=e[5]+r[5]n,t[6]=e[6]+r[6]n,t[7]=e[7]+r[7]n,t[8]=e[8]+r[8]n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],f=t[8],l=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return Math.abs(r-l)=n.EPSILONMath.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-d)=n.EPSILONMath.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)=n.EPSILONMath.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)=n.EPSILONMath.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)=n.EPSILONMath.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)=n.EPSILONMath.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)=n.EPSILONMath.max(1,Math.abs(c),Math.abs(m))&&Math.abs(h-b)=n.EPSILONMath.max(1,Math.abs(h),Math.abs(b))&&Math.abs(f-x)=n.EPSILONMath.max(1,Math.abs(f),Math.abs(x))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(104));function i(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=r[0],d=r[1],p=r[2],g=r[3],v=r[4],y=r[5],m=r[6],b=r[7],x=r[8];return t[0]=ln+da+pc,t[1]=li+ds+ph,t[2]=lo+du+pf,t[3]=gn+va+yc,t[4]=gi+vs+yh,t[5]=go+vu+yf,t[6]=mn+ba+xc,t[7]=mi+bs+xh,t[8]=mo+bu+xf,t}function o(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}e.mul=i,e.sub=o},function(t,e,r){use strict;function n(t,e){for(var r in e)e.hasOwnProperty(r)&&constructor!==r&&void 0!==e[r]&&(t[r]=e[r])}Object.defineProperty(e,__esModule,{value!0}),e.default=function(t,e,r,i){return e&&n(t,e),r&&n(t,r),i&&n(t,i),t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.isSamePoint=e.mergeRegion=e.intersectRect=e.inBox=e.distance=e.getPixelRatio=void 0,e.getPixelRatio=function(){return windowwindow.devicePixelRatio1},e.distance=function(t,e,r,n){var i=t-r,o=e-n;return Math.sqrt(ii+oo)},e.inBox=function(t,e,r,n,i,o){return i=t&&i=t+r&&o=e&&o=e+n},e.intersectRect=function(t,e){return!(e.minXt.maxXe.maxXt.minXe.minYt.maxYe.maxYt.minY)},e.mergeRegion=function(t,e){return t&&e{minXMath.min(t.minX,e.minX),minYMath.min(t.minY,e.minY),maxXMath.max(t.maxX,e.maxX),maxYMath.max(t.maxY,e.maxY)}te},e.isSamePoint=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var n=r(10);Object.defineProperty(e,isNil,{enumerable!0,getfunction(){return n.default}});var i=r(3);Object.defineProperty(e,isString,{enumerable!0,getfunction(){return i.default}});var o=r(14);Object.defineProperty(e,isFunction,{enumerable!0,getfunction(){return o.default}});var a=r(4);Object.defineProperty(e,isArray,{enumerable!0,getfunction(){return a.default}});var s=r(2);Object.defineProperty(e,each,{enumerable!0,getfunction(){return s.default}});var u=r(68);Object.defineProperty(e,toRadian,{enumerable!0,getfunction(){return u.default}});var c=r(67);Object.defineProperty(e,mod,{enumerable!0,getfunction(){return c.default}});var h=r(103);Object.defineProperty(e,isNumberEqual,{enumerable!0,getfunction(){return h.default}});var f=r(147);Object.defineProperty(e,requestAnimationFrame,{enumerable!0,getfunction(){return f.default}});var l=r(148);Object.defineProperty(e,clearAnimationFrame,{enumerable!0,getfunction(){return l.default}})},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.EVENTS=e.SVG_ATTR_MAP=e.SHAPE_TO_TAGS=void 0,e.SHAPE_TO_TAGS={rectpath,circlecircle,lineline,pathpath,markerpath,texttext,polylinepolyline,polygonpolygon,imageimage,ellipseellipse,domforeignObject},e.SVG_ATTR_MAP={opacityopacity,fillStylefill,fillfill,fillOpacityfill-opacity,strokeStylestroke,strokeOpacitystroke-opacity,strokestroke,xx,yy,rr,rxrx,ryry,widthwidth,heightheight,x1x1,x2x2,y1y1,y2y2,lineCapstroke-linecap,lineJoinstroke-linejoin,lineWidthstroke-width,lineDashstroke-dasharray,lineDashOffsetstroke-dashoffset,miterLimitstroke-miterlimit,fontfont,fontSizefont-size,fontStylefont-style,fontVariantfont-variant,fontWeightfont-weight,fontFamilyfont-family,startArrowmarker-start,endArrowmarker-end,pathd,classclass,idid,stylestyle,preserveAspectRatiopreserveAspectRatio},e.EVENTS=[click,mousedown,mouseup,dblclick,contextmenu,mouseenter,mouseleave,mouseover,mouseout,mousemove,wheel]},function(t,e,r){use strict;var n=r(13),i=r(30).Graph;function o(t,e,r,i){var o;do{o=n.uniqueId(i)}while(t.hasNode(o));return r.dummy=e,t.setNode(o,r),o}function a(t){return n.max(n.map(t.nodes(),(function(e){var r=t.node(e).rank;if(!n.isUndefined(r))return r})))}t.exports={addDummyNodeo,simplifyfunction(t){var e=(new i).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){e.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){var n=e.edge(r.v,r.w){weight0,minlen1},i=t.edge(r);e.setEdge(r.v,r.w,{weightn.weight+i.weight,minlenMath.max(n.minlen,i.minlen)})})),e},asNonCompoundGraphfunction(t){var e=new i({multigrapht.isMultigraph()}).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){t.children(r).lengthe.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){e.setEdge(r,t.edge(r))})),e},successorWeightsfunction(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.outEdges(e),(function(e){r[e.w]=(r[e.w]0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)},predecessorWeightsfunction(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.inEdges(e),(function(e){r[e.v]=(r[e.v]0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)},intersectRectfunction(t,e){var r,n,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=t.width2,c=t.height2;if(!a&&!s)throw new Error(Not possible to find intersection inside of the rectangle);Math.abs(s)uMath.abs(a)c(s0&&(c=-c),r=cas,n=c)(a0&&(u=-u),r=u,n=usa);return{xi+r,yo+n}},buildLayerMatrixfunction(t){var e=n.map(n.range(a(t)+1),(function(){return[]}));return n.forEach(t.nodes(),(function(r){var i=t.node(r),o=i.rank;n.isUndefined(o)(e[o][i.order]=r)})),e},normalizeRanksfunction(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank})));n.forEach(t.nodes(),(function(r){var i=t.node(r);n.has(i,rank)&&(i.rank-=e)}))},removeEmptyRanksfunction(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank}))),r=[];n.forEach(t.nodes(),(function(n){var i=t.node(n).rank-e;r[i](r[i]=[]),r[i].push(n)}));var i=0,o=t.graph().nodeRankFactor;n.forEach(r,(function(e,r){n.isUndefined(e)&&r%o!=0--ii&&n.forEach(e,(function(e){t.node(e).rank+=i}))}))},addBorderNodefunction(t,e,r,n){var i={width0,height0};arguments.length=4&&(i.rank=r,i.order=n);return o(t,border,i,e)},maxRanka,partitionfunction(t,e){var r={lhs[],rhs[]};return n.forEach(t,(function(t){e(t)r.lhs.push(t)r.rhs.push(t)})),r},timefunction(t,e){var r=n.now();try{return e()}finally{console.log(t+ time +(n.now()-r)+ms)}},notimefunction(t,e){return e()}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t){return null!==t&&function!=typeof t&&isFinite(t.length)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(172);e.mat3=n.default;var i=r(368);e.vec2=i.default;var o=r(369);e.vec3=o.default;var a=r(370);e.transform=a.default},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(43),o=r(61),a=r(29),s=r(109),u=r(19),c=r(110),h=r(171),f=r(157),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=svg,e.canFill=!1,e.canStroke=!1,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{lineWidth1,lineAppendWidth0,strokeOpacity1,fillOpacity1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var r=this.get(canvas);if(r&&r.get(autoDraw)){var n=r.get(context);this.draw(n,e)}},e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return h.default},e.prototype.onCanvasChange=function(t){s.refreshElement(this,t)},e.prototype.calculateBBox=function(){var t=this.get(el),e=null;if(t)e=t.getBBox();else{var r=f.getBBoxMethod(this.get(type));r&&(e=r(this))}if(e){var n=e.x,i=e.y,o=e.width,a=e.height,s=this.getHitLineWidth(),u=s2,c=n-u,h=i-u;return{xc,yh,minXc,minYh,maxXn+o+u,maxYi+a+u,widtho+s,heighta+s}}return{x0,y0,minX0,minY0,maxX0,maxY0,width0,height0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,r=t.fillStyle;return(erthis.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,r=t.strokeStyle;return(er)&&this.canStroke},e.prototype.draw=function(t,e){var r=this.get(el);this.get(destroyed)r&&r.parentNode.removeChild(r)(ra.createDom(this),o.setClip(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var r=ethis.attr(),n=r.fill,i=r.fillStyle,o=r.stroke,a=r.strokeStyle,s=r.fillOpacity,c=r.strokeOpacity,h=r.lineWidth,f=this.get(el);this.canFill&&(efillin rthis._setColor(t,fill,n)fillStylein r&&this._setColor(t,fill,i)this._setColor(t,fill,ni),s&&f.setAttribute(u.SVG_ATTR_MAP.fillOpacity,s)),this.canStroke&&h0&&(estrokein rthis._setColor(t,stroke,o)strokeStylein r&&this._setColor(t,stroke,a)this._setColor(t,stroke,oa),c&&f.setAttribute(u.SVG_ATTR_MAP.strokeOpacity,c),h&&f.setAttribute(u.SVG_ATTR_MAP.lineWidth,h))},e.prototype._setColor=function(t,e,r){var n=this.get(el);if(r)if(r=r.trim(),^[r,R,L,l]{1}[s](.test(r))(i=t.find(gradient,r))(i=t.addGradient(r)),n.setAttribute(u.SVG_ATTR_MAP[e],url(#+i+));else if(^[p,P]{1}[s](.test(r)){var i;(i=t.find(pattern,r))(i=t.addPattern(r)),n.setAttribute(u.SVG_ATTR_MAP[e],url(#+i+))}else n.setAttribute(u.SVG_ATTR_MAP[e],r);else n.setAttribute(u.SVG_ATTR_MAP[e],none)},e.prototype.shadow=function(t,e){var r=this.attr(),n=er,i=n.shadowOffsetX,a=n.shadowOffsetY,s=n.shadowBlur,u=n.shadowColor;(iasu)&&o.setShadow(this,t)},e.prototype.transform=function(t){var e=this.attr();(te).matrix&&o.setTransform(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var r=this.get(el),n=this.get(canvas).get(el).getBoundingClientRect(),i=t+n.left,o=e+n.top,a=document.elementFromPoint(i,o);return!(!a!a.isEqualNode(r))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,r=t.lineAppendWidth;return this.isStroke()e+r0},e}(i.AbstractShape);e.default=l},function(t,e,r){var n;try{n={cloner(373),constantr(122),eachr(191),filterr(194),hasr(205),isArrayr(15),isEmptyr(450),isFunctionr(62),isUndefinedr(206),keysr(41),mapr(207),reducer(209),sizer(453),transformr(459),unionr(460),valuesr(214)}}catch(t){}n(n=window._),t.exports=n},function(t,e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}t.exports=function(t){var e=r(t);return null!=t&&(object==efunction==e)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=i,e.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,r){return t[0]=e,t[1]=r,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},e.subtract=o,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,r){return t[0]=e[0]r,t[1]=e[1]r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]n,t[1]=e[1]+r[1]n,t},e.distance=u,e.squaredDistance=c,e.length=h,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1e[0],t[1]=1e[1],t},e.normalize=function(t,e){var r=e[0],n=e[1],i=rr+nn;i0&&(i=1Math.sqrt(i),t[0]=e[0]i,t[1]=e[1]i);return t},e.dot=function(t,e){return t[0]e[0]+t[1]e[1]},e.cross=function(t,e,r){var n=e[0]r[1]-e[1]r[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,r,n){var i=e[0],o=e[1];return t[0]=i+n(r[0]-i),t[1]=o+n(r[1]-o),t},e.random=function(t,e){e=e1;var r=2n.RANDOM()Math.PI;return t[0]=Math.cos(r)e,t[1]=Math.sin(r)e,t},e.transformMat2=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]n+r[2]i,t[1]=r[1]n+r[3]i,t},e.transformMat2d=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]n+r[2]i+r[4],t[1]=r[1]n+r[3]i+r[5],t},e.transformMat3=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]n+r[3]i+r[6],t[1]=r[1]n+r[4]i+r[7],t},e.transformMat4=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]n+r[4]i+r[12],t[1]=r[1]n+r[5]i+r[13],t},e.rotate=function(t,e,r,n){var i=e[0]-r[0],o=e[1]-r[1],a=Math.sin(n),s=Math.cos(n);return t[0]=is-oa+r[0],t[1]=ia+os+r[1],t},e.angle=function(t,e){var r=t[0],n=t[1],i=e[0],o=e[1],a=rr+nn;a0&&(a=1Math.sqrt(a));var s=ii+oo;s0&&(s=1Math.sqrt(s));var u=(ri+no)as;return u10u-1Math.PIMath.acos(u)},e.str=function(t){returnvec2(+t[0]+, +t[1]+)},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var r=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(r-o)=n.EPSILONMath.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-a)=n.EPSILONMath.max(1,Math.abs(i),Math.abs(a))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(104));function i(){var t=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function a(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t}function s(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t}function u(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(rr+nn)}function c(t,e){var r=e[0]-t[0],n=e[1]-t[1];return rr+nn}function h(t){var e=t[0],r=t[1];return Math.sqrt(ee+rr)}function f(t){var e=t[0],r=t[1];return ee+rr}var l;e.len=h,e.sub=o,e.mul=a,e.div=s,e.dist=u,e.sqrDist=c,e.sqrLen=f,e.forEach=(l=i(),function(t,e,r,n,i,o){var a=void 0,s=void 0;for(e(e=2),r(r=0),s=nMath.min(ne+r,t.length)t.length,a=r;as;a+=e)l[0]=t[a],l[1]=t[a+1],i(l,l,o),t[a]=l[0],t[a+1]=l[1];return t})},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n={}.toString;e.default=function(t,e){return n.call(t)===[object +e+]}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(43),o=r(18),a=r(60),s=r(157),u=r(73),c=r(164),h=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{lineWidth1,lineAppendWidth0,strokeOpacity1,fillOpacity1})},e.prototype.getShapeBase=function(){return u},e.prototype.getGroupBase=function(){return c.default},e.prototype.onCanvasChange=function(t){a.refreshElement(this,t)},e.prototype.calculateBBox=function(){var t=this.get(type),e=this.getHitLineWidth(),r=s.getBBoxMethod(t)(this),n=e2,i=r.x-n,o=r.y-n,a=r.x+r.width+n,u=r.y+r.height+n;return{xi,minXi,yo,minYo,widthr.width+e,heightr.height+e,maxXa,maxYu}},e.prototype.isFill=function(){return!!this.attrs.fillthis.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),a.applyAttrsToContext(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var r=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set(hasChanged,!1);var n=this.getCanvasBBox();if(!o.intersectRect(e,n))return this.set(hasChanged,!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),a.applyAttrsToContext(t,this),this._applyClip(t,r),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return tt.getViewRange()null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),r=o.intersectRect(e,t);this.set(isInView,r),rthis.set(cacheCanvasBBox,e)this.set(cacheCanvasBBox,null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set(hasChanged,!1),this.set(refresh,null)},e.prototype.skipDraw=function(){this.set(cacheCanvasBBox,null),this.set(isInView,null),this.set(hasChanged,!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,r=e.lineWidth,n=e.opacity,i=e.strokeOpacity,a=e.fillOpacity;this.isFill()&&(o.isNil(a)1===athis.fill(t)(t.globalAlpha=a,this.fill(t),t.globalAlpha=n)),this.isStroke()&&r0&&(o.isNil(i)1===i(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var r=this.isStroke(),n=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,r,n,i)},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(i.AbstractShape);e.default=h},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.moveTo=e.sortDom=e.createDom=e.createSVGElement=void 0;var n=r(0),i=r(19);function o(t){return document.createElementNS(httpwww.w3.org2000svg,t)}e.createSVGElement=o,e.createDom=function(t){var e=i.SHAPE_TO_TAGS[t.type],r=t.getParent();if(!e)throw new Error(the type +t.type+ is not supported by svg);var n=o(e);if(t.get(id)&&(n.id=t.get(id)),t.set(el,n),t.set(attrs,{}),r){var a=r.get(el);a(a=r.createDom(),r.set(el,a)),a.appendChild(n)}return n},e.sortDom=function(t,e){var r=t.get(el),i=n.toArray(r.children).sort(e),o=document.createDocumentFragment();i.forEach((function(t){o.appendChild(t)})),r.appendChild(o)},e.moveTo=function(t,e){var r=t.parentNode,n=Array.from(r.childNodes).filter((function(t){return 1===t.nodeType&&defs!==t.nodeName.toLowerCase()})),i=n[e],o=n.indexOf(t);if(i){if(oe)r.insertBefore(t,i);else if(oe){var a=n[e+1];ar.insertBefore(t,a)r.appendChild(t)}}else r.appendChild(t)}},function(t,e,r){var n;try{n=r(371)}catch(t){}n(n=window.graphlib),t.exports=n},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=r(174),o=object==(undefined==typeof selfundefinedn(self))&&self&&self.Object===Object&&self,a=ioFunction(return this)();t.exports=a},function(t,e,r){use strict;function n(t,e){var r=[],n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],f=t[8],l=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return r[0]=ln+da+pc,r[1]=li+ds+ph,r[2]=lo+du+pf,r[3]=gn+va+yc,r[4]=gi+vs+yh,r[5]=go+vu+yf,r[6]=mn+ba+xc,r[7]=mi+bs+xh,r[8]=mo+bu+xf,r}function i(t,e){var r=[],n=e[0],i=e[1];return r[0]=t[0]n+t[3]i+t[6],r[1]=t[1]n+t[4]i+t[7],r}function o(t){var e=[],r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],f=ha-sc,l=-ho+su,d=co-au,p=rf+nl+id;return p(p=1p,e[0]=fp,e[1]=(-hn+ic)p,e[2]=(sn-ia)p,e[3]=lp,e[4]=(hr-iu)p,e[5]=(-sr+io)p,e[6]=dp,e[7]=(-cr+nu)p,e[8]=(ar-no)p,e)null}r.d(e,b,(function(){return n})),r.d(e,c,(function(){return i})),r.d(e,a,(function(){return o}))},function(t,e,r){use strict;function n(t){return Math.min.apply(null,t)}function i(t){return Math.max.apply(null,t)}Object.defineProperty(e,__esModule,{value!0}),e.piMod=e.getBBoxRange=e.getBBoxByArray=e.isNumberEqual=e.distance=void 0,e.distance=function(t,e,r,n){var i=t-r,o=e-n;return Math.sqrt(ii+oo)},e.isNumberEqual=function(t,e){return Math.abs(t-e).001},e.getBBoxByArray=function(t,e){var r=n(t),o=n(e);return{xr,yo,widthi(t)-r,heighti(e)-o}},e.getBBoxRange=function(t,e,r,o){return{minXn([t,r]),maxXi([t,r]),minYn([e,o]),maxYi([e,o])}},e.piMod=function(t){return(t+2Math.PI)%(2Math.PI)}},function(t,e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}t.exports=function(t){return null!=t&&object==r(t)}},function(t,e,r){use strict;function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}Object.defineProperty(e,__esModule,{value!0}),e.default=function(t){var e=n(t);return null!==t&&object===efunction===e}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(43),o=r(319),a=r(73),s=r(164),u=r(18),c=r(60),h=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer=canvas,e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){attr!==t&&sort!==t&&changeSize!==t(this.set(refreshElements,[this]),this.draw())},e.prototype.getShapeBase=function(){return a},e.prototype.getGroupBase=function(){return s.default},e.prototype.getPixelRatio=function(){var t=this.get(pixelRatio)u.getPixelRatio();return t=1Math.ceil(t)1},e.prototype.getViewRange=function(){return{minX0,minY0,maxXthis.cfg.width,maxYthis.cfg.height}},e.prototype.createDom=function(){var t=document.createElement(canvas),e=t.getContext(2d);return this.set(context,e),t},e.prototype.setDOMSize=function(e,r){t.prototype.setDOMSize.call(this,e,r);var n=this.get(context),i=this.get(el),o=this.getPixelRatio();i.width=oe,i.height=or,o1&&n.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get(context),r=this.get(el);e.clearRect(0,0,r.width,r.height)},e.prototype.getShape=function(e,r){return this.get(quickHit)o.getShape(this,e,r)t.prototype.getShape.call(this,e,r,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get(refreshElements),r=this.getViewRange();e.length&&e[0]===thist=r(t=c.getMergedRegion(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get(clipView)&&(t=c.mergeView(t,r)));return t},e.prototype.refreshElement=function(t){this.get(refreshElements).push(t)},e.prototype._clearFrame=function(){var t=this.get(drawFrame);t&&(u.clearAnimationFrame(t),this.set(drawFrame,null),this.set(refreshElements,[]))},e.prototype.draw=function(){var t=this.get(drawFrame);this.get(autoDraw)&&tthis._startDraw()},e.prototype._drawAll=function(){var t=this.get(context),e=this.get(el),r=this.getChildren();t.clearRect(0,0,e.width,e.height),c.applyAttrsToContext(t,this),c.drawChildren(t,r),this.set(refreshElements,[])},e.prototype._drawRegion=function(){var t=this.get(context),e=this.get(refreshElements),r=this.getChildren(),n=this._getRefreshRegion();n(t.clearRect(n.minX,n.minY,n.maxX-n.minX,n.maxY-n.minY),t.save(),t.beginPath(),t.rect(n.minX,n.minY,n.maxX-n.minX,n.maxY-n.minY),t.clip(),c.applyAttrsToContext(t,this),c.checkRefresh(this,r,n),c.drawChildren(t,r,n),t.restore())e.length&&c.clearChanged(e),u.each(e,(function(t){t.get(hasChanged)&&t.set(hasChanged,!1)})),this.set(refreshElements,[])},e.prototype._startDraw=function(){var t=this,e=this.get(drawFrame);e(e=u.requestAnimationFrame((function(){t.get(localRefresh)t._drawRegion()t._drawAll(),t.set(drawFrame,null)})),this.set(drawFrame,e))},e.prototype.skipDraw=function(){},e}(i.AbstractCanvas);e.default=h},function(t,e,r){use strict;r.r(e),r.d(e,catmullRomToBezier,(function(){return u})),r.d(e,fillPath,(function(){return A})),r.d(e,fillPathByDiff,(function(){return T})),r.d(e,formatPath,(function(){return B})),r.d(e,intersection,(function(){return E})),r.d(e,parsePathArray,(function(){return v})),r.d(e,parsePathString,(function(){return s})),r.d(e,pathToAbsolute,(function(){return h})),r.d(e,pathToCurve,(function(){return p})),r.d(e,rectPath,(function(){return M}));var n=r(0),i=tnvfr ????????????????u2028u2029,o=new RegExp(([a-z])[+i+,]((-d.d(e[-+]d+)[+i+],[+i+])+),ig),a=new RegExp((-d.d(e[-+]d+))[+i+],[+i+],ig),s=function(t){if(!t)return null;if(Object(n.isArray)(t))return t;var e={a7,c6,o2,h1,l2,m2,r4,q4,s4,t2,v1,u3,z0},r=[];return String(t).replace(o,(function(n,i,o){var s=[],u=i.toLowerCase();if(o.replace(a,(function(t,e){e&&s.push(+e)})),m===u&&s.length2&&(r.push([i].concat(s.splice(0,2))),u=l,i=m===ilL),o===u&&1===s.length&&r.push([i,s[0]]),r===u)r.push([i].concat(s));else for(;s.length=e[u]&&(r.push([i].concat(s.splice(0,e[u]))),e[u]););return t})),r},u=function(t,e){for(var r=[],n=0,i=t.length;i-2!en;n+=2){var o=[{x+t[n-2],y+t[n-1]},{x+t[n],y+t[n+1]},{x+t[n+2],y+t[n+3]},{x+t[n+4],y+t[n+5]}];eni-4===no[3]={x+t[0],y+t[1]}i-2===n&&(o[2]={x+t[0],y+t[1]},o[3]={x+t[2],y+t[3]})o[0]={x+t[i-2],y+t[i-1]}i-4===no[3]=o[2]n(o[0]={x+t[n],y+t[n+1]}),r.push([C,(-o[0].x+6o[1].x+o[2].x)6,(-o[0].y+6o[1].y+o[2].y)6,(o[1].x+6o[2].x-o[3].x)6,(o[1].y+6o[2].y-o[3].y)6,o[2].x,o[2].y])}return r},c=function(t,e,r,n,i){var o=[];if(null===i&&null===n&&(n=r),t=+t,e=+e,r=+r,n=+n,null!==i){var a=Math.PI180,s=t+rMath.cos(-na),u=t+rMath.cos(-ia);o=[[M,s,e+rMath.sin(-na)],[A,r,r,0,+(i-n180),0,u,e+rMath.sin(-ia)]]}else o=[[M,t,e],[m,0,-n],[a,r,n,0,1,1,0,2n],[a,r,n,0,1,1,0,-2n],[z]];return o},h=function(t){if(!(t=s(t))!t.length)return[[M,0,0]];var e,r,n=[],i=0,o=0,a=0,h=0,f=0;M===t[0][0]&&(a=i=+t[0][1],h=o=+t[0][2],f++,n[0]=[M,i,o]);for(var l=3===t.length&&M===t[0][0]&&R===t[1][0].toUpperCase()&&Z===t[2][0].toUpperCase(),d=void 0,p=void 0,g=f,v=t.length;gv;g++){if(n.push(d=[]),(e=(p=t[g])[0])!==e.toUpperCase())switch(d[0]=e.toUpperCase(),d[0]){caseAd[1]=p[1],d[2]=p[2],d[3]=p[3],d[4]=p[4],d[5]=p[5],d[6]=+p[6]+i,d[7]=+p[7]+o;break;caseVd[1]=+p[1]+o;break;caseHd[1]=+p[1]+i;break;caseRfor(var y=2,m=(r=[i,o].concat(p.slice(1))).length;ym;y++)r[y]=+r[y]+i,r[++y]=+r[y]+o;n.pop(),n=n.concat(u(r,l));break;caseOn.pop(),(r=c(i,o,p[1],p[2])).push(r[0]),n=n.concat(r);break;caseUn.pop(),n=n.concat(c(i,o,p[1],p[2],p[3])),d=[U].concat(n[n.length-1].slice(-2));break;caseMa=+p[1]+i,h=+p[2]+o;break;defaultfor(y=1,m=p.length;ym;y++)d[y]=+p[y]+(y%2io)}else if(R===e)r=[i,o].concat(p.slice(1)),n.pop(),n=n.concat(u(r,l)),d=[R].concat(p.slice(-2));else if(O===e)n.pop(),(r=c(i,o,p[1],p[2])).push(r[0]),n=n.concat(r);else if(U===e)n.pop(),n=n.concat(c(i,o,p[1],p[2],p[3])),d=[U].concat(n[n.length-1].slice(-2));else for(var b=0,x=p.length;bx;b++)d[b]=p[b];if(O!==(e=e.toUpperCase()))switch(d[0]){caseZi=+a,o=+h;break;caseHi=d[1];break;caseVo=d[1];break;caseMa=d[d.length-2],h=d[d.length-1];break;defaulti=d[d.length-2],o=d[d.length-1]}}return n},f=function(t,e,r,n){return[t,e,r,n,r,n]},l=function(t,e,r,n,i,o){return[13t+23r,13e+23n,13i+23r,13o+23n,i,o]},d=function t(e,r,n,i,o,a,s,u,c,h){n===i&&(n+=1);var f,l,d,p,g,v=120Math.PI180,y=Math.PI180(+o0),m=[],b=function(t,e,r){return{xtMath.cos(r)-eMath.sin(r),ytMath.sin(r)+eMath.cos(r)}};if(h)l=h[0],d=h[1],p=h[2],g=h[3];else{e=(f=b(e,r,-y)).x,r=f.y,u=(f=b(u,c,-y)).x,c=f.y,e===u&&r===c&&(u+=1,c+=1);var x=(e-u)2,w=(r-c)2,M=xx(nn)+ww(ii);M1&&(n=M=Math.sqrt(M),i=M);var S=nn,_=ii,k=(a===s-11)Math.sqrt(Math.abs((S_-Sww-_xx)(Sww+_xx)));p=knwi+(e+u)2,g=k-ixn+(r+c)2,l=Math.asin(((r-g)i).toFixed(9)),d=Math.asin(((c-g)i).toFixed(9)),l=epMath.PI-ll,d=upMath.PI-dd,l0&&(l=2Math.PI+l),d0&&(d=2Math.PI+d),s&&ld&&(l-=2Math.PI),!s&&dl&&(d-=2Math.PI)}var O=d-l;if(Math.abs(O)v){var E=d,j=u,C=c;d=l+v(s&&dl1-1),m=t(u=p+nMath.cos(d),c=g+iMath.sin(d),n,i,o,0,s,j,C,[d,E,p,g])}O=d-l;var A=Math.cos(l),P=Math.sin(l),I=Math.cos(d),T=Math.sin(d),N=Math.tan(O4),D=43nN,B=43iN,R=[e,r],L=[e+DP,r-BA],z=[u+DT,c-BI],F=[u,c];if(L[0]=2R[0]-L[0],L[1]=2R[1]-L[1],h)return[L,z,F].concat(m);for(var Y=[],G=0,q=(m=[L,z,F].concat(m).join().split(,)).length;Gq;G++)Y[G]=G%2b(m[G-1],m[G],y).yb(m[G],m[G+1],y).x;return Y},p=function(t,e){var r,n=h(t),i=e&&h(e),o={x0,y0,bx0,by0,X0,Y0,qxnull,qynull},a={x0,y0,bx0,by0,X0,Y0,qxnull,qynull},s=[],u=[],c=,p=,g=function(t,e,r){var n,i;if(!t)return[C,e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T1,Q1})&&(e.qx=e.qy=null),t[0]){caseMe.X=t[1],e.Y=t[2];break;caseAt=[C].concat(d.apply(0,[e.x,e.y].concat(t.slice(1))));break;caseSC===rS===r(n=2e.x-e.bx,i=2e.y-e.by)(n=e.x,i=e.y),t=[C,n,i].concat(t.slice(1));break;caseTQ===rT===r(e.qx=2e.x-e.qx,e.qy=2e.y-e.qy)(e.qx=e.x,e.qy=e.y),t=[C].concat(l(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;caseQe.qx=t[1],e.qy=t[2],t=[C].concat(l(e.x,e.y,t[1],t[2],t[3],t[4]));break;caseLt=[C].concat(f(e.x,e.y,t[1],t[2]));break;caseHt=[C].concat(f(e.x,e.y,t[1],e.y));break;caseVt=[C].concat(f(e.x,e.y,e.x,t[1]));break;caseZt=[C].concat(f(e.x,e.y,e.X,e.Y))}return t},v=function(t,e){if(t[e].length7){t[e].shift();for(var o=t[e];o.length;)s[e]=A,i&&(u[e]=A),t.splice(e++,0,[C].concat(o.splice(0,6)));t.splice(e,1),r=Math.max(n.length,i&&i.length0)}},y=function(t,e,o,a,s){t&&e&&M===t[s][0]&&M!==e[s][0]&&(e.splice(s,0,[M,a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],r=Math.max(n.length,i&&i.length0))};r=Math.max(n.length,i&&i.length0);for(var m=0;mr;m++){n[m]&&(c=n[m][0]),C!==c&&(s[m]=c,m&&(p=s[m-1])),n[m]=g(n[m],o,p),A!==s[m]&&C===c&&(s[m]=C),v(n,m),i&&(i[m]&&(c=i[m][0]),C!==c&&(u[m]=c,m&&(p=u[m-1])),i[m]=g(i[m],a,p),A!==u[m]&&C===c&&(u[m]=C),v(i,m)),y(n,i,o,a,m),y(i,n,a,o,m);var b=n[m],x=i&&i[m],w=b.length,M=i&&x.length;o.x=b[w-2],o.y=b[w-1],o.bx=parseFloat(b[w-4])o.x,o.by=parseFloat(b[w-3])o.y,a.bx=i&&(parseFloat(x[M-4])a.x),a.by=i&&(parseFloat(x[M-3])a.y),a.x=i&&x[M-2],a.y=i&&x[M-1]}return i[n,i]n},g=,([a-z]),gi,v=function(t){return t.join(,).replace(g,$1)},y=function(t,e,r,n,i){return t(t(-3e+9r-9n+3i)+6e-12r+6n)-3e+3r},m=function(t,e,r,n,i,o,a,s,u){null===u&&(u=1);for(var c=(u=u11u00u)2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],l=0,d=0;d12;d++){var p=ch[d]+c,g=y(p,t,r,i,a),v=y(p,e,n,o,s),m=gg+vv;l+=f[d]Math.sqrt(m)}return cl},b=function(t,e,r,n,i,o,a,s){for(var u,c,h,f,l=[],d=[[],[]],p=0;p2;++p)if(0===p(c=6t-12r+6i,u=-3t+9r-9i+3a,h=3r-3t)(c=6e-12n+6o,u=-3e+9n-9o+3s,h=3n-3e),Math.abs(u)1e-12){if(Math.abs(c)1e-12)continue;(f=-hc)0&&f1&&l.push(f)}else{var g=cc-4hu,v=Math.sqrt(g);if(!(g0)){var y=(-c+v)(2u);y0&&y1&&l.push(y);var m=(-c-v)(2u);m0&&m1&&l.push(m)}}for(var b,x=l.length,w=x;x--;)b=1-(f=l[x]),d[0][x]=bbbt+3bbfr+3bffi+fffa,d[1][x]=bbbe+3bbfn+3bffo+fffs;return d[0][w]=t,d[1][w]=e,d[0][w+1]=a,d[1][w+1]=s,d[0].length=d[1].length=w+2,{min{xMath.min.apply(0,d[0]),yMath.min.apply(0,d[1])},max{xMath.max.apply(0,d[0]),yMath.max.apply(0,d[1])}}},x=function(t,e,r,n,i,o,a,s){if(!(Math.max(t,r)Math.min(i,a)Math.min(t,r)Math.max(i,a)Math.max(e,n)Math.min(o,s)Math.min(e,n)Math.max(o,s))){var u=(t-r)(o-s)-(e-n)(i-a);if(u){var c=((tn-er)(i-a)-(t-r)(is-oa))u,h=((tn-er)(o-s)-(e-n)(is-oa))u,f=+c.toFixed(2),l=+h.toFixed(2);if(!(f+Math.min(t,r).toFixed(2)f+Math.max(t,r).toFixed(2)f+Math.min(i,a).toFixed(2)f+Math.max(i,a).toFixed(2)l+Math.min(e,n).toFixed(2)l+Math.max(e,n).toFixed(2)l+Math.min(o,s).toFixed(2)l+Math.max(o,s).toFixed(2)))return{xc,yh}}}},w=function(t,e,r){return e=t.x&&e=t.x+t.width&&r=t.y&&r=t.y+t.height},M=function(t,e,r,n,i){if(i)return[[M,+t+ +i,e],[l,r-2i,0],[a,i,i,0,0,1,i,i],[l,0,n-2i],[a,i,i,0,0,1,-i,i],[l,2i-r,0],[a,i,i,0,0,1,-i,-i],[l,0,2i-n],[a,i,i,0,0,1,i,-i],[z]];var o=[[M,t,e],[l,r,0],[l,0,n],[l,-r,0],[z]];return o.parsePathArray=v,o},S=function(t,e,r,n){return null===t&&(t=e=r=n=0),null===e&&(e=t.y,r=t.width,n=t.height,t=t.x),{xt,ye,widthr,wr,heightn,hn,x2t+r,y2e+n,cxt+r2,cye+n2,r1Math.min(r,n)2,r2Math.max(r,n)2,r0Math.sqrt(rr+nn)2,pathM(t,e,r,n),vb[t,e,r,n].join( )}},_=function(t,e,r,i,o,a,s,u){Object(n.isArray)(t)(t=[t,e,r,i,o,a,s,u]);var c=b.apply(null,t);return S(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},k=function(t,e,r,n,i,o,a,s,u){var c=1-u,h=Math.pow(c,3),f=Math.pow(c,2),l=uu,d=lu,p=t+2u(r-t)+l(i-2r+t),g=e+2u(n-e)+l(o-2n+e),v=r+2u(i-r)+l(a-2i+r),y=n+2u(o-n)+l(s-2o+n);return{xht+3fur+3cuui+da,yhe+3fun+3cuuo+ds,m{xp,yg},n{xv,yy},start{xct+ur,yce+un},end{xci+ua,yco+us},alpha90-180Math.atan2(p-v,g-y)Math.PI}},O=function(t,e,r){if(!function(t,e){return t=S(t),e=S(e),w(e,t.x,t.y)w(e,t.x2,t.y)w(e,t.x,t.y2)w(e,t.x2,t.y2)w(t,e.x,e.y)w(t,e.x2,e.y)w(t,e.x,e.y2)w(t,e.x2,e.y2)(t.xe.x2&&t.xe.xe.xt.x2&&e.xt.x)&&(t.ye.y2&&t.ye.ye.yt.y2&&e.yt.y)}(_(t),_(e)))return r0[];for(var n=~~(m.apply(0,t)8),i=~~(m.apply(0,e)8),o=[],a=[],s={},u=r0[],c=0;cn+1;c++){var h=k.apply(0,t.concat(cn));o.push({xh.x,yh.y,tcn})}for(c=0;ci+1;c++){h=k.apply(0,e.concat(ci));a.push({xh.x,yh.y,tci})}for(c=0;cn;c++)for(var f=0;fi;f++){var l=o[c],d=o[c+1],p=a[f],g=a[f+1],v=Math.abs(d.x-l.x).001yx,y=Math.abs(g.x-p.x).001yx,b=x(l.x,l.y,d.x,d.y,p.x,p.y,g.x,g.y);if(b){if(s[b.x.toFixed(4)]===b.y.toFixed(4))continue;s[b.x.toFixed(4)]=b.y.toFixed(4);var M=l.t+Math.abs((b[v]-l[v])(d[v]-l[v]))(d.t-l.t),O=p.t+Math.abs((b[y]-p[y])(g[y]-p[y]))(g.t-p.t);M=0&&M=1&&O=0&&O=1&&(ru+=1u.push({xb.x,yb.y,t1M,t2O}))}}return u},E=function(t,e){return function(t,e,r){var n,i,o,a,s,u,c,h,f,l;t=p(t),e=p(e);for(var d=r0[],g=0,v=t.length;gv;g++){var y=t[g];if(M===y[0])n=s=y[1],i=u=y[2];else{C===y[0](f=[n,i].concat(y.slice(1)),n=f[6],i=f[7])(f=[n,i,n,i,s,u,s,u],n=s,i=u);for(var m=0,b=e.length;mb;m++){var x=e[m];if(M===x[0])o=c=x[1],a=h=x[2];else{C===x[0](l=[o,a].concat(x.slice(1)),o=l[6],a=l[7])(l=[o,a,o,a,c,h,c,h],o=c,a=h);var w=O(f,l,r);if(r)d+=w;else{for(var M=0,S=w.length;MS;M++)w[M].segment1=g,w[M].segment2=m,w[M].bez1=f,w[M].bez2=l;d=d.concat(w)}}}}}return d}(t,e)};function j(t,e){var r=[],n=[];return t.length&&function t(e,i){if(1===e.length)r.push(e[0]),n.push(e[0]);else{for(var o=[],a=0;ae.length-1;a++)0===a&&r.push(e[0]),a===e.length-2&&n.push(e[a+1]),o[a]=[(1-i)e[a][0]+ie[a+1][0],(1-i)e[a][1]+ie[a+1][1]];t(o,i)}}(t,e),{leftr,rightn.reverse()}}var C=function(t,e,r){if(1===r)return[[].concat(t)];var n=[];if(L===e[0]C===e[0]Q===e[0])n=n.concat(function(t,e,r){var n=[[t[1],t[2]]];r=r2;var i=[];A===e[0](n.push(e[6]),n.push(e[7]))C===e[0](n.push([e[1],e[2]]),n.push([e[3],e[4]]),n.push([e[5],e[6]]))S===e[0]Q===e[0](n.push([e[1],e[2]]),n.push([e[3],e[4]]))n.push([e[1],e[2]]);for(var o=n,a=1r,s=0;sr-1;s++){var u=j(o,a(1-as));i.push(u.left),o=u.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push(C),e=e.concat(t[2])),t.length=3&&(3===t.length&&e.push(Q),e=e.concat(t[1])),2===t.length&&e.push(L),e=e.concat(t[t.length-1])}))}(t,e,r));else{var i=[].concat(t);M===i[0]&&(i[0]=L);for(var o=0;o=r-1;o++)n.push(i)}return n},A=function(t,e){if(1===t.length)return t;var r=t.length-1,n=e.length-1,i=rn,o=[];if(1===t.length&&M===t[0][0]){for(var a=0;an-r;a++)t.push(t[0]);return t}for(a=0;an;a++){var s=Math.floor(ia);o[s]=(o[s]0)+1}var u=o.reduce((function(e,n,i){return i===re.concat(t[r])e.concat(C(t[i],t[i+1],n))}),[]);return u.unshift(t[0]),Z!==e[n]&&z!==e[n]u.push(Z),u},P=function(t,e){if(t.length!==e.length)return!1;var r=!0;return Object(n.each)(t,(function(t,n){if(t!==e[n])return r=!1,!1})),r};function I(t,e,r){var n=null,i=r;return ei&&(i=e,n=add),ti&&(i=t,n=del),{typen,mini}}var T=function(t,e){var r=function(t,e){var r,n,i=t.length,o=e.length,a=0;if(0===i0===o)return null;for(var s=[],u=0;u=i;u++)s[u]=[],s[u][0]={minu};for(var c=0;c=o;c++)s[0][c]={minc};for(u=1;u=i;u++){r=t[u-1];for(c=1;c=o;c++){n=e[c-1],a=P(r,n)01;var h=s[u-1][c].min+1,f=s[u][c-1].min+1,l=s[u-1][c-1].min+a;s[u][c]=I(h,f,l)}}return s}(t,e),n=t.length,i=e.length,o=[],a=1,s=1;if(r[n][i].min!==n){for(var u=1;u=n;u++){var c=r[u][u].min;s=u;for(var h=a;h=i;h++)r[u][h].minc&&(c=r[u][h].min,s=h);a=s,r[u][a].type&&o.push({indexu-1,typer[u][a].type})}for(u=o.length-1;u=0;u--)a=o[u].index,add===o[u].typet.splice(a,0,[].concat(t[a]))t.splice(a,1)}var f=i-(n=t.length);if(ni)for(u=0;uf;u++)z===t[n-1][0]Z===t[n-1][0]t.splice(n-2,0,t[n-2])t.push(t[n-1]),n+=1;return t};function N(t,e,r){for(var n,i=[].concat(t),o=1(r+1),a=D(e)[0],s=1;s=r;s++)o=s,0===(n=Math.floor(t.lengtho))i.unshift([a[0]o+t[n][0](1-o),a[1]o+t[n][1](1-o)])i.splice(n,0,[a[0]o+t[n][0](1-o),a[1]o+t[n][1](1-o)]);return i}function D(t){var e=[];switch(t[0]){caseMcaseLe.push([t[1],t[2]]);break;caseAe.push([t[6],t[7]]);break;caseQe.push([t[3],t[4]]),e.push([t[1],t[2]]);break;caseTe.push([t[1],t[2]]);break;caseCe.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;caseSe.push([t[3],t[4]]),e.push([t[1],t[2]]);break;caseHcaseVe.push([t[1],t[1]])}return e}var B=function(t,e){if(t.length=1)return t;for(var r,n=0;ne.length;n++)if(t[n][0]!==e[n][0])switch(r=D(t[n]),e[n][0]){caseMt[n]=[M].concat(r[0]);break;caseLt[n]=[L].concat(r[0]);break;caseAt[n]=[].concat(e[n]),t[n][6]=r[0][0],t[n][7]=r[0][1];break;caseQif(r.length2){if(!(n0)){t[n]=e[n];break}r=N(r,t[n-1],1)}t[n]=[Q].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;caseTt[n]=[T].concat(r[0]);break;caseCif(r.length3){if(!(n0)){t[n]=e[n];break}r=N(r,t[n-1],2)}t[n]=[C].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;caseSif(r.length2){if(!(n0)){t[n]=e[n];break}r=N(r,t[n-1],1)}t[n]=[S].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;defaultt[n]=e[n]}return t}},function(t,e,r){var n=r(62),i=r(116);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=r(430),o=r(440),a=r(47),s=r(15),u=r(447);t.exports=function(t){returnfunction==typeof ttnull==taobject==n(t)s(t)o(t[0],t[1])i(t)u(t)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(33),i=r(105);e.default={boxfunction(t,e,r,i){return n.getBBoxByArray([t,r],[e,i])},lengthfunction(t,e,r,i){return n.distance(t,e,r,i)},pointAtfunction(t,e,r,n,i){return{x(1-i)t+ir,y(1-i)e+in}},pointDistancefunction(t,e,r,i,o,a){var s=(r-t)(o-t)+(i-e)(a-e);return s0n.distance(t,e,o,a)s(r-t)(r-t)+(i-e)(i-e)n.distance(r,i,o,a)this.pointToLine(t,e,r,i,o,a)},pointToLinefunction(t,e,r,n,o,a){var s=[r-t,n-e];if(i.exactEquals(s,[0,0]))return Math.sqrt((o-t)(o-t)+(a-e)(a-e));var u=[-s[1],s[0]];i.normalize(u,u);var c=[o-t,a-e];return Math.abs(i.dot(c,u))},tangentAnglefunction(t,e,r,n){return Math.atan2(n-e,r-t)}}},function(t,e,r){var n=r(177),i=r(118),o=r(38);t.exports=function(t){return o(t)n(t)i(t)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(43),o=r(19),a=r(109),s=r(61),u=r(29),c=r(110),h=r(171),f=r(362),l=function(t){function e(e){return t.call(this,n.__assign(n.__assign({},e),{autoDraw!0,renderersvg}))this}return n.__extends(e,t),e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return h.default},e.prototype.getShape=function(t,e,r){var n=r.targetr.srcElement;if(!o.SHAPE_TO_TAGS[n.tagName]){for(var i=n.parentNode;i&&!o.SHAPE_TO_TAGS[i.tagName];)i=i.parentNode;n=i}return this.find((function(t){return t.get(el)===n}))},e.prototype.createDom=function(){var t=u.createSVGElement(svg),e=new f.default(t);return t.setAttribute(width,+this.get(width)),t.setAttribute(height,+this.get(height)),this.set(context,e),t},e.prototype.onCanvasChange=function(t){var e=this.get(context),r=this.get(el);if(sort===t){var n=this.get(children);n&&n.length&&u.sortDom(this,(function(t,e){return n.indexOf(t)-n.indexOf(e)10}))}else if(clear===t){if(r){r.innerHTML=;var i=e.el;i.innerHTML=,r.appendChild(i)}}elsematrix===ts.setTransform(this)clip===ts.setClip(this,e)changeSize===t&&(r.setAttribute(width,+this.get(width)),r.setAttribute(height,+this.get(height)))},e.prototype.draw=function(){var t=this.get(context),e=this.getChildren();s.setClip(this,t),e.length&&a.drawChildren(t,e)},e}(i.AbstractCanvas);e.default=l},function(t,e,r){use strict;r.r(e),r.d(e,version,(function(){return l}));var n=r(37);r.d(e,PathUtil,(function(){return n}));var i=r(150);for(var o in i)[default,version,Event,Base,AbstractCanvas,AbstractGroup,AbstractShape,PathUtil].indexOf(o)0&&function(t){r.d(e,t,(function(){return i[t]}))}(o);var a=r(151);for(var o in a)[default,version,Event,Base,AbstractCanvas,AbstractGroup,AbstractShape,PathUtil].indexOf(o)0&&function(t){r.d(e,t,(function(){return a[t]}))}(o);var s=r(96);r.d(e,Event,(function(){return s.a}));var u=r(97);r.d(e,Base,(function(){return u.a}));var c=r(228);r.d(e,AbstractCanvas,(function(){return c.a}));var h=r(153);r.d(e,AbstractGroup,(function(){return h.a}));var f=r(154);r.d(e,AbstractShape,(function(){return f.a}));var l=r(318).version},function(t,e,r){var n=r(384),i=r(390);t.exports=function(t,e){var r=i(t,e);return n(r)rvoid 0}},function(t,e,r){var n=r(52),i=r(386),o=r(387),a=nn.toStringTagvoid 0;t.exports=function(t){return null==tvoid 0===t[object Undefined][object Null]a&&a in Object(t)i(t)o(t)}},function(t,e,r){var n=r(177),i=r(410),o=r(38);t.exports=function(t){return o(t)n(t,!0)i(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,r){var n=r(0).mix;t.exports={assignn}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(59);e.default=function(t){var e=n.default(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t,e){if(t[_wrap_+e])return t[_wrap_+e];var r=function(r){t[e](r)};return t[_wrap_+e]=r,r}},function(t,e){t.exports=function(t,e){return t===et!=t&&e!=e}},function(t,e,r){var n=r(31).Symbol;t.exports=n},function(t,e,r){(function(t){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=r(31),o=r(406),a=object==n(e)&&e&&!e.nodeType&&e,s=a&&object==n(t)&&t&&!t.nodeType&&t,u=s&&s.exports===ai.Buffervoid 0,c=(uu.isBuffervoid 0)o;t.exports=c}).call(this,r(115)(t))},function(t,e,r){var n=r(415),i=r(112),o=r(416),a=r(186),s=r(417),u=r(45),c=r(175),h=c(n),f=c(i),l=c(o),d=c(a),p=c(s),g=u;(n&&[object DataView]!=g(new n(new ArrayBuffer(1)))i&&[object Map]!=g(new i)o&&[object Promise]!=g(o.resolve())a&&[object Set]!=g(new a)s&&[object WeakMap]!=g(new s))&&(g=function(t){var e=u(t),r=[object Object]==et.constructorvoid 0,n=rc(r);if(n)switch(n){case hreturn[object DataView];case freturn[object Map];case lreturn[object Promise];case dreturn[object Set];case preturn[object WeakMap]}return e}),t.exports=g},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=r(45),o=r(34);t.exports=function(t){returnsymbol==n(t)o(t)&&[object Symbol]==i(t)}},function(t,e){var r=[],n=[];function i(t,e){if(e=e{},void 0===t)throw new Error(insert-css You need to provide a CSS string. Usage insertCss(cssString[, options]).);var i,o=!0===e.prependprependappend,a=void 0!==e.containere.containerdocument.querySelector(head),s=r.indexOf(a);return-1===s&&(s=r.push(a)-1,n[s]={}),void 0!==n[s]&&void 0!==n[s][o]i=n[s][o](i=n[s][o]=function(){var t=document.createElement(style);return t.setAttribute(type,textcss),t}(),prepend===oa.insertBefore(i,a.childNodes[0])a.appendChild(i)),65279===t.charCodeAt(0)&&(t=t.substr(1,t.length)),i.styleSheeti.styleSheet.cssText+=ti.textContent+=t,i}t.exports=i,t.exports.insertCss=i},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t,e,r){if(t){if(function==typeof t.addEventListener)return t.addEventListener(e,r,!1),{removefunction(){t.removeEventListener(e,r,!1)}};if(function==typeof t.attachEvent)return t.attachEvent(on+e,r),{removefunction(){t.detachEvent(on+e,r)}}}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(102),i=r(27);e.default=function(t){if(!n.default(t)!i.default(t,Object))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(10);e.default=function(t){return n.default(t)t.toString()}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.mergeView=e.getMergedRegion=e.getRefreshRegion=e.refreshElement=e.drawPath=e.clearChanged=e.checkChildrenRefresh=e.checkRefresh=e.drawChildren=e.applyAttrsToContext=void 0;var n=r(0),i=r(156),o=r(321),a=r(18),s=r(74),u={fillfillStyle,strokestrokeStyle,opacityglobalAlpha};function c(t,e){for(var r=0;rt.length;r++){var n=t[r];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&h(n.cfg.children,e);else if(n.cfg.refresh)n.isGroup()&&c(n.cfg.children,e);else{var i=f(n,e);n.cfg.refresh=i,i&&n.isGroup()&&c(n.cfg.children,e)}}}function h(t,e){for(var r=0;rt.length;r++){var n=t[r];n.cfg.refresh=!0,n.isGroup()&&h(n.get(children),e)}}function f(t,e){var r=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&r&&a.intersectRect(r,e)}function l(t){var e;if(t.destroyed)e=t._cacheCanvasBBox;else{var r=t.get(cacheCanvasBBox),n=r&&!(!r.width!r.height),i=t.getCanvasBBox(),o=i&&!(!i.width!i.height);n&&oe=a.mergeRegion(r,i)ne=ro&&(e=i)}return e}e.applyAttrsToContext=function(t,e){var r=e.attr();for(var o in r){var a=r[o],s=u[o]u[o]o;matrix===s&&at.transform(a[0],a[1],a[3],a[4],a[6],a[7])lineDash===s&&t.setLineDashn.isArray(a)&&t.setLineDash(a)(strokeStyle===sfillStyle===sa=i.parseStyle(t,e,a)globalAlpha===s&&(a=t.globalAlpha),t[s]=a)}},e.drawChildren=function(t,e,r){for(var n=0;ne.length;n++){var i=e[n];i.cfg.visiblei.draw(t,r)i.skipDraw()}},e.checkRefresh=function(t,e,r){var i=t.get(refreshElements);n.each(i,(function(e){if(e!==t)for(var r=e.cfg.parent;r&&r!==t&&!r.cfg.refresh;)r.cfg.refresh=!0,r=r.cfg.parent})),i[0]===th(e,r)c(e,r)},e.checkChildrenRefresh=c,e.clearChanged=function t(e){for(var r=0;re.length;r++){var n=e[r];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&t(n.cfg.children)}},e.drawPath=function(t,e,r,n){var i=r.path,a=r.startArrow,u=r.endArrow,c=[0,0],h=[0,0],f={dx0,dy0};e.beginPath();for(var l=0;li.length;l++){var d=i[l],p=d[0];if(0===l&&a&&a.d){var g=t.getStartTangent();f=s.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}else if(l===i.length-2&&Z===i[l+1][0]&&u&&u.d){if(Z===i[l+1][0]){g=t.getEndTangent();f=s.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],u.d)}}else if(l===i.length-1&&u&&u.d&&Z!==i[0]){g=t.getEndTangent();f=s.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],u.d)}var v=f.dx,y=f.dy;switch(p){caseMe.moveTo(d[1]-v,d[2]-y),h=[d[1],d[2]];break;caseLe.lineTo(d[1]-v,d[2]-y);break;caseQe.quadraticCurveTo(d[1],d[2],d[3]-v,d[4]-y);break;caseCe.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-v,d[6]-y);break;caseAvar m=void 0;n(m=n[l])(m=o.default(c,d),n[l]=m)m=o.default(c,d);var b=m.cx,x=m.cy,w=m.rx,M=m.ry,S=m.startAngle,_=m.endAngle,k=m.xRotation,O=m.sweepFlag;if(e.ellipse)e.ellipse(b,x,w,M,k,S,_,1-O);else{var E=wMwM,j=wM1wM,C=wMMw1;e.translate(b,x),e.rotate(k),e.scale(j,C),e.arc(0,0,E,S,_,1-O),e.scale(1j,1C),e.rotate(-k),e.translate(-b,-x)}break;caseZe.closePath()}if(Z===p)c=h;else{var A=d.length;c=[d[A-2],d[A-1]]}}},e.refreshElement=function(t,e){var r=t.get(canvas);r&&(remove===e&&(t._cacheCanvasBBox=t.get(cacheCanvasBBox)),t.get(hasChanged)(t.set(hasChanged,!0),t.cfg.parent&&t.cfg.parent.get(hasChanged)(r.refreshElement(t,e,r),r.get(autoDraw)&&r.draw())))},e.getRefreshRegion=l,e.getMergedRegion=function(t){if(!t.length)return null;var e=[],r=[],i=[],o=[];return n.each(t,(function(t){var n=l(t);n&&(e.push(n.minX),r.push(n.minY),i.push(n.maxX),o.push(n.maxY))})),{minXMath.min.apply(null,e),minYMath.min.apply(null,r),maxXMath.max.apply(null,i),maxYMath.max.apply(null,o)}},e.mergeView=function(t,e){return t&&e&&a.intersectRect(t,e){minXMath.max(t.minX,e.minX),minYMath.max(t.minY,e.minY),maxXMath.min(t.maxX,e.maxX),maxYMath.min(t.maxY,e.maxY)}null}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.setClip=e.setTransform=e.setShadow=void 0;var n=r(29);e.setShadow=function(t,e){var r=t.cfg.el,n=t.attr(),i={dxn.shadowOffsetX,dyn.shadowOffsetY,blurn.shadowBlur,colorn.shadowColor};if(i.dxi.dyi.bluri.color){var o=e.find(filter,i);o(o=e.addShadow(i)),r.setAttribute(filter,url(#+o+))}else r.removeAttribute(filter)},e.setTransform=function(t){var e=t.attr().matrix;if(e){for(var r=t.cfg.el,n=[],i=0;i9;i+=3)n.push(e[i]+,+e[i+1]);-1===(n=n.join(,)).indexOf(NaN)r.setAttribute(transform,matrix(+n+))console.warn(invalid matrix,e)}},e.setClip=function(t,e){var r=t.getClip(),i=t.get(el);if(r){if(r&&!i.hasAttribute(clip-path)){n.createDom(r),r.createPath(e);var o=e.addClip(r);i.setAttribute(clip-path,url(#+o+))}}else i.removeAttribute(clip-path)}},function(t,e,r){var n=r(45),i=r(25);t.exports=function(t){if(!i(t))return!1;var e=n(t);return[object Function]==e[object GeneratorFunction]==e[object AsyncFunction]==e[object Proxy]==e}},function(t,e,r){var n=r(81),i=r(82);t.exports=function(t,e,r,o){var a=!r;r(r={});for(var s=-1,u=e.length;++su;){var c=e[s],h=oo(r[c],t[c],c,r,t)void 0;void 0===h&&(h=t[c]),ai(r,c,h)n(r,c,h)}return r}},function(t,e,r){var n=r(405),i=r(34),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())nfunction(t){return i(t)&&a.call(t,callee)&&!s.call(t,callee)};t.exports=u},function(t,e,r){var n=r(407),i=r(84),o=r(117),a=o&&o.isTypedArray,s=ai(a)n;t.exports=s},function(t,e,r){var n=r(55);t.exports=function(t){if(string==typeof tn(t))return t;var e=t+;return0==e&&1t==-10-0e}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t,e){return(t%e+e)%e}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=Math.PI180;e.default=function(t){return nt}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4),i=r(14),o=Object.prototype.hasOwnProperty;e.default=function(t,e){if(!e!n.default(t))return{};for(var r,a={},s=i.default(e)efunction(t){return t[e]},u=0;ut.length;u++){var c=t[u];r=s(c),o.call(a,r)a[r].push(c)a[r]=[c]}return a}},function(t,e,r){use strict;function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=r(311),o=r(315),a=[].slice,s=[keyword,gray,hex],u={};Object.keys(o).forEach((function(t){u[a.call(o[t].labels).sort().join()]=t}));var c={};function h(t,e){if(!(this instanceof h))return new h(t,e);if(e&&e in s&&(e=null),e&&!(e in o))throw new Error(Unknown model +e);var r,n;if(null==t)this.model=rgb,this.color=[0,0,0],this.valpha=1;else if(t instanceof h)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(string==typeof t){var f=i.get(t);if(null===f)throw new Error(Unable to parse color from string +t);this.model=f.model,n=o[this.model].channels,this.color=f.value.slice(0,n),this.valpha=number==typeof f.value[n]f.value[n]1}else if(t.length){this.model=ergb,n=o[this.model].channels;var l=a.call(t,0,n);this.color=p(l,n),this.valpha=number==typeof t[n]t[n]1}else if(number==typeof t)t&=16777215,this.model=rgb,this.color=[t16&255,t8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);alphain t&&(d.splice(d.indexOf(alpha),1),this.valpha=number==typeof t.alphat.alpha0);var g=d.sort().join();if(!(g in u))throw new Error(Unable to parse color from object +JSON.stringify(t));this.model=u[g];var v=o[this.model].labels,y=[];for(r=0;rv.length;r++)y.push(t[v[r]]);this.color=p(y)}if(c[this.model])for(n=o[this.model].channels,r=0;rn;r++){var m=c[this.model][r];m&&(this.color[r]=m(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function f(t,e,r){return(t=Array.isArray(t)t[t]).forEach((function(t){(c[t](c[t]=[]))[e]=r})),t=t[0],function(n){var i;return arguments.length(r&&(n=r(n)),(i=this[t]()).color[e]=n,i)(i=this[t]().color[e],r&&(i=r(i)),i)}}function l(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t){return Array.isArray(t)t[t]}function p(t,e){for(var r=0;re;r++)number!=typeof t[r]&&(t[r]=0);return t}h.prototype={toStringfunction(){return this.string()},toJSONfunction(){return this[this.model]()},stringfunction(t){var e=this.model in i.tothisthis.rgb(),r=1===(e=e.round(number==typeof tt1)).valphae.colore.color.concat(this.valpha);return i.to[e.model](r)},percentStringfunction(t){var e=this.rgb().round(number==typeof tt1),r=1===e.valphae.colore.color.concat(this.valpha);return i.to.rgb.percent(r)},arrayfunction(){return 1===this.valphathis.color.slice()this.color.concat(this.valpha)},objectfunction(){for(var t={},e=o[this.model].channels,r=o[this.model].labels,n=0;ne;n++)t[r[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArrayfunction(){var t=this.rgb().color;return t[0]=255,t[1]=255,t[2]=255,1!==this.valpha&&t.push(this.valpha),t},unitObjectfunction(){var t=this.rgb().object();return t.r=255,t.g=255,t.b=255,1!==this.valpha&&(t.alpha=this.valpha),t},roundfunction(t){return t=Math.max(t0,0),new h(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alphafunction(t){return arguments.lengthnew h(this.color.concat(Math.max(0,Math.min(1,t))),this.model)this.valpha},redf(rgb,0,l(255)),greenf(rgb,1,l(255)),bluef(rgb,2,l(255)),huef([hsl,hsv,hsl,hwb,hcg],0,(function(t){return(t%360+360)%360})),saturationlf(hsl,1,l(100)),lightnessf(hsl,2,l(100)),saturationvf(hsv,1,l(100)),valuef(hsv,2,l(100)),chromaf(hcg,1,l(100)),grayf(hcg,2,l(100)),whitef(hwb,1,l(100)),wblackf(hwb,2,l(100)),cyanf(cmyk,0,l(100)),magentaf(cmyk,1,l(100)),yellowf(cmyk,2,l(100)),blackf(cmyk,3,l(100)),xf(xyz,0,l(100)),yf(xyz,1,l(100)),zf(xyz,2,l(100)),lf(lab,0,l(100)),af(lab,1),bf(lab,2),keywordfunction(t){return arguments.lengthnew h(t)o[this.model].keyword(this.color)},hexfunction(t){return arguments.lengthnew h(t)i.to.hex(this.rgb().round().color)},rgbNumberfunction(){var t=this.rgb().color;return(255&t[0])16(255&t[1])8255&t[2]},luminosityfunction(){for(var t=this.rgb().color,e=[],r=0;rt.length;r++){var n=t[r]255;e[r]=n=.03928n12.92Math.pow((n+.055)1.055,2.4)}return.2126e[0]+.7152e[1]+.0722e[2]},contrastfunction(t){var e=this.luminosity(),r=t.luminosity();return er(e+.05)(r+.05)(r+.05)(e+.05)},levelfunction(t){var e=this.contrast(t);return e=7.1AAAe=4.5AA},isDarkfunction(){var t=this.rgb().color;return(299t[0]+587t[1]+114t[2])1e3128},isLightfunction(){return!this.isDark()},negatefunction(){for(var t=this.rgb(),e=0;e3;e++)t.color[e]=255-t.color[e];return t},lightenfunction(t){var e=this.hsl();return e.color[2]+=e.color[2]t,e},darkenfunction(t){var e=this.hsl();return e.color[2]-=e.color[2]t,e},saturatefunction(t){var e=this.hsl();return e.color[1]+=e.color[1]t,e},desaturatefunction(t){var e=this.hsl();return e.color[1]-=e.color[1]t,e},whitenfunction(t){var e=this.hwb();return e.color[1]+=e.color[1]t,e},blackenfunction(t){var e=this.hwb();return e.color[2]+=e.color[2]t,e},grayscalefunction(){var t=this.rgb().color,e=.3t[0]+.59t[1]+.11t[2];return h.rgb(e,e,e)},fadefunction(t){return this.alpha(this.valpha-this.valphat)},opaquerfunction(t){return this.alpha(this.valpha+this.valphat)},rotatefunction(t){var e=this.hsl(),r=e.color[0];return r=(r=(r+t)%360)0360+rr,e.color[0]=r,e},mixfunction(t,e){if(!t!t.rgb)throw new Error('Argument to mix was not a Color instance, but rather an instance of '+n(t));var r=t.rgb(),i=this.rgb(),o=void 0===e.5e,a=2o-1,s=r.alpha()-i.alpha(),u=((as==-1a(a+s)(1+as))+1)2,c=1-u;return h.rgb(ur.red()+ci.red(),ur.green()+ci.green(),ur.blue()+ci.blue(),r.alpha()o+i.alpha()(1-o))}},Object.keys(o).forEach((function(t){if(-1===s.indexOf(t)){var e=o[t].channels;h.prototype[t]=function(){if(this.model===t)return new h(this);if(arguments.length)return new h(arguments,t);var r=number==typeof arguments[e]ethis.valpha;return new h(d(o[this.model][t].raw(this.color)).concat(r),t)},h[t]=function(r){returnnumber==typeof r&&(r=p(a.call(arguments),e)),new h(r,t)}}})),t.exports=h},function(t,e,r){var n;function i(t){return(i=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}!function(o){var a=^s+,s=s+$,u=0,c=o.round,h=o.min,f=o.max,l=o.random;function d(t,e){if(e=e{},(t=t)instanceof d)return t;if(!(this instanceof d))return new d(t,e);var r=function(t){var e={r0,g0,b0},r=1,n=null,u=null,c=null,l=!1,d=!1;string==typeof t&&(t=function(t){t=t.replace(a,).replace(s,).toLowerCase();var e,r=!1;if(P[t])t=P[t],r=!0;else if(transparent==t)return{r0,g0,b0,a0,formatname};if(e=X.rgb.exec(t))return{re[1],ge[2],be[3]};if(e=X.rgba.exec(t))return{re[1],ge[2],be[3],ae[4]};if(e=X.hsl.exec(t))return{he[1],se[2],le[3]};if(e=X.hsla.exec(t))return{he[1],se[2],le[3],ae[4]};if(e=X.hsv.exec(t))return{he[1],se[2],ve[3]};if(e=X.hsva.exec(t))return{he[1],se[2],ve[3],ae[4]};if(e=X.hex8.exec(t))return{rB(e[1]),gB(e[2]),bB(e[3]),aF(e[4]),formatrnamehex8};if(e=X.hex6.exec(t))return{rB(e[1]),gB(e[2]),bB(e[3]),formatrnamehex};if(e=X.hex4.exec(t))return{rB(e[1]++e[1]),gB(e[2]++e[2]),bB(e[3]++e[3]),aF(e[4]++e[4]),formatrnamehex8};if(e=X.hex3.exec(t))return{rB(e[1]++e[1]),gB(e[2]++e[2]),bB(e[3]++e[3]),formatrnamehex};return!1}(t));object==i(t)&&(V(t.r)&&V(t.g)&&V(t.b)(p=t.r,g=t.g,v=t.b,e={r255N(p,255),g255N(g,255),b255N(v,255)},l=!0,d=%===String(t.r).substr(-1)prgbrgb)V(t.h)&&V(t.s)&&V(t.v)(n=L(t.s),u=L(t.v),e=function(t,e,r){t=6N(t,360),e=N(e,100),r=N(r,100);var n=o.floor(t),i=t-n,a=r(1-e),s=r(1-ie),u=r(1-(1-i)e),c=n%6;return{r255[r,s,a,a,u,r][c],g255[u,r,r,s,a,a][c],b255[a,a,u,r,r,s][c]}}(t.h,n,u),l=!0,d=hsv)V(t.h)&&V(t.s)&&V(t.l)&&(n=L(t.s),c=L(t.l),e=function(t,e,r){var n,i,o;function a(t,e,r){return r0&&(r+=1),r1&&(r-=1),r16t+6(e-t)rr.5er23t+(e-t)(23-r)6t}if(t=N(t,360),e=N(e,100),r=N(r,100),0===e)n=i=o=r;else{var s=r.5r(1+e)r+e-re,u=2r-s;n=a(u,s,t+13),i=a(u,s,t),o=a(u,s,t-13)}return{r255n,g255i,b255o}}(t.h,n,c),l=!0,d=hsl),t.hasOwnProperty(a)&&(r=t.a));var p,g,v;return r=T(r),{okl,formatt.formatd,rh(255,f(e.r,0)),gh(255,f(e.g,0)),bh(255,f(e.b,0)),ar}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=c(100this._a)100,this._format=e.formatr.format,this._gradientType=e.gradientType,this._r1&&(this._r=c(this._r)),this._g1&&(this._g=c(this._g)),this._b1&&(this._b=c(this._b)),this._ok=r.ok,this._tc_id=u++}function p(t,e,r){t=N(t,255),e=N(e,255),r=N(r,255);var n,i,o=f(t,e,r),a=h(t,e,r),s=(o+a)2;if(o==a)n=i=0;else{var u=o-a;switch(i=s.5u(2-o-a)u(o+a),o){case tn=(e-r)u+(er60);break;case en=(r-t)u+2;break;case rn=(t-e)u+4}n=6}return{hn,si,ls}}function g(t,e,r){t=N(t,255),e=N(e,255),r=N(r,255);var n,i,o=f(t,e,r),a=h(t,e,r),s=o,u=o-a;if(i=0===o0uo,o==a)n=0;else{switch(o){case tn=(e-r)u+(er60);break;case en=(r-t)u+2;break;case rn=(t-e)u+4}n=6}return{hn,si,vs}}function v(t,e,r,n){var i=[R(c(t).toString(16)),R(c(e).toString(16)),R(c(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)i.join()}function y(t,e,r,n){return[R(z(n)),R(c(t).toString(16)),R(c(e).toString(16)),R(c(r).toString(16))].join()}function m(t,e){e=0===e0e10;var r=d(t).toHsl();return r.s-=e100,r.s=D(r.s),d(r)}function b(t,e){e=0===e0e10;var r=d(t).toHsl();return r.s+=e100,r.s=D(r.s),d(r)}function x(t){return d(t).desaturate(100)}function w(t,e){e=0===e0e10;var r=d(t).toHsl();return r.l+=e100,r.l=D(r.l),d(r)}function M(t,e){e=0===e0e10;var r=d(t).toRgb();return r.r=f(0,h(255,r.r-c(-e100255))),r.g=f(0,h(255,r.g-c(-e100255))),r.b=f(0,h(255,r.b-c(-e100255))),d(r)}function S(t,e){e=0===e0e10;var r=d(t).toHsl();return r.l-=e100,r.l=D(r.l),d(r)}function _(t,e){var r=d(t).toHsl(),n=(r.h+e)%360;return r.h=n0360+nn,d(r)}function k(t){var e=d(t).toHsl();return e.h=(e.h+180)%360,d(e)}function O(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h(r+120)%360,se.s,le.l}),d({h(r+240)%360,se.s,le.l})]}function E(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h(r+90)%360,se.s,le.l}),d({h(r+180)%360,se.s,le.l}),d({h(r+270)%360,se.s,le.l})]}function j(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h(r+72)%360,se.s,le.l}),d({h(r+216)%360,se.s,le.l})]}function C(t,e,r){e=e6,r=r30;var n=d(t).toHsl(),i=360r,o=[d(t)];for(n.h=(n.h-(ie1)+720)%360;--e;)n.h=(n.h+i)%360,o.push(d(n));return o}function A(t,e){e=e6;for(var r=d(t).toHsv(),n=r.h,i=r.s,o=r.v,a=[],s=1e;e--;)a.push(d({hn,si,vo})),o=(o+s)%1;return a}d.prototype={isDarkfunction(){return this.getBrightness()128},isLightfunction(){return!this.isDark()},isValidfunction(){return this._ok},getOriginalInputfunction(){return this._originalInput},getFormatfunction(){return this._format},getAlphafunction(){return this._a},getBrightnessfunction(){var t=this.toRgb();return(299t.r+587t.g+114t.b)1e3},getLuminancefunction(){var t,e,r,n=this.toRgb();return t=n.r255,e=n.g255,r=n.b255,.2126(t=.03928t12.92o.pow((t+.055)1.055,2.4))+.7152(e=.03928e12.92o.pow((e+.055)1.055,2.4))+.0722(r=.03928r12.92o.pow((r+.055)1.055,2.4))},setAlphafunction(t){return this._a=T(t),this._roundA=c(100this._a)100,this},toHsvfunction(){var t=g(this._r,this._g,this._b);return{h360t.h,st.s,vt.v,athis._a}},toHsvStringfunction(){var t=g(this._r,this._g,this._b),e=c(360t.h),r=c(100t.s),n=c(100t.v);return 1==this._ahsv(+e+, +r+%, +n+%)hsva(+e+, +r+%, +n+%, +this._roundA+)},toHslfunction(){var t=p(this._r,this._g,this._b);return{h360t.h,st.s,lt.l,athis._a}},toHslStringfunction(){var t=p(this._r,this._g,this._b),e=c(360t.h),r=c(100t.s),n=c(100t.l);return 1==this._ahsl(+e+, +r+%, +n+%)hsla(+e+, +r+%, +n+%, +this._roundA+)},toHexfunction(t){return v(this._r,this._g,this._b,t)},toHexStringfunction(t){return#+this.toHex(t)},toHex8function(t){return function(t,e,r,n,i){var o=[R(c(t).toString(16)),R(c(e).toString(16)),R(c(r).toString(16)),R(z(n))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join()}(this._r,this._g,this._b,this._a,t)},toHex8Stringfunction(t){return#+this.toHex8(t)},toRgbfunction(){return{rc(this._r),gc(this._g),bc(this._b),athis._a}},toRgbStringfunction(){return 1==this._argb(+c(this._r)+, +c(this._g)+, +c(this._b)+)rgba(+c(this._r)+, +c(this._g)+, +c(this._b)+, +this._roundA+)},toPercentageRgbfunction(){return{rc(100N(this._r,255))+%,gc(100N(this._g,255))+%,bc(100N(this._b,255))+%,athis._a}},toPercentageRgbStringfunction(){return 1==this._argb(+c(100N(this._r,255))+%, +c(100N(this._g,255))+%, +c(100N(this._b,255))+%)rgba(+c(100N(this._r,255))+%, +c(100N(this._g,255))+%, +c(100N(this._b,255))+%, +this._roundA+)},toNamefunction(){return 0===this._atransparent!(this._a1)&&(I[v(this._r,this._g,this._b,!0)]!1)},toFilterfunction(t){var e=#+y(this._r,this._g,this._b,this._a),r=e,n=this._gradientTypeGradientType = 1, ;if(t){var i=d(t);r=#+y(i._r,i._g,i._b,i._a)}returnprogidDXImageTransform.Microsoft.gradient(+n+startColorstr=+e+,endColorstr=+r+)},toStringfunction(t){var e=!!t;t=tthis._format;var r=!1,n=this._a1&&this._a=0;return e!nhex!==t&&hex6!==t&&hex3!==t&&hex4!==t&&hex8!==t&&name!==t(rgb===t&&(r=this.toRgbString()),prgb===t&&(r=this.toPercentageRgbString()),hex!==t&&hex6!==t(r=this.toHexString()),hex3===t&&(r=this.toHexString(!0)),hex4===t&&(r=this.toHex8String(!0)),hex8===t&&(r=this.toHex8String()),name===t&&(r=this.toName()),hsl===t&&(r=this.toHslString()),hsv===t&&(r=this.toHsvString()),rthis.toHexString())name===t&&0===this._athis.toName()this.toRgbString()},clonefunction(){return d(this.toString())},_applyModificationfunction(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lightenfunction(){return this._applyModification(w,arguments)},brightenfunction(){return this._applyModification(M,arguments)},darkenfunction(){return this._applyModification(S,arguments)},desaturatefunction(){return this._applyModification(m,arguments)},saturatefunction(){return this._applyModification(b,arguments)},greyscalefunction(){return this._applyModification(x,arguments)},spinfunction(){return this._applyModification(_,arguments)},_applyCombinationfunction(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogousfunction(){return this._applyCombination(C,arguments)},complementfunction(){return this._applyCombination(k,arguments)},monochromaticfunction(){return this._applyCombination(A,arguments)},splitcomplementfunction(){return this._applyCombination(j,arguments)},triadfunction(){return this._applyCombination(O,arguments)},tetradfunction(){return this._applyCombination(E,arguments)}},d.fromRatio=function(t,e){if(object==i(t)){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=a===nt[n]L(t[n]));t=r}return d(t,e)},d.equals=function(t,e){return!(!t!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({rl(),gl(),bl()})},d.mix=function(t,e,r){r=0===r0r50;var n=d(t).toRgb(),i=d(e).toRgb(),o=r100;return d({r(i.r-n.r)o+n.r,g(i.g-n.g)o+n.g,b(i.b-n.b)o+n.b,a(i.a-n.a)o+n.a})},d.readability=function(t,e){var r=d(t),n=d(e);return(o.max(r.getLuminance(),n.getLuminance())+.05)(o.min(r.getLuminance(),n.getLuminance())+.05)},d.isReadable=function(t,e,r){var n,i,o=d.readability(t,e);switch(i=!1,(n=function(t){var e,r;e=((t=t{levelAA,sizesmall}).levelAA).toUpperCase(),r=(t.sizesmall).toLowerCase(),AA!==e&&AAA!==e&&(e=AA);small!==r&&large!==r&&(r=small);return{levele,sizer}}(r)).level+n.size){caseAAsmallcaseAAAlargei=o=4.5;break;caseAAlargei=o=3;break;caseAAAsmalli=o=7}return i},d.mostReadable=function(t,e,r){var n,i,o,a,s=null,u=0;i=(r=r{}).includeFallbackColors,o=r.level,a=r.size;for(var c=0;ce.length;c++)(n=d.readability(t,e[c]))u&&(u=n,s=d(e[c]));return d.isReadable(t,s,{levelo,sizea})!is(r.includeFallbackColors=!1,d.mostReadable(t,[#fff,#000],r))};var P=d.names={alicebluef0f8ff,antiquewhitefaebd7,aqua0ff,aquamarine7fffd4,azuref0ffff,beigef5f5dc,bisqueffe4c4,black000,blanchedalmondffebcd,blue00f,blueviolet8a2be2,browna52a2a,burlywooddeb887,burntsiennaea7e5d,cadetblue5f9ea0,chartreuse7fff00,chocolated2691e,coralff7f50,cornflowerblue6495ed,cornsilkfff8dc,crimsondc143c,cyan0ff,darkblue00008b,darkcyan008b8b,darkgoldenrodb8860b,darkgraya9a9a9,darkgreen006400,darkgreya9a9a9,darkkhakibdb76b,darkmagenta8b008b,darkolivegreen556b2f,darkorangeff8c00,darkorchid9932cc,darkred8b0000,darksalmone9967a,darkseagreen8fbc8f,darkslateblue483d8b,darkslategray2f4f4f,darkslategrey2f4f4f,darkturquoise00ced1,darkviolet9400d3,deeppinkff1493,deepskyblue00bfff,dimgray696969,dimgrey696969,dodgerblue1e90ff,firebrickb22222,floralwhitefffaf0,forestgreen228b22,fuchsiaf0f,gainsborodcdcdc,ghostwhitef8f8ff,goldffd700,goldenroddaa520,gray808080,green008000,greenyellowadff2f,grey808080,honeydewf0fff0,hotpinkff69b4,indianredcd5c5c,indigo4b0082,ivoryfffff0,khakif0e68c,lavendere6e6fa,lavenderblushfff0f5,lawngreen7cfc00,lemonchiffonfffacd,lightblueadd8e6,lightcoralf08080,lightcyane0ffff,lightgoldenrodyellowfafad2,lightgrayd3d3d3,lightgreen90ee90,lightgreyd3d3d3,lightpinkffb6c1,lightsalmonffa07a,lightseagreen20b2aa,lightskyblue87cefa,lightslategray789,lightslategrey789,lightsteelblueb0c4de,lightyellowffffe0,lime0f0,limegreen32cd32,linenfaf0e6,magentaf0f,maroon800000,mediumaquamarine66cdaa,mediumblue0000cd,mediumorchidba55d3,mediumpurple9370db,mediumseagreen3cb371,mediumslateblue7b68ee,mediumspringgreen00fa9a,mediumturquoise48d1cc,mediumvioletredc71585,midnightblue191970,mintcreamf5fffa,mistyroseffe4e1,moccasinffe4b5,navajowhiteffdead,navy000080,oldlacefdf5e6,olive808000,olivedrab6b8e23,orangeffa500,orangeredff4500,orchidda70d6,palegoldenrodeee8aa,palegreen98fb98,paleturquoiseafeeee,palevioletreddb7093,papayawhipffefd5,peachpuffffdab9,perucd853f,pinkffc0cb,plumdda0dd,powderblueb0e0e6,purple800080,rebeccapurple663399,redf00,rosybrownbc8f8f,royalblue4169e1,saddlebrown8b4513,salmonfa8072,sandybrownf4a460,seagreen2e8b57,seashellfff5ee,siennaa0522d,silverc0c0c0,skyblue87ceeb,slateblue6a5acd,slategray708090,slategrey708090,snowfffafa,springgreen00ff7f,steelblue4682b4,tand2b48c,teal008080,thistled8bfd8,tomatoff6347,turquoise40e0d0,violetee82ee,wheatf5deb3,whitefff,whitesmokef5f5f5,yellowff0,yellowgreen9acd32},I=d.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(P);function T(t){return t=parseFloat(t),(isNaN(t)t0t1)&&(t=1),t}function N(t,e){(function(t){returnstring==typeof t&&-1!=t.indexOf(.)&&1===parseFloat(t)})(t)&&(t=100%);var r=function(t){returnstring==typeof t&&-1!=t.indexOf(%)}(t);return t=h(e,f(0,parseFloat(t))),r&&(t=parseInt(te,10)100),o.abs(t-e)1e-61t%eparseFloat(e)}function D(t){return h(1,f(0,t))}function B(t){return parseInt(t,16)}function R(t){return 1==t.length0+t+t}function L(t){return t=1&&(t=100t+%),t}function z(t){return o.round(255parseFloat(t)).toString(16)}function F(t){return B(t)255}var Y,G,q,X=(G=[s(]+(+(Y=([-+]d.d+%)([-+]d+%))+)[,s]+(+Y+)[,s]+(+Y+)s),q=[s(]+(+Y+)[,s]+(+Y+)[,s]+(+Y+)[,s]+(+Y+)s),{CSS_UNITnew RegExp(Y),rgbnew RegExp(rgb+G),rgbanew RegExp(rgba+q),hslnew RegExp(hsl+G),hslanew RegExp(hsla+q),hsvnew RegExp(hsv+G),hsvanew RegExp(hsva+q),hex3^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$,hex6^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$,hex4^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$,hex8^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$});function V(t){return!!X.CSS_UNIT.exec(t)}t.exportst.exports=dvoid 0===(n=function(){return d}.call(e,r,e,t))(t.exports=n)}(Math)},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(21);e.default=function(t,e){return!!n.default(t)&&t.indexOf(e)-1}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(28);Object.defineProperty(e,Base,{enumerable!0,getfunction(){return n.default}});var i=r(334);Object.defineProperty(e,Circle,{enumerable!0,getfunction(){return i.default}});var o=r(335);Object.defineProperty(e,Ellipse,{enumerable!0,getfunction(){return o.default}});var a=r(336);Object.defineProperty(e,Image,{enumerable!0,getfunction(){return a.default}});var s=r(337);Object.defineProperty(e,Line,{enumerable!0,getfunction(){return s.default}});var u=r(338);Object.defineProperty(e,Marker,{enumerable!0,getfunction(){return u.default}});var c=r(340);Object.defineProperty(e,Path,{enumerable!0,getfunction(){return c.default}});var h=r(342);Object.defineProperty(e,Polygon,{enumerable!0,getfunction(){return h.default}});var f=r(343);Object.defineProperty(e,Polyline,{enumerable!0,getfunction(){return f.default}});var l=r(345);Object.defineProperty(e,Rect,{enumerable!0,getfunction(){return l.default}});var d=r(348);Object.defineProperty(e,Text,{enumerable!0,getfunction(){return d.default}})},function(t,e,r){use strict;function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}Object.defineProperty(e,__esModule,{value!0}),e.addEndArrow=e.addStartArrow=e.getShortenOffset=void 0;var i=r(1),o=r(73),a=Math.sin,s=Math.cos,u=Math.atan2,c=Math.PI;function h(t,e,r,n,i,h,f){var l=e.stroke,d=e.lineWidth,p=u(n-h,r-i),g=new o.Path({typepath,canvast.get(canvas),isArrowShape!0,attrs{pathM+10s(c6)+,+10a(c6)+ L0,0 L+10s(c6)+,-+10a(c6),strokel,lineWidthd}});g.translate(i,h),g.rotateAtPoint(i,h,p),t.set(fstartArrowShapeendArrowShape,g)}function f(t,e,r,n,c,h,f){var l=e.startArrow,d=e.endArrow,p=e.stroke,g=e.lineWidth,v=fld,y=v.d,m=v.fill,b=v.stroke,x=v.lineWidth,w=i.__rest(v,[d,fill,stroke,lineWidth]),M=u(n-h,r-c);y&&(c-=s(M)y,h-=a(M)y);var S=new o.Path({typepath,canvast.get(canvas),isArrowShape!0,attrsi.__assign(i.__assign({},w),{strokebp,lineWidthxg,fillm})});S.translate(c,h),S.rotateAtPoint(c,h,M),t.set(fstartArrowShapeendArrowShape,S)}e.getShortenOffset=function(t,e,r,n,i){var o=u(n-e,r-t);return{dxs(o)i,dya(o)i}},e.addStartArrow=function(t,e,r,i,o,a){object===n(e.startArrow)f(t,e,r,i,o,a,!0)e.startArrowh(t,e,r,i,o,a,!0)t.set(startArrowShape,null)},e.addEndArrow=function(t,e,r,i,o,a){object===n(e.endArrow)f(t,e,r,i,o,a,!1)e.endArrowh(t,e,r,i,o,a,!1)t.set(startArrowShape,null)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(40);e.default=function(t,e,r,i,o,a,s){var u=Math.min(t,r),c=Math.max(t,r),h=Math.min(e,i),f=Math.max(e,i),l=o2;return a=u-l&&a=c+l&&s=h-l&&s=f+l&&n.default.pointToLine(t,e,r,i,a,s)=o2}},function(t,e,r){var n=r(77),i=r(379),o=r(380),a=r(381),s=r(382),u=r(383);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,r){var n=r(374),i=r(375),o=r(376),a=r(377),s=r(378);function u(t){var e=-1,r=null==t0t.length;for(this.clear();++er;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,r){var n=r(51);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},function(t,e,r){var n=r(44)(Object,create);t.exports=n},function(t,e,r){var n=r(399);t.exports=function(t,e){var r=t.__data__;return n(e)r[string==typeof estringhash]r.map}},function(t,e,r){var n=r(82),i=r(51),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];o.call(t,e)&&i(a,r)&&(void 0!==re in t)n(t,e,r)}},function(t,e,r){var n=r(176);t.exports=function(t,e,r){__proto__==e&&nn(t,e,{configurable!0,enumerable!0,valuer,writable!0})t[e]=r}},function(t,e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var n=^(0[1-9]d)$;t.exports=function(t,e){var i=r(t);return!!(e=null==e9007199254740991e)&&(number==isymbol!=i&&n.test(t))&&t-1&&t%1==0&&te}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===(function==typeof e&&e.prototyper)}},function(t,e,r){var n=r(178)(Object.getPrototypeOf,Object);t.exports=n},function(t,e,r){var n=r(123),i=r(428)(n);t.exports=i},function(t,e,r){var n=r(89),i=r(66);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&ro;)t=t[i(e[r++])];return r&&r==otvoid 0}},function(t,e,r){var n=r(15),i=r(126),o=r(442),a=r(201);t.exports=function(t,e){return n(t)ti(t,e)[t]o(a(t))}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t0t.length,i=Array(n);++rn;)i[r]=e(t[r],r,t);return i}},function(t,e,r){var n=r(47),i=r(210),o=r(211);t.exports=function(t,e){return o(i(t,e,n),t+)}},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=r(51),o=r(38),a=r(83),s=r(25);t.exports=function(t,e,r){if(!s(r))return!1;var u=n(e);return!!(number==uo(r)&&a(e,r.length)string==u&&e in r)&&i(r[e],t)}},function(t,e,r){use strict;var n=r(13);t.exports={longestPathfunction(t){var e={};n.forEach(t.sources(),(function r(i){var o=t.node(i);if(n.has(e,i))return o.rank;e[i]=!0;var a=n.min(n.map(t.outEdges(i),(function(e){return r(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a(a=0),o.rank=a}))},slackfunction(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,r){var n=r(226),i=function(){function t(t,e){void 0===e&&(e={});this.options=e,this.rootNode=n(t,e)}return t.prototype.execute=function(){throw new Error(please override this method)},t}();t.exports=i},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(102),i=r(21),o=r(3);e.default=function t(e,r){if(e===r)return!0;if(!e!r)return!1;if(o.default(e)o.default(r))return!1;if(i.default(e)i.default(r)){if(e.length!==r.length)return!1;for(var a=!0,s=0;se.length&&(a=t(e[s],r[s]));s++);return a}if(n.default(e)n.default(r)){var u=Object.keys(e),c=Object.keys(r);if(u.length!==c.length)return!1;for(a=!0,s=0;su.length&&(a=t(e[u[s]],r[u[s]]));s++);return a}return!1}},function(t,e,r){use strict;var n=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return[Event (type=+this.type+)]},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.a=n},function(t,e,r){use strict;var n=r(1),i=r(99),o=r(9),a=function(t){function e(e){var r=t.call(this)this;r.destroyed=!1;var n=r.getDefaultCfg();return r.cfg=Object(o.i)(n,e),r}return Object(n.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed!0},this.off(),this.destroyed=!0},e}(i.a);e.a=a},function(t,e,r){use strict;function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}Object.defineProperty(e,__esModule,{value!0});var i=r(4);e.default=function t(e){if(object!==n(e)null===e)return e;var r;if(i.default(e)){r=[];for(var o=0,a=e.length;oa;o++)object===n(e[o])&&null!=e[o]r[o]=t(e[o])r[o]=e[o]}else for(var s in r={},e)object===n(e[s])&&null!=e[s]r[s]=t(e[s])r[s]=e[s];return r}},function(t,e,r){use strict;var n=function(){function t(){this._events={}}return t.prototype.on=function(t,e,r){return this._events[t](this._events[t]=[]),this._events[t].push({callbacke,once!!r}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,r=[],n=1;narguments.length;n++)r[n-1]=arguments[n];var i=this._events[t][],o=this._events[][],a=function(n){for(var i=n.length,o=0;oi;o++)if(n[o]){var a=n[o],s=a.callback;a.once&&(n.splice(o,1),0===n.length&&delete e._events[t],i--,o--),s.apply(e,r)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var r=this._events[t][],n=r.length,i=0;in;i++)r[i].callback===e&&(r.splice(i,1),n--,i--);0===r.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.a=n},function(t,e,r){use strict;var n=r(1),i=r(101),o=r(9),a={};var s=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(n.__extends)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=10,e=-10,r=10,n=-10,i=[],a=[],s=this.getChildren().filter((function(t){return t.get(visible)&&(!t.isGroup()t.isGroup()&&t.getChildren().length0)}));return s.length0(Object(o.a)(s,(function(t){var e=t.getBBox();i.push(e.minX,e.maxX),a.push(e.minY,e.maxY)})),t=Math.min.apply(null,i),e=Math.max.apply(null,i),r=Math.min.apply(null,a),n=Math.max.apply(null,a))(t=0,e=0,r=0,n=0),{xt,yr,minXt,minYr,maxXe,maxYn,widthe-t,heightn-r}},e.prototype.getCanvasBBox=function(){var t=10,e=-10,r=10,n=-10,i=[],a=[],s=this.getChildren().filter((function(t){return t.get(visible)&&(!t.isGroup()t.isGroup()&&t.getChildren().length0)}));return s.length0(Object(o.a)(s,(function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),a.push(e.minY,e.maxY)})),t=Math.min.apply(null,i),e=Math.max.apply(null,i),r=Math.min.apply(null,a),n=Math.max.apply(null,a))(t=0,e=0,r=0,n=0),{xt,yr,minXt,minYr,maxXe,maxYn,widthe-t,heightn-r}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,r,n){if(t.prototype.onAttrChange.call(this,e,r,n),matrix===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var r=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var n=this.getTotalMatrix();n!==r&&this._applyChildrenMarix(n)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(o.a)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;earguments.length;e++)t[e]=arguments[e];var r=t[0],n=t[1];Object(o.f)(r)n=rn.type=r;var i=a[n.type];i(i=Object(o.k)(n.type),a[n.type]=i);var s=this.getShapeBase(),u=new s[i](n);return this.add(u),u},e.prototype.addGroup=function(){for(var t=[],e=0;earguments.length;e++)t[e]=arguments[e];var r,n=t[0],i=t[1];if(Object(o.d)(n))r=new n(i{parentthis});else{var a=n{},s=this.getGroupBase();r=new s(a)}return this.add(r),r},e.prototype.getCanvas=function(){return this.isCanvas()thisthis.get(canvas)},e.prototype.getShape=function(t,e,r){if(!Object(o.b)(this))return null;var n,i=this.getChildren();if(this.isCanvas())n=this._findShape(i,t,e,r);else{var a=[t,e,1];a=this.invertFromMatrix(a),this.isClipped(a[0],a[1])(n=this._findShape(i,a[0],a[1],r))}return n},e.prototype._findShape=function(t,e,r,n){for(var i=null,a=t.length-1;a=0;a--){var s=t[a];if(Object(o.b)(s)&&(s.isGroup()i=s.getShape(e,r,n)s.isHit(e,r)&&(i=s)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),r=this.getChildren(),n=this.get(timeline),i=t.getParent();i&&function(t,e,r){void 0===r&&(r=!0),re.destroy()(e.set(parent,null),e.set(canvas,null)),Object(o.j)(t.getChildren(),e)}(i,t,!1),t.set(parent,this),e&&function t(e,r){if(e.set(canvas,r),e.isGroup()){var n=e.get(children);n.length&&n.forEach((function(e){t(e,r)}))}}(t,e),n&&function t(e,r){if(e.set(timeline,r),e.isGroup()){var n=e.get(children);n.length&&n.forEach((function(e){t(e,r)}))}}(t,n),r.push(t),t.onCanvasChange(add),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get(children)},e.prototype.sort=function(){var t,e=this.getChildren();Object(o.a)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get(zIndex)-e.get(zIndex)},function(e,r){var n=t(e,r);return 0===ne._INDEX-r._INDEXn})),this.onCanvasChange(sort)},e.prototype.clear=function(){if(this.set(clearing,!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e=0;e--)t[e].destroy();this.set(children,[]),this.onCanvasChange(clear),this.set(clearing,!1)}},e.prototype.destroy=function(){this.get(destroyed)(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],r=this.getChildren();return Object(o.a)(r,(function(r){t(r)&&e.push(r),r.isGroup()&&(e=e.concat(r.findAll(t)))})),e},e.prototype.find=function(t){var e=null,r=this.getChildren();return Object(o.a)(r,(function(r){if(t(r)e=rr.isGroup()&&(e=r.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get(id)===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get(className)===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get(name)===t}))},e}(i.a);e.a=s},function(t,e,r){use strict;var n=r(1),i=r(0),o=r(133),a=r(9),s=r(32),u=r(97),c=o.ext.transform,h=[zIndex,capture,visible,type],f=[repeat];function l(t,e){var r={},n=e.attrs;for(var i in t)r[i]=n[i];return r}function d(t,e){var r={},n=e.attr();return Object(i.each)(t,(function(t,e){-1!==f.indexOf(e)Object(i.isEqual)(n[e],t)(r[e]=t)})),r}function p(t,e){if(e.onFrame)return t;var r=e.startTime,n=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(i.each)(t,(function(t){r+nt.startTime+t.delay+t.duration&&ot.delay&&Object(i.each)(e.toAttrs,(function(e,r){a.call(t.toAttrs,r)&&(delete t.toAttrs[r],delete t.fromAttrs[r])}))})),t}var g=function(t){function e(e){var r=t.call(this,e)this;r.attrs={};var n=r.getDefaultAttrs();return Object(i.mix)(n,e.attrs),r.attrs=n,r.initAttrs(n),r.initAnimate(),r}return Object(n.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{visible!0,capture!0,zIndex0}},e.prototype.getDefaultAttrs=function(){return{matrixthis.getDefaultMatrix(),opacity1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set(animable,!0),this.set(animating,!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get(parent)},e.prototype.getCanvas=function(){return this.get(canvas)},e.prototype.attr=function(){for(var t,e=[],r=0;rarguments.length;r++)e[r]=arguments[r];var n=e[0],o=e[1];if(!n)return this.attrs;if(Object(i.isObject)(n)){for(var a in n)this.setAttr(a,n[a]);return this.afterAttrsChange(n),this}return 2===e.length(this.setAttr(n,o),this.afterAttrsChange(((t={})[n]=o,t)),this)this.attrs[n]},e.prototype.isClipped=function(t,e){var r=this.getClip();return r&&!r.isHit(t,e)},e.prototype.setAttr=function(t,e){var r=this.attrs[t];r!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,r))},e.prototype.onAttrChange=function(t,e,r){matrix===t&&this.set(totalMatrix,null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange(clip)}else this.onCanvasChange(attr)},e.prototype.show=function(){return this.set(visible,!0),this.onCanvasChange(show),this},e.prototype.hide=function(){return this.set(visible,!1),this.onCanvasChange(hide),this},e.prototype.setZIndex=function(t){this.set(zIndex,t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),r=(this.get(el),e.indexOf(this));e.splice(r,1),e.push(this),this.onCanvasChange(zIndex)}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),r=(this.get(el),e.indexOf(this));e.splice(r,1),e.unshift(this),this.onCanvasChange(zIndex)}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e(Object(a.j)(e.getChildren(),this),e.get(clearing)this.onCanvasChange(remove))this.onCanvasChange(remove),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(matrix,this.getDefaultMatrix()),this.onCanvasChange(matrix)},e.prototype.getMatrix=function(){return this.attr(matrix)},e.prototype.setMatrix=function(t){this.attr(matrix,t),this.onCanvasChange(matrix)},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr(matrix),r=this.cfg.parentMatrix;t=r&&eObject(s.b)(r,e)er,this.set(totalMatrix,t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr(matrix),r=null;r=t&&eObject(s.b)(t,e)et,this.set(totalMatrix,r),this.set(parentMatrix,t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr(matrix);return eObject(s.c)(e,t)t},e.prototype.invertFromMatrix=function(t){var e=this.attr(matrix);if(e){var r=Object(s.a)(e);if(r)return Object(s.c)(r,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),r=null;if(t){var n=this.getShapeBase()[Object(i.upperFirst)(t.type)];n&&(r=new n({typet.type,isClipShape!0,applyTothis,attrst.attrs,canvase}))}return this.set(clipShape,r),this.onCanvasChange(clip),r},e.prototype.getClip=function(){var t=this.cfg.clipShape;return tnull},e.prototype.clone=function(){var t=this,e=this.attrs,r={};Object(i.each)(e,(function(t,n){Object(i.isArray)(e[n])r[n]=function(t){for(var e=[],r=0;rt.length;r++)Object(i.isArray)(t[r])e.push([].concat(t[r]))e.push(t[r]);return e}(e[n])r[n]=e[n]}));var n=new(0,this.constructor)({attrsr});return Object(i.each)(h,(function(e){n.set(e,t.get(e))})),n},e.prototype.destroy=function(){this.destroyed(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get(_pause).isPaused},e.prototype.animate=function(){for(var t=[],e=0;earguments.length;e++)t[e]=arguments[e];this.set(animating,!0);var r=this.get(timeline);r(r=this.get(canvas).get(timeline),this.set(timeline,r));var n=this.get(animations)[];r.timerr.initTimer();var o,a,s,u,c,h=t[0],f=t[1],g=t[2],v=void 0===geaseLinearg,y=t[3],m=void 0===yi.noopy,b=t[4],x=void 0===b0b;Object(i.isFunction)(h)(o=h,h={})Object(i.isObject)(h)&&h.onFrame&&(o=h.onFrame,a=h.repeat),Object(i.isObject)(f)(f=(c=f).duration,v=c.easingeaseLinear,x=c.delay0,a=c.repeata!1,m=c.callbacki.noop,s=c.pauseCallbacki.noop,u=c.resumeCallbacki.noop)(Object(i.isNumber)(m)&&(x=m,m=null),Object(i.isFunction)(v)(m=v,v=easeLinear)v=veaseLinear);var w=d(h,this),M={fromAttrsl(w,this),toAttrsw,durationf,easingv,repeata,callbackm,pauseCallbacks,resumeCallbacku,delayx,startTimer.getTime(),idObject(i.uniqueId)(),onFrameo,pathFormatted!1};n.length0n=p(n,M)r.addAnimator(this),n.push(M),this.set(animations,n),this.set(_pause,{isPaused!1})},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var r=this.get(animations);Object(i.each)(r,(function(r){t&&(r.onFramee.attr(r.onFrame(1))e.attr(r.toAttrs)),r.callback&&r.callback()})),this.set(animating,!1),this.set(animations,[])},e.prototype.pauseAnimate=function(){var t=this.get(timeline),e=this.get(animations),r=t.getTime();return Object(i.each)(e,(function(t){t._paused=!0,t._pauseTime=r,t.pauseCallback&&t.pauseCallback()})),this.set(_pause,{isPaused!0,pauseTimer}),this},e.prototype.resumeAnimate=function(){var t=this.get(timeline).getTime(),e=this.get(animations),r=this.get(_pause).pauseTime;return Object(i.each)(e,(function(e){e.startTime=e.startTime+(t-r),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set(_pause,{isPaused!1}),this.set(animations,e),this},e.prototype.emitDelegation=function(t,e){var r,n=this,o=e.propagationPath;this.getEvents();mouseenter===tr=e.fromShapemouseleave===t&&(r=e.toShape);for(var s=function(t){var s=o[t],c=s.get(name);if(c){if((s.isGroup()s.isCanvas&&s.isCanvas())&&r&&Object(a.g)(s,r))returnbreak;Object(i.isArray)(c)Object(i.each)(c,(function(t){n.emitDelegateEvent(s,t,e)}))u.emitDelegateEvent(s,c,e)}},u=this,c=0;co.length;c++){if(break===s(c))break}},e.prototype.emitDelegateEvent=function(t,e,r){var n=this.getEvents(),i=e++r.type;(n[i]n[])&&(r.name=i,r.currentTarget=t,r.delegateTarget=this,r.delegateObject=t.get(delegateObject),this.emit(i,r))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var r=this.getMatrix(),n=c(r,[[t,t,e]]);return this.setMatrix(n),this},e.prototype.move=function(t,e){var r=this.attr(x)0,n=this.attr(y)0;return this.translate(t-r,e-n),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var r=this.getMatrix(),n=c(r,[[s,t,et]]);return this.setMatrix(n),this},e.prototype.rotate=function(t){var e=this.getMatrix(),r=c(e,[[r,t]]);return this.setMatrix(r),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),r=e.x,n=e.y,i=this.getMatrix(),o=c(i,[[t,-r,-n],[r,t],[t,r,n]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,r){var n=this.getMatrix(),i=c(n,[[t,-t,-e],[r,r],[t,t,e]]);return this.setMatrix(i),this},e}(u.a);e.a=g},function(t,e,r){use strict;function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}Object.defineProperty(e,__esModule,{value!0});e.default=function(t){returnobject===n(t)&&null!==t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t,e,r){return void 0===r&&(r=1e-5),Math.abs(t-e)r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return ti},e.equals=function(t,e){return Math.abs(t-e)=nMath.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6;e.ARRAY_TYPE=undefined!=typeof Float32ArrayFloat32ArrayArray,e.RANDOM=Math.random;var i=Math.PI180},function(t,e,r){use strict;r.r(e),r.d(e,create,(function(){return i})),r.d(e,clone,(function(){return o})),r.d(e,fromValues,(function(){return a})),r.d(e,copy,(function(){return s})),r.d(e,set,(function(){return u})),r.d(e,add,(function(){return c})),r.d(e,subtract,(function(){return h})),r.d(e,multiply,(function(){return f})),r.d(e,divide,(function(){return l})),r.d(e,ceil,(function(){return d})),r.d(e,floor,(function(){return p})),r.d(e,min,(function(){return g})),r.d(e,max,(function(){return v})),r.d(e,round,(function(){return y})),r.d(e,scale,(function(){return m})),r.d(e,scaleAndAdd,(function(){return b})),r.d(e,distance,(function(){return x})),r.d(e,squaredDistance,(function(){return w})),r.d(e,length,(function(){return M})),r.d(e,squaredLength,(function(){return S})),r.d(e,negate,(function(){return _})),r.d(e,inverse,(function(){return k})),r.d(e,normalize,(function(){return O})),r.d(e,dot,(function(){return E})),r.d(e,cross,(function(){return j})),r.d(e,lerp,(function(){return C})),r.d(e,random,(function(){return A})),r.d(e,transformMat2,(function(){return P})),r.d(e,transformMat2d,(function(){return I})),r.d(e,transformMat3,(function(){return T})),r.d(e,transformMat4,(function(){return N})),r.d(e,rotate,(function(){return D})),r.d(e,angle,(function(){return B})),r.d(e,zero,(function(){return R})),r.d(e,str,(function(){return L})),r.d(e,exactEquals,(function(){return z})),r.d(e,equals,(function(){return F})),r.d(e,len,(function(){return G})),r.d(e,sub,(function(){return q})),r.d(e,mul,(function(){return X})),r.d(e,div,(function(){return V})),r.d(e,dist,(function(){return H})),r.d(e,sqrDist,(function(){return U})),r.d(e,sqrLen,(function(){return W})),r.d(e,forEach,(function(){return Z}));var n=r(6);function i(){var t=new n.a(2);return n.a!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new n.a(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var r=new n.a(2);return r[0]=t,r[1]=e,r}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function u(t,e,r){return t[0]=e,t[1]=r,t}function c(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function h(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function f(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t}function l(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function v(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,r){return t[0]=e[0]r,t[1]=e[1]r,t}function b(t,e,r,n){return t[0]=e[0]+r[0]n,t[1]=e[1]+r[1]n,t}function x(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function w(t,e){var r=e[0]-t[0],n=e[1]-t[1];return rr+nn}function M(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function S(t){var e=t[0],r=t[1];return ee+rr}function _(t,e){return t[0]=-e[0],t[1]=-e[1],t}function k(t,e){return t[0]=1e[0],t[1]=1e[1],t}function O(t,e){var r=e[0],n=e[1],i=rr+nn;return i0&&(i=1Math.sqrt(i)),t[0]=e[0]i,t[1]=e[1]i,t}function E(t,e){return t[0]e[0]+t[1]e[1]}function j(t,e,r){var n=e[0]r[1]-e[1]r[0];return t[0]=t[1]=0,t[2]=n,t}function C(t,e,r,n){var i=e[0],o=e[1];return t[0]=i+n(r[0]-i),t[1]=o+n(r[1]-o),t}function A(t,e){e=e1;var r=2n.c()Math.PI;return t[0]=Math.cos(r)e,t[1]=Math.sin(r)e,t}function P(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]n+r[2]i,t[1]=r[1]n+r[3]i,t}function I(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]n+r[2]i+r[4],t[1]=r[1]n+r[3]i+r[5],t}function T(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]n+r[3]i+r[6],t[1]=r[1]n+r[4]i+r[7],t}function N(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]n+r[4]i+r[12],t[1]=r[1]n+r[5]i+r[13],t}function D(t,e,r,n){var i=e[0]-r[0],o=e[1]-r[1],a=Math.sin(n),s=Math.cos(n);return t[0]=is-oa+r[0],t[1]=ia+os+r[1],t}function B(t,e){var r=t[0],n=t[1],i=e[0],o=e[1],a=Math.sqrt(rr+nn)Math.sqrt(ii+oo),s=a&&(ri+no)a;return Math.acos(Math.min(Math.max(s,-1),1))}function R(t){return t[0]=0,t[1]=0,t}function L(t){returnvec2(+t[0]+, +t[1]+)}function z(t,e){return t[0]===e[0]&&t[1]===e[1]}function F(t,e){var r=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(r-o)=n.bMath.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-a)=n.bMath.max(1,Math.abs(i),Math.abs(a))}var Y,G=M,q=h,X=f,V=l,H=x,U=w,W=S,Z=(Y=i(),function(t,e,r,n,i,o){var a,s;for(e(e=2),r(r=0),s=nMath.min(ne+r,t.length)t.length,a=r;as;a+=e)Y[0]=t[a],Y[1]=t[a+1],i(Y,Y,o),t[a]=Y[0],t[a+1]=Y[1];return t})},function(t,e,r){use strict;r.r(e),r.d(e,create,(function(){return i})),r.d(e,clone,(function(){return o})),r.d(e,length,(function(){return a})),r.d(e,fromValues,(function(){return s})),r.d(e,copy,(function(){return u})),r.d(e,set,(function(){return c})),r.d(e,add,(function(){return h})),r.d(e,subtract,(function(){return f})),r.d(e,multiply,(function(){return l})),r.d(e,divide,(function(){return d})),r.d(e,ceil,(function(){return p})),r.d(e,floor,(function(){return g})),r.d(e,min,(function(){return v})),r.d(e,max,(function(){return y})),r.d(e,round,(function(){return m})),r.d(e,scale,(function(){return b})),r.d(e,scaleAndAdd,(function(){return x})),r.d(e,distance,(function(){return w})),r.d(e,squaredDistance,(function(){return M})),r.d(e,squaredLength,(function(){return S})),r.d(e,negate,(function(){return _})),r.d(e,inverse,(function(){return k})),r.d(e,normalize,(function(){return O})),r.d(e,dot,(function(){return E})),r.d(e,cross,(function(){return j})),r.d(e,lerp,(function(){return C})),r.d(e,hermite,(function(){return A})),r.d(e,bezier,(function(){return P})),r.d(e,random,(function(){return I})),r.d(e,transformMat4,(function(){return T})),r.d(e,transformMat3,(function(){return N})),r.d(e,transformQuat,(function(){return D})),r.d(e,rotateX,(function(){return B})),r.d(e,rotateY,(function(){return R})),r.d(e,rotateZ,(function(){return L})),r.d(e,angle,(function(){return z})),r.d(e,zero,(function(){return F})),r.d(e,str,(function(){return Y})),r.d(e,exactEquals,(function(){return G})),r.d(e,equals,(function(){return q})),r.d(e,sub,(function(){return V})),r.d(e,mul,(function(){return H})),r.d(e,div,(function(){return U})),r.d(e,dist,(function(){return W})),r.d(e,sqrDist,(function(){return Z})),r.d(e,len,(function(){return $})),r.d(e,sqrLen,(function(){return K})),r.d(e,forEach,(function(){return Q}));var n=r(6);function i(){var t=new n.a(3);return n.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=new n.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function s(t,e,r){var i=new n.a(3);return i[0]=t,i[1]=e,i[2]=r,i}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function c(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function h(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function f(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function l(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t[2]=e[2]r[2],t}function d(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t[2]=e[2]r[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function g(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function v(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function y(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function b(t,e,r){return t[0]=e[0]r,t[1]=e[1]r,t[2]=e[2]r,t}function x(t,e,r,n){return t[0]=e[0]+r[0]n,t[1]=e[1]+r[1]n,t[2]=e[2]+r[2]n,t}function w(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.hypot(r,n,i)}function M(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return rr+nn+ii}function S(t){var e=t[0],r=t[1],n=t[2];return ee+rr+nn}function _(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function k(t,e){return t[0]=1e[0],t[1]=1e[1],t[2]=1e[2],t}function O(t,e){var r=e[0],n=e[1],i=e[2],o=rr+nn+ii;return o0&&(o=1Math.sqrt(o)),t[0]=e[0]o,t[1]=e[1]o,t[2]=e[2]o,t}function E(t,e){return t[0]e[0]+t[1]e[1]+t[2]e[2]}function j(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2];return t[0]=iu-os,t[1]=oa-nu,t[2]=ns-ia,t}function C(t,e,r,n){var i=e[0],o=e[1],a=e[2];return t[0]=i+n(r[0]-i),t[1]=o+n(r[1]-o),t[2]=a+n(r[2]-a),t}function A(t,e,r,n,i,o){var a=oo,s=a(2o-3)+1,u=a(o-2)+o,c=a(o-1),h=a(3-2o);return t[0]=e[0]s+r[0]u+n[0]c+i[0]h,t[1]=e[1]s+r[1]u+n[1]c+i[1]h,t[2]=e[2]s+r[2]u+n[2]c+i[2]h,t}function P(t,e,r,n,i,o){var a=1-o,s=aa,u=oo,c=sa,h=3os,f=3ua,l=uo;return t[0]=e[0]c+r[0]h+n[0]f+i[0]l,t[1]=e[1]c+r[1]h+n[1]f+i[1]l,t[2]=e[2]c+r[2]h+n[2]f+i[2]l,t}function I(t,e){e=e1;var r=2n.c()Math.PI,i=2n.c()-1,o=Math.sqrt(1-ii)e;return t[0]=Math.cos(r)o,t[1]=Math.sin(r)o,t[2]=ie,t}function T(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[3]n+r[7]i+r[11]o+r[15];return a=a1,t[0]=(r[0]n+r[4]i+r[8]o+r[12])a,t[1]=(r[1]n+r[5]i+r[9]o+r[13])a,t[2]=(r[2]n+r[6]i+r[10]o+r[14])a,t}function N(t,e,r){var n=e[0],i=e[1],o=e[2];return t[0]=nr[0]+ir[3]+or[6],t[1]=nr[1]+ir[4]+or[7],t[2]=nr[2]+ir[5]+or[8],t}function D(t,e,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=e[0],u=e[1],c=e[2],h=ic-ou,f=os-nc,l=nu-is,d=il-of,p=oh-nl,g=nf-ih,v=2a;return h=v,f=v,l=v,d=2,p=2,g=2,t[0]=s+h+d,t[1]=u+f+p,t[2]=c+l+g,t}function B(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0],o[1]=i[1]Math.cos(n)-i[2]Math.sin(n),o[2]=i[1]Math.sin(n)+i[2]Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function R(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[2]Math.sin(n)+i[0]Math.cos(n),o[1]=i[1],o[2]=i[2]Math.cos(n)-i[0]Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function L(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0]Math.cos(n)-i[1]Math.sin(n),o[1]=i[0]Math.sin(n)+i[1]Math.cos(n),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function z(t,e){var r=t[0],n=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=Math.sqrt(rr+nn+ii)Math.sqrt(oo+aa+ss),c=u&&E(t,e)u;return Math.acos(Math.min(Math.max(c,-1),1))}function F(t){return t[0]=0,t[1]=0,t[2]=0,t}function Y(t){returnvec3(+t[0]+, +t[1]+, +t[2]+)}function G(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function q(t,e){var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(r-a)=n.bMath.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)=n.bMath.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)=n.bMath.max(1,Math.abs(o),Math.abs(u))}var X,V=f,H=l,U=d,W=w,Z=M,$=a,K=S,Q=(X=i(),function(t,e,r,n,i,o){var a,s;for(e(e=3),r(r=0),s=nMath.min(ne+r,t.length)t.length,a=r;as;a+=e)X[0]=t[a],X[1]=t[a+1],X[2]=t[a+2],i(X,X,o),t[a]=X[0],t[a+1]=X[1],t[a+2]=X[2];return t})},function(t,e,r){use strict;function n(t,e){return t&&e{minXMath.min(t.minX,e.minX),minYMath.min(t.minY,e.minY),maxXMath.max(t.maxX,e.maxX),maxYMath.max(t.maxY,e.maxY)}te}Object.defineProperty(e,__esModule,{value!0}),e.mergeArrowBBox=e.mergeBBox=void 0,e.mergeBBox=n,e.mergeArrowBBox=function(t,e){var r=t.get(startArrowShape),i=t.get(endArrowShape);return r&&(e=n(e,r.getCanvasBBox())),i&&(e=n(e,i.getCanvasBBox())),e}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(33),i=r(40),o=r(161);function a(t,e,r,n,i){var o=1-i;return ooot+3eioo+3riio+niii}function s(t,e,r,n,i){var o=1-i;return 3(oo(e-t)+2oi(r-e)+ii(n-r))}function u(t,e,r,i){var o,a,s,u=-3t+9e-9r+3i,c=6t-12e+6r,h=3e-3t,f=[];if(n.isNumberEqual(u,0))n.isNumberEqual(c,0)(o=-hc)=0&&o=1&&f.push(o);else{var l=cc-4uh;n.isNumberEqual(l,0)f.push(-c(2u))l0&&(a=(-c-(s=Math.sqrt(l)))(2u),(o=(-c+s)(2u))=0&&o=1&&f.push(o),a=0&&a=1&&f.push(a))}return f}function c(t,e,r,n,o,s,u,c,h){var f=a(t,r,o,u,h),l=a(e,n,s,c,h),d=i.default.pointAt(t,e,r,n,h),p=i.default.pointAt(r,n,o,s,h),g=i.default.pointAt(o,s,u,c,h),v=i.default.pointAt(d.x,d.y,p.x,p.y,h),y=i.default.pointAt(p.x,p.y,g.x,g.y,h);return[[t,e,d.x,d.y,v.x,v.y,f,l],[f,l,y.x,y.y,g.x,g.y,u,c]]}e.default={extremau,boxfunction(t,e,r,i,o,s,c,h){for(var f=[t,c],l=[e,h],d=u(t,r,o,c),p=u(e,i,s,h),g=0;gd.length;g++)f.push(a(t,r,o,c,d[g]));for(g=0;gp.length;g++)l.push(a(e,i,s,h,p[g]));return n.getBBoxByArray(f,l)},lengthfunction(t,e,r,n,i,a,s,u){return function t(e,r,n,i,a,s,u,h,f){if(0===f)return o.snapLength([e,n,a,u],[r,i,s,h]);var l=c(e,r,n,i,a,s,u,h,.5),d=l[0],p=l[1];return d.push(f-1),p.push(f-1),t.apply(null,d)+t.apply(null,p)}(t,e,r,n,i,a,s,u,3)},nearestPointfunction(t,e,r,n,i,s,u,c,h,f,l){return o.nearestPoint([t,r,i,u],[e,n,s,c],h,f,a,l)},pointDistancefunction(t,e,r,i,o,a,s,u,c,h,f){var l=this.nearestPoint(t,e,r,i,o,a,s,u,c,h,f);return n.distance(l.x,l.y,c,h)},interpolationAta,pointAtfunction(t,e,r,n,i,o,s,u,c){return{xa(t,r,i,s,c),ya(e,n,o,u,c)}},dividefunction(t,e,r,n,i,o,a,s,u){return c(t,e,r,n,i,o,a,s,u)},tangentAnglefunction(t,e,r,i,o,a,u,c,h){var f=s(t,r,o,u,h),l=s(e,i,a,c,h);return n.piMod(Math.atan2(l,f))}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.refreshElement=e.drawChildren=void 0;var n=r(61),i=r(29);e.drawChildren=function(t,e){e.forEach((function(e){e.draw(t)}))},e.refreshElement=function(t,e){var r=t.get(canvas);if(r&&r.get(autoDraw)){var o=r.get(context),a=t.getParent(),s=aa.getChildren()[r],u=t.get(el);if(remove===e)if(t.get(isClipShape)){var c=u&&u.parentNode,h=c&&c.parentNode;c&&h&&h.removeChild(c)}else u&&u.parentNode&&u.parentNode.removeChild(u);else if(show===e)u.setAttribute(visibility,visible);else if(hide===e)u.setAttribute(visibility,hidden);else if(zIndex===e)i.moveTo(u,s.indexOf(t));else if(sort===e){var f=t.get(children);f&&f.length&&i.sortDom(t,(function(t,e){return f.indexOf(t)-f.indexOf(e)10}))}elseclear===eu&&(u.innerHTML=)matrix===en.setTransform(t)clip===en.setClip(t,o)attr===eadd===e&&t.draw(o)}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(23);Object.defineProperty(e,Base,{enumerable!0,getfunction(){return n.default}});var i=r(349);Object.defineProperty(e,Circle,{enumerable!0,getfunction(){return i.default}});var o=r(350);Object.defineProperty(e,Dom,{enumerable!0,getfunction(){return o.default}});var a=r(351);Object.defineProperty(e,Ellipse,{enumerable!0,getfunction(){return a.default}});var s=r(352);Object.defineProperty(e,Image,{enumerable!0,getfunction(){return s.default}});var u=r(353);Object.defineProperty(e,Line,{enumerable!0,getfunction(){return u.default}});var c=r(354);Object.defineProperty(e,Marker,{enumerable!0,getfunction(){return c.default}});var h=r(356);Object.defineProperty(e,Path,{enumerable!0,getfunction(){return h.default}});var f=r(357);Object.defineProperty(e,Polygon,{enumerable!0,getfunction(){return f.default}});var l=r(358);Object.defineProperty(e,Polyline,{enumerable!0,getfunction(){return l.default}});var d=r(359);Object.defineProperty(e,Rect,{enumerable!0,getfunction(){return d.default}});var p=r(361);Object.defineProperty(e,Text,{enumerable!0,getfunction(){return p.default}})},function(t,e,r){use strict;function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=r(24);t.exports=o;function o(t){this._isDirected=!i.has(t,directed)t.directed,this._isMultigraph=!!i.has(t,multigraph)&&t.multigraph,this._isCompound=!!i.has(t,compound)&&t.compound,this._label=void 0,this._defaultNodeLabelFn=i.constant(void 0),this._defaultEdgeLabelFn=i.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[0]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,e){t[e]t[e]++t[e]=1}function s(t,e){--t[e]delete t[e]}function u(t,e,r,n){var o=+e,a=+r;if(!t&&oa){var s=o;o=a,a=s}return o++a++(i.isUndefined(n)0n)}function c(t,e,r,n){var i=+e,o=+r;if(!t&&io){var a=i;i=o,o=a}var s={vi,wo};return n&&(s.name=n),s}function h(t,e){return u(t,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(t){return this._label=t,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(t){return i.isFunction(t)(t=i.constant(t)),this._defaultNodeLabelFn=t,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return i.keys(this._nodes)},o.prototype.sources=function(){var t=this;return i.filter(this.nodes(),(function(e){return i.isEmpty(t._in[e])}))},o.prototype.sinks=function(){var t=this;return i.filter(this.nodes(),(function(e){return i.isEmpty(t._out[e])}))},o.prototype.setNodes=function(t,e){var r=arguments,n=this;return i.each(t,(function(t){r.length1n.setNode(t,e)n.setNode(t)})),this},o.prototype.setNode=function(t,e){return i.has(this._nodes,t)(arguments.length1&&(this._nodes[t]=e),this)(this._nodes[t]=arguments.length1ethis._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=0,this._children[t]={},this._children[0][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},o.prototype.node=function(t){return this._nodes[t]},o.prototype.hasNode=function(t){return i.has(this._nodes,t)},o.prototype.removeNode=function(t){var e=this;if(i.has(this._nodes,t)){var r=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],i.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),i.each(i.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],i.each(i.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},o.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error(Cannot set parent in a non-compound graph);if(i.isUndefined(e))e=0;else{for(var r=e+=;!i.isUndefined(r);r=this.parent(r))if(r===t)throw new Error(Setting +e+ as parent of +t+ would create a cycle);this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},o.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},o.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(0!==e)return e}},o.prototype.children=function(t){if(i.isUndefined(t)&&(t=0),this._isCompound){var e=this._children[t];if(e)return i.keys(e)}else{if(0===t)return this.nodes();if(this.hasNode(t))return[]}},o.prototype.predecessors=function(t){var e=this._preds[t];if(e)return i.keys(e)},o.prototype.successors=function(t){var e=this._sucs[t];if(e)return i.keys(e)},o.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return i.union(e,this.successors(t))},o.prototype.isLeaf=function(t){return 0===(this.isDirected()this.successors(t)this.neighbors(t)).length},o.prototype.filterNodes=function(t){var e=new this.constructor({directedthis._isDirected,multigraphthis._isMultigraph,compoundthis._isCompound});e.setGraph(this.graph());var r=this;i.each(this._nodes,(function(r,n){t(n)&&e.setNode(n,r)})),i.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))}));var n={};return this._isCompound&&i.each(e.nodes(),(function(t){e.setParent(t,function t(i){var o=r.parent(i);return void 0===oe.hasNode(o)(n[i]=o,o)o in nn[o]t(o)}(t))})),e},o.prototype.setDefaultEdgeLabel=function(t){return i.isFunction(t)(t=i.constant(t)),this._defaultEdgeLabelFn=t,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return i.values(this._edgeObjs)},o.prototype.setPath=function(t,e){var r=this,n=arguments;return i.reduce(t,(function(t,i){return n.length1r.setEdge(t,i,e)r.setEdge(t,i),i})),this},o.prototype.setEdge=function(){var t,e,r,o,s=!1,h=arguments[0];object===n(h)&&null!==h&&vin h(t=h.v,e=h.w,r=h.name,2===arguments.length&&(o=arguments[1],s=!0))(t=h,e=arguments[1],r=arguments[3],arguments.length2&&(o=arguments[2],s=!0)),t=+t,e=+e,i.isUndefined(r)(r=+r);var f=u(this._isDirected,t,e,r);if(i.has(this._edgeLabels,f))return s&&(this._edgeLabels[f]=o),this;if(!i.isUndefined(r)&&!this._isMultigraph)throw new Error(Cannot set a named edge when isMultigraph = false);this.setNode(t),this.setNode(e),this._edgeLabels[f]=sothis._defaultEdgeLabelFn(t,e,r);var l=c(this._isDirected,t,e,r);return t=l.v,e=l.w,Object.freeze(l),this._edgeObjs[f]=l,a(this._preds[e],t),a(this._sucs[t],e),this._in[e][f]=l,this._out[t][f]=l,this._edgeCount++,this},o.prototype.edge=function(t,e,r){var n=1===arguments.lengthh(this._isDirected,arguments[0])u(this._isDirected,t,e,r);return this._edgeLabels[n]},o.prototype.hasEdge=function(t,e,r){var n=1===arguments.lengthh(this._isDirected,arguments[0])u(this._isDirected,t,e,r);return i.has(this._edgeLabels,n)},o.prototype.removeEdge=function(t,e,r){var n=1===arguments.lengthh(this._isDirected,arguments[0])u(this._isDirected,t,e,r),i=this._edgeObjs[n];return i&&(t=i.v,e=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],s(this._preds[e],t),s(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},o.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var n=i.values(r);return ei.filter(n,(function(t){return t.v===e}))n}},o.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var n=i.values(r);return ei.filter(n,(function(t){return t.w===e}))n}},o.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))}},function(t,e,r){var n=r(44)(r(31),Map);t.exports=n},function(t,e,r){var n=r(391),i=r(398),o=r(400),a=r(401),s=r(402);function u(t){var e=-1,r=null==t0t.length;for(this.clear();++er;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t0t.length;++rn&&!1!==e(t[r],r,t););return t}},function(t,e){t.exports=function(t){return t.webpackPolyfill(t.deprecate=function(){},t.paths=[],t.children(t.children=[]),Object.defineProperty(t,loaded,{enumerable!0,getfunction(){return t.l}}),Object.defineProperty(t,id,{enumerable!0,getfunction(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){returnnumber==typeof t&&t-1&&t%1==0&&t=9007199254740991}},function(t,e,r){(function(t){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=r(174),o=object==n(e)&&e&&!e.nodeType&&e,a=o&&object==n(t)&&t&&!t.nodeType&&t,s=a&&a.exports===o&&i.process,u=function(){try{var t=a&&a.require&&a.require(util).types;return ts&&s.binding&&s.binding(util)}catch(t){}}();t.exports=u}).call(this,r(115)(t))},function(t,e,r){var n=r(85),i=r(408),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&constructor!=r&&e.push(r);return e}},function(t,e,r){var n=r(181),i=r(182),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=afunction(t){return null==t[](t=Object(t),n(a(t),(function(e){return o.call(t,e)})))}i;t.exports=s},function(t,e){t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++rn;)t[i+r]=e[r];return t}},function(t,e,r){var n=r(187);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,r){var n=r(124),i=r(41);t.exports=function(t,e){return t&&n(t,e,i)}},function(t,e,r){var n=r(427)();t.exports=n},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=r(15),o=r(55),a=.[([^[]](['])((!1)[^].)1)],s=^w$;t.exports=function(t,e){if(i(t))return!1;var r=n(t);return!(number!=r&&symbol!=r&&boolean!=r&&null!=t&&!o(t))(s.test(t)!a.test(t)null!=e&&t in Object(e))}},function(t,e,r){var n=r(120),i=r(461);t.exports=function t(e,r,o,a,s){var u=-1,c=e.length;for(o(o=i),s(s=[]);++uc;){var h=e[u];r0&&o(h)r1t(h,r-1,o,a,s)n(s,h)a(s[s.length]=h)}return s}},function(t,e,r){var n=r(55);t.exports=function(t,e,r){for(var i=-1,o=t.length;++io;){var a=t[i],s=e(a);if(null!=s&&(void 0===us==s&&!n(s)r(s,u)))var u=s,c=a}return c}},function(t,e,r){var n=r(227),i=[LR,RL,TB,BT,H,V],o=[LR,RL,H],a=i[0];t.exports=function(t,e,r){var s=e.directiona;if(e.isHorizontal=function(t){return o.indexOf(t)-1}(s),s&&-1===i.indexOf(s))throw new TypeError(Invalid direction +s);if(s===i[0])r(t,e);else if(s===i[1])r(t,e),t.right2left();else if(s===i[2])r(t,e);else if(s===i[3])r(t,e),t.bottom2top();else if(s===i[4]s===i[5]){var u=n(t,e),c=u.left,h=u.right;r(c,e),r(h,e),e.isHorizontalc.right2left()c.bottom2top(),h.translate(c.x-h.x,c.y-h.y),t.x=c.x,t.y=h.y;var f=t.getBoundingBox();e.isHorizontalf.top0&&t.translate(0,-f.top)f.left0&&t.translate(-f.left,0)}var l=e.fixedRoot;return void 0===l&&(l=!0),l&&t.translate(-(t.x+t.width2+t.hgap),-(t.y+t.height2+t.vgap)),t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(3);e.default=function(t,e,r){for(var i=0,o=n.default(e)e.split(.)e;t&&io.length;)t=t[o[i++]];return void 0===tio.lengthrt}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},e.subtract=s,e.multiply=u,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,r){return t[0]=e[0]r,t[1]=e[1]r,t[2]=e[2]r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]n,t[1]=e[1]+r[1]n,t[2]=e[2]+r[2]n,t},e.distance=h,e.squaredDistance=f,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1e[0],t[1]=1e[1],t[2]=1e[2],t},e.normalize=d,e.dot=p,e.cross=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2];return t[0]=iu-os,t[1]=oa-nu,t[2]=ns-ia,t},e.lerp=function(t,e,r,n){var i=e[0],o=e[1],a=e[2];return t[0]=i+n(r[0]-i),t[1]=o+n(r[1]-o),t[2]=a+n(r[2]-a),t},e.hermite=function(t,e,r,n,i,o){var a=oo,s=a(2o-3)+1,u=a(o-2)+o,c=a(o-1),h=a(3-2o);return t[0]=e[0]s+r[0]u+n[0]c+i[0]h,t[1]=e[1]s+r[1]u+n[1]c+i[1]h,t[2]=e[2]s+r[2]u+n[2]c+i[2]h,t},e.bezier=function(t,e,r,n,i,o){var a=1-o,s=aa,u=oo,c=sa,h=3os,f=3ua,l=uo;return t[0]=e[0]c+r[0]h+n[0]f+i[0]l,t[1]=e[1]c+r[1]h+n[1]f+i[1]l,t[2]=e[2]c+r[2]h+n[2]f+i[2]l,t},e.random=function(t,e){e=e1;var r=2n.RANDOM()Math.PI,i=2n.RANDOM()-1,o=Math.sqrt(1-ii)e;return t[0]=Math.cos(r)o,t[1]=Math.sin(r)o,t[2]=ie,t},e.transformMat4=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[3]n+r[7]i+r[11]o+r[15];return a=a1,t[0]=(r[0]n+r[4]i+r[8]o+r[12])a,t[1]=(r[1]n+r[5]i+r[9]o+r[13])a,t[2]=(r[2]n+r[6]i+r[10]o+r[14])a,t},e.transformMat3=function(t,e,r){var n=e[0],i=e[1],o=e[2];return t[0]=nr[0]+ir[3]+or[6],t[1]=nr[1]+ir[4]+or[7],t[2]=nr[2]+ir[5]+or[8],t},e.transformQuat=function(t,e,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=e[0],u=e[1],c=e[2],h=ic-ou,f=os-nc,l=nu-is,d=il-of,p=oh-nl,g=nf-ih,v=2a;return h=v,f=v,l=v,d=2,p=2,g=2,t[0]=s+h+d,t[1]=u+f+p,t[2]=c+l+g,t},e.rotateX=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0],o[1]=i[1]Math.cos(n)-i[2]Math.sin(n),o[2]=i[1]Math.sin(n)+i[2]Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},e.rotateY=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[2]Math.sin(n)+i[0]Math.cos(n),o[1]=i[1],o[2]=i[2]Math.cos(n)-i[0]Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},e.rotateZ=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0]Math.cos(n)-i[1]Math.sin(n),o[1]=i[0]Math.sin(n)+i[1]Math.cos(n),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},e.angle=function(t,e){var r=a(t[0],t[1],t[2]),n=a(e[0],e[1],e[2]);d(r,r),d(n,n);var i=p(r,n);return i10i-1Math.PIMath.acos(i)},e.str=function(t){returnvec3(+t[0]+, +t[1]+, +t[2]+)},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(r-a)=n.EPSILONMath.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)=n.EPSILONMath.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)=n.EPSILONMath.max(1,Math.abs(o),Math.abs(u))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(104));function i(){var t=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(ee+rr+nn)}function a(t,e,r){var i=new n.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=r,i}function s(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function u(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t[2]=e[2]r[2],t}function c(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t[2]=e[2]r[2],t}function h(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(rr+nn+ii)}function f(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return rr+nn+ii}function l(t){var e=t[0],r=t[1],n=t[2];return ee+rr+nn}function d(t,e){var r=e[0],n=e[1],i=e[2],o=rr+nn+ii;return o0&&(o=1Math.sqrt(o),t[0]=e[0]o,t[1]=e[1]o,t[2]=e[2]o),t}function p(t,e){return t[0]e[0]+t[1]e[1]+t[2]e[2]}var g;e.sub=s,e.mul=u,e.div=c,e.dist=h,e.sqrDist=f,e.len=o,e.sqrLen=l,e.forEach=(g=i(),function(t,e,r,n,i,o){var a=void 0,s=void 0;for(e(e=3),r(r=0),s=nMath.min(ne+r,t.length)t.length,a=r;as;a+=e)g[0]=t[a],g[1]=t[a+1],g[2]=t[a+2],i(g,g,o),t[a]=g[0],t[a+1]=g[1],t[a+2]=g[2];return t})},function(t,e,r){use strict;r.r(e),function(t){r.d(e,BrowserInfo,(function(){return i})),r.d(e,NodeInfo,(function(){return o})),r.d(e,SearchBotDeviceInfo,(function(){return a})),r.d(e,BotInfo,(function(){return s})),r.d(e,ReactNativeInfo,(function(){return u})),r.d(e,detect,(function(){return l})),r.d(e,browserName,(function(){return p})),r.d(e,parseUserAgent,(function(){return g})),r.d(e,detectOS,(function(){return v})),r.d(e,getNodeVersion,(function(){return y}));var n=function(){for(var t=0,e=0,r=arguments.length;er;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;er;e++)for(var o=arguments[e],a=0,s=o.length;as;a++,i++)n[i]=o[a];return n},i=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type=browser},o=function(e){this.version=e,this.type=node,this.name=node,this.os=t.platform},a=function(t,e,r,n){this.name=t,this.version=e,this.os=r,this.bot=n,this.type=bot-device},s=function(){this.type=bot,this.bot=!0,this.name=bot,this.version=null,this.os=null},u=function(){this.type=react-native,this.name=react-native,this.version=null,this.os=null},c=(nuhkGooglebotYammybotOpenbotSlurpMSNBotAsk JeevesTeomaia_archiver),h=[[aol,AOLShield([0-9._]+)],[edge,Edge([0-9._]+)],[edge-ios,EdgiOS([0-9._]+)],[yandexbrowser,YaBrowser([0-9._]+)],[kakaotalk,KAKAOTALKs([0-9.]+)],[samsung,SamsungBrowser([0-9.]+)],[silk,bSilk([0-9._-]+)b],[miui,MiuiBrowser([0-9.]+)$],[beaker,BeakerBrowser([0-9.]+)],[edge-chromium,EdgA([0-9.]+)],[chromium-webview,(!Chrom.OPR)wv).Chrom(eium)([0-9.]+)(s$)],[chrome,(!Chrom.OPR)Chrom(eium)([0-9.]+)(s$)],[phantomjs,PhantomJS([0-9.]+)(s$)],[crios,CriOS([0-9.]+)(s$)],[firefox,Firefox([0-9.]+)(s$)],[fxios,FxiOS([0-9.]+)],[opera-mini,Opera Mini.Version([0-9.]+)],[opera,Opera([0-9.]+)(s$)],[opera,OPR([0-9.]+)(s$)],[ie,Trident7.0.rv([0-9.]+).).Gecko$],[ie,MSIEs([0-9.]+);.Trident[4-7].0],[ie,MSIEs(7.0)],[bb10,BB10;sTouch.Version([0-9.]+)],[android,Androids([0-9.]+)],[ios,Version([0-9._]+).Mobile.Safari.],[safari,Version([0-9._]+).Safari],[facebook,FBAV([0-9.]+)],[instagram,Instagrams([0-9.]+)],[ios-webview,AppleWebKit([0-9.]+).Mobile],[ios-webview,AppleWebKit([0-9.]+).Gecko)$],[searchbot,alexabotcrawl(ering)facebookexternalhitfeedburnergoogle web previewnagiospostrankpingdomslurpspideryahoo!yandex]],f=[[iOS,iP(honeodad)],[Android OS,Android],[BlackBerry OS,BlackBerryBB10],[Windows Mobile,IEMobile],[Amazon OS,Kindle],[Windows 3.11,Win16],[Windows 95,(Windows 95)(Win95)(Windows_95)],[Windows 98,(Windows 98)(Win98)],[Windows 2000,(Windows NT 5.0)(Windows 2000)],[Windows XP,(Windows NT 5.1)(Windows XP)],[Windows Server 2003,(Windows NT 5.2)],[Windows Vista,(Windows NT 6.0)],[Windows 7,(Windows NT 6.1)],[Windows 8,(Windows NT 6.2)],[Windows 8.1,(Windows NT 6.3)],[Windows 10,(Windows NT 10.0)],[Windows ME,Windows ME],[Open BSD,OpenBSD],[Sun OS,SunOS],[Chrome OS,CrOS],[Linux,(Linux)(X11)],[Mac OS,(Mac_PowerPC)(Macintosh)],[QNX,QNX],[BeOS,BeOS],[OS2,OS2]];function l(t){return tg(t)undefined==typeof document&&undefined!=typeof navigator&&ReactNative===navigator.productnew uundefined!=typeof navigatorg(navigator.userAgent)y()}function d(t){return!==t&&h.reduce((function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]}),!1)}function p(t){var e=d(t);return ee[0]null}function g(t){var e=d(t);if(!e)return null;var r=e[0],o=e[1];if(searchbot===r)return new s;var u=o[1]&&o[1].split([._]).slice(0,3);uu.length3&&(u=n(u,function(t){for(var e=[],r=0;rt;r++)e.push(0);return e}(3-u.length)))u=[];var h=u.join(.),f=v(t),l=c.exec(t);return l&&l[1]new a(r,h,f,l[1])new i(r,h,f)}function v(t){for(var e=0,r=f.length;er;e++){var n=f[e],i=n[0];if(n[1].exec(t))return i}return null}function y(){return void 0!==t&&t.versionnew o(t.version.slice(1))null}}.call(this,r(152))},function(t,e,r){use strict;r.r(e),r.d(e,mat3,(function(){return n})),r.d(e,vec2,(function(){return L})),r.d(e,vec3,(function(){return z})),r.d(e,ext,(function(){return i}));var n={};r.r(n),r.d(n,create,(function(){return a})),r.d(n,fromMat4,(function(){return s})),r.d(n,clone,(function(){return u})),r.d(n,copy,(function(){return c})),r.d(n,fromValues,(function(){return h})),r.d(n,set,(function(){return f})),r.d(n,identity,(function(){return l})),r.d(n,transpose,(function(){return d})),r.d(n,invert,(function(){return p})),r.d(n,adjoint,(function(){return g})),r.d(n,determinant,(function(){return v})),r.d(n,multiply,(function(){return y})),r.d(n,translate,(function(){return m})),r.d(n,rotate,(function(){return b})),r.d(n,scale,(function(){return x})),r.d(n,fromTranslation,(function(){return w})),r.d(n,fromRotation,(function(){return M})),r.d(n,fromScaling,(function(){return S})),r.d(n,fromMat2d,(function(){return _})),r.d(n,fromQuat,(function(){return k})),r.d(n,normalFromMat4,(function(){return O})),r.d(n,projection,(function(){return E})),r.d(n,str,(function(){return j})),r.d(n,frob,(function(){return C})),r.d(n,add,(function(){return A})),r.d(n,subtract,(function(){return P})),r.d(n,multiplyScalar,(function(){return I})),r.d(n,multiplyScalarAndAdd,(function(){return T})),r.d(n,exactEquals,(function(){return N})),r.d(n,equals,(function(){return D})),r.d(n,mul,(function(){return B})),r.d(n,sub,(function(){return R}));var i={};r.r(i),r.d(i,leftTranslate,(function(){return F})),r.d(i,leftRotate,(function(){return Y})),r.d(i,leftScale,(function(){return G})),r.d(i,transform,(function(){return q})),r.d(i,direction,(function(){return X})),r.d(i,angleTo,(function(){return V})),r.d(i,vertical,(function(){return H}));var o=r(6);function a(){var t=new o.a(9);return o.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function u(t){var e=new o.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function h(t,e,r,n,i,a,s,u,c){var h=new o.a(9);return h[0]=t,h[1]=e,h[2]=r,h[3]=n,h[4]=i,h[5]=a,h[6]=s,h[7]=u,h[8]=c,h}function f(t,e,r,n,i,o,a,s,u,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function d(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function p(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=ha-sc,l=-ho+su,d=co-au,p=rf+nl+id;return p(p=1p,t[0]=fp,t[1]=(-hn+ic)p,t[2]=(sn-ia)p,t[3]=lp,t[4]=(hr-iu)p,t[5]=(-sr+io)p,t[6]=dp,t[7]=(-cr+nu)p,t[8]=(ar-no)p,t)null}function g(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=ah-sc,t[1]=ic-nh,t[2]=ns-ia,t[3]=su-oh,t[4]=rh-iu,t[5]=io-rs,t[6]=oc-au,t[7]=nu-rc,t[8]=ra-no,t}function v(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e(co-au)+r(-ci+as)+n(ui-os)}function y(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=r[0],d=r[1],p=r[2],g=r[3],v=r[4],y=r[5],m=r[6],b=r[7],x=r[8];return t[0]=ln+da+pc,t[1]=li+ds+ph,t[2]=lo+du+pf,t[3]=gn+va+yc,t[4]=gi+vs+yh,t[5]=go+vu+yf,t[6]=mn+ba+xc,t[7]=mi+bs+xh,t[8]=mo+bu+xf,t}function m(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=ln+da+c,t[7]=li+ds+h,t[8]=lo+du+f,t}function b(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=Math.sin(r),d=Math.cos(r);return t[0]=dn+la,t[1]=di+ls,t[2]=do+lu,t[3]=da-ln,t[4]=ds-li,t[5]=du-lo,t[6]=c,t[7]=h,t[8]=f,t}function x(t,e,r){var n=r[0],i=r[1];return t[0]=ne[0],t[1]=ne[1],t[2]=ne[2],t[3]=ie[3],t[4]=ie[4],t[5]=ie[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function w(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function M(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function S(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function k(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,u=i+i,c=ra,h=na,f=ns,l=ia,d=is,p=iu,g=oa,v=os,y=ou;return t[0]=1-f-p,t[3]=h-y,t[6]=l+v,t[1]=h+y,t[4]=1-c-p,t[7]=d-g,t[2]=l-v,t[5]=d+g,t[8]=1-c-f,t}function O(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=rs-na,b=ru-ia,x=rc-oa,w=nu-is,M=nc-os,S=ic-ou,_=hg-fp,k=hv-lp,O=hy-dp,E=fv-lg,j=fy-dg,C=ly-dv,A=mC-bj+xE+wO-Mk+S_;return A(A=1A,t[0]=(sC-uj+cE)A,t[1]=(uO-aC-ck)A,t[2]=(aj-sO+c_)A,t[3]=(ij-nC-oE)A,t[4]=(rC-iO+ok)A,t[5]=(nO-rj-o_)A,t[6]=(gS-vM+yw)A,t[7]=(vx-pS-yb)A,t[8]=(pM-gx+ym)A,t)null}function E(t,e,r){return t[0]=2e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function j(t){returnmat3(+t[0]+, +t[1]+, +t[2]+, +t[3]+, +t[4]+, +t[5]+, +t[6]+, +t[7]+, +t[8]+)}function C(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function A(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function P(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function I(t,e,r){return t[0]=e[0]r,t[1]=e[1]r,t[2]=e[2]r,t[3]=e[3]r,t[4]=e[4]r,t[5]=e[5]r,t[6]=e[6]r,t[7]=e[7]r,t[8]=e[8]r,t}function T(t,e,r,n){return t[0]=e[0]+r[0]n,t[1]=e[1]+r[1]n,t[2]=e[2]+r[2]n,t[3]=e[3]+r[3]n,t[4]=e[4]+r[4]n,t[5]=e[5]+r[5]n,t[6]=e[6]+r[6]n,t[7]=e[7]+r[7]n,t[8]=e[8]+r[8]n,t}function N(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function D(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],f=t[8],l=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return Math.abs(r-l)=o.bMath.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-d)=o.bMath.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-p)=o.bMath.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-g)=o.bMath.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)=o.bMath.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)=o.bMath.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)=o.bMath.max(1,Math.abs(c),Math.abs(m))&&Math.abs(h-b)=o.bMath.max(1,Math.abs(h),Math.abs(b))&&Math.abs(f-x)=o.bMath.max(1,Math.abs(f),Math.abs(x))}var B=y,R=P,L=r(105),z=r(106);function F(t,e,r){var i=[0,0,0,0,0,0,0,0,0];return n.fromTranslation(i,r),n.multiply(t,i,e)}function Y(t,e,r){var i=[0,0,0,0,0,0,0,0,0];return n.fromRotation(i,r),n.multiply(t,i,e)}function G(t,e,r){var i=[0,0,0,0,0,0,0,0,0];return n.fromScaling(i,r),n.multiply(t,i,e)}function q(t,e){for(var r,i,o,a=t[].concat(t)[1,0,0,0,1,0,0,0,1],s=0,u=e.length;su;s++){var c=e[s];switch(c[0]){casetF(a,a,[c[1],c[2]]);break;casesG(a,a,[c[1],c[2]]);break;caserY(a,a,c[1]);break;casemr=a,i=a,o=c[1],n.multiply(r,o,i)}}return a}function X(t,e){return t[0]e[1]-e[0]t[1]}function V(t,e,r){var n=L.angle(t,e),i=X(t,e)=0;return ri2Math.PI-nnin2Math.PI-n}function H(t,e,r){return r(t[0]=e[1],t[1]=-1e[0])(t[0]=-1e[1],t[1]=e[0]),t}},function(t,e,r){t.exports={graphlibr(30),layoutr(485),debugr(544),util{timer(20).time,notimer(20).notime},versionr(545)}},function(t,e,r){var n={compactBoxr(546),dendrogramr(548),indentedr(550),mindmapr(552)};t.exports=n},function(t,e,r){(function(t){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=Object.getOwnPropertyDescriptorsfunction(t){for(var e=Object.keys(t),r={},n=0;ne.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},o=%[sdj%]g;e.format=function(t){if(!m(t)){for(var e=[],r=0;rarguments.length;r++)e.push(u(arguments[r]));return e.join( )}r=1;for(var n=arguments,i=n.length,a=String(t).replace(o,(function(t){if(%%===t)return%;if(r=i)return t;switch(t){case%sreturn String(n[r++]);case%dreturn Number(n[r++]);case%jtry{return JSON.stringify(n[r++])}catch(t){return[Circular]}defaultreturn t}})),s=n[r];ri;s=n[++r])v(s)!w(s)a+= +sa+= +u(s);return a},e.deprecate=function(r,n){if(void 0!==t&&!0===t.noDeprecation)return r;if(void 0===t)return function(){return e.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(n);t.traceDeprecationconsole.trace(n)console.error(n),i=!0}return r.apply(this,arguments)}};var a,s={};function u(t,r){var n={seen[],stylizeh};return arguments.length=3&&(n.depth=arguments[2]),arguments.length=4&&(n.colors=arguments[3]),g(r)n.showHidden=rr&&e._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),f(n,t,n.depth)}function c(t,e){var r=u.styles[e];return r[+u.colors[r][0]+m+t+[+u.colors[r][1]+mt}function h(t,e){return t}function f(t,r,n){if(t.customInspect&&r&&_(r.inspect)&&r.inspect!==e.inspect&&(!r.constructorr.constructor.prototype!==r)){var i=r.inspect(n,t);return m(i)(i=f(t,i,n)),i}var o=function(t,e){if(b(e))return t.stylize(undefined,undefined);if(m(e)){var r='+JSON.stringify(e).replace(^$g,).replace('g,').replace(g,'')+';return t.stylize(r,string)}if(y(e))return t.stylize(+e,number);if(g(e))return t.stylize(+e,boolean);if(v(e))return t.stylize(null,null)}(t,r);if(o)return o;var a=Object.keys(r),s=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),S(r)&&(a.indexOf(message)=0a.indexOf(description)=0))return l(r);if(0===a.length){if(_(r)){var u=r.name +r.name;return t.stylize([Function+u+],special)}if(x(r))return t.stylize(RegExp.prototype.toString.call(r),regexp);if(M(r))return t.stylize(Date.prototype.toString.call(r),date);if(S(r))return l(r)}var c,h=,w=!1,k=[{,}];(p(r)&&(w=!0,k=[[,]]),_(r))&&(h= [Function+(r.name +r.name)+]);return x(r)&&(h= +RegExp.prototype.toString.call(r)),M(r)&&(h= +Date.prototype.toUTCString.call(r)),S(r)&&(h= +l(r)),0!==a.lengthw&&0!=r.lengthn0x(r)t.stylize(RegExp.prototype.toString.call(r),regexp)t.stylize([Object],special)(t.seen.push(r),c=wfunction(t,e,r,n,i){for(var o=[],a=0,s=e.length;as;++a)C(e,String(a))o.push(d(t,e,r,n,String(a),!0))o.push();return i.forEach((function(i){i.match(^d+$)o.push(d(t,e,r,n,i,!0))})),o}(t,r,n,s,a)a.map((function(e){return d(t,r,n,s,e,w)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf(n)=0&&0,t+e.replace(u001b[ddmg,).length+1}),0)60)return r[0]+(===ee+n )+ +t.join(,n  )+ +r[1];return r[0]+e+ +t.join(, )+ +r[1]}(c,h,k))k[0]+h+k[1]}function l(t){return[+Error.prototype.toString.call(t)+]}function d(t,e,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i){valuee[i]}).gets=u.sett.stylize([GetterSetter],special)t.stylize([Getter],special)u.set&&(s=t.stylize([Setter],special)),C(n,i)(a=[+i+]),s(t.seen.indexOf(u.value)0(s=v(r)f(t,u.value,null)f(t,u.value,r-1)).indexOf(n)-1&&(s=os.split(n).map((function(t){return  +t})).join(n).substr(2)n+s.split(n).map((function(t){return   +t})).join(n))s=t.stylize([Circular],special)),b(a)){if(o&&i.match(^d+$))return s;(a=JSON.stringify(+i)).match(^([a-zA-Z_][a-zA-Z_0-9])$)(a=a.substr(1,a.length-2),a=t.stylize(a,name))(a=a.replace('g,').replace(g,'').replace((^$)g,'),a=t.stylize(a,string))}return a+ +s}function p(t){return Array.isArray(t)}function g(t){returnboolean==typeof t}function v(t){return null===t}function y(t){returnnumber==typeof t}function m(t){returnstring==typeof t}function b(t){return void 0===t}function x(t){return w(t)&&[object RegExp]===k(t)}function w(t){returnobject===n(t)&&null!==t}function M(t){return w(t)&&[object Date]===k(t)}function S(t){return w(t)&&([object Error]===k(t)t instanceof Error)}function _(t){returnfunction==typeof t}function k(t){return Object.prototype.toString.call(t)}function O(t){return t100+t.toString(10)t.toString(10)}e.debuglog=function(r){if(b(a)&&(a=t.env.NODE_DEBUG),r=r.toUpperCase(),!s[r])if(new RegExp(b+r+b,i).test(a)){var n=t.pid;s[r]=function(){var t=e.format.apply(e,arguments);console.error(%s %d %s,r,n,t)}}else s[r]=function(){};return s[r]},e.inspect=u,u.colors={bold[1,22],italic[3,23],underline[4,24],inverse[7,27],white[37,39],grey[90,39],black[30,39],blue[34,39],cyan[36,39],green[32,39],magenta[35,39],red[31,39],yellow[33,39]},u.styles={specialcyan,numberyellow,booleanyellow,undefinedgrey,nullbold,stringgreen,datemagenta,regexpred},e.isArray=p,e.isBoolean=g,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=m,e.isSymbol=function(t){returnsymbol===n(t)},e.isUndefined=b,e.isRegExp=x,e.isObject=w,e.isDate=M,e.isError=S,e.isFunction=_,e.isPrimitive=function(t){return null===tboolean==typeof tnumber==typeof tstring==typeof tsymbol===n(t)void 0===t},e.isBuffer=r(554);var E=[Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec];function j(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join();return[t.getDate(),E[t.getMonth()],e].join( )}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log(%s - %s,j(),e.format.apply(e,arguments))},e.inherits=r(555),e._extend=function(t,e){if(!e!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var A=undefined!=typeof SymbolSymbol(util.promisify.custom)void 0;function P(t,e){if(!t){var r=new Error(Promise was rejected with a falsy value);r.reason=t,t=r}return e(t)}e.promisify=function(t){if(function!=typeof t)throw new TypeError('The original argument must be of type Function');if(A&&t[A]){var e;if(function!=typeof(e=t[A]))throw new TypeError('The util.promisify.custom argument must be of type Function');return Object.defineProperty(e,A,{valuee,enumerable!1,writable!1,configurable!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],o=0;oarguments.length;o++)i.push(arguments[o]);i.push((function(t,n){tr(t)e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{valuee,enumerable!1,writable!1,configurable!0}),Object.defineProperties(e,i(t))},e.promisify.custom=A,e.callbackify=function(e){if(function!=typeof e)throw new TypeError('The original argument must be of type Function');function r(){for(var r=[],n=0;narguments.length;n++)r.push(arguments[n]);var i=r.pop();if(function!=typeof i)throw new TypeError(The last argument must be of type Function);var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,r).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(P,e,a)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,i(e)),r}}).call(this,r(152))},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(21);e.default=function(t,e){if(!n.default(t))return t;for(var r=[],i=0;it.length;i++){var o=t[i];e(o,i)&&r.push(o)}return r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(10),i=r(139);e.default=function(t,e){var r=i.default(e),o=r.length;if(n.default(t))return!o;for(var a=0;ao;a+=1){var s=r[a];if(e[s]!==t[s]!(s in t))return!1}return!0}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(2),i=r(14),o=Object.keysfunction(t){return Object.keys(t)}function(t){var e=[];return n.default(t,(function(r,n){i.default(t)&&prototype===ne.push(n)})),e};e.default=o},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(21),i=Array.prototype.splice;e.default=function(t,e){if(!n.default(t))return[];for(var r=te.length0,o=r-1;r--;){var a=void 0,s=e[r];r!==o&&s===a(a=s,i.call(t,s,1))}return t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(72),i=r(2);e.default=function(t){var e=[];return i.default(t,(function(t){n.default(e,t)e.push(t)})),e}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4),i=r(14),o=r(69);e.default=function(t,e){if(!e)return{0t};if(!i.default(e)){var r=n.default(e)ee.replace(s+g,).split();e=function(t){for(var e=_,n=0,i=r.length;ni;n++)e+=t[r[n]]&&t[r[n]].toString();return e}}return o.default(t,e)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t,e){return t.hasOwnProperty(e)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(2),i=r(14),o=Object.valuesfunction(t){return Object.values(t)}function(t){var e=[];return n.default(t,(function(r,n){i.default(t)&&prototype===ne.push(r)})),e};e.default=o},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n={}.toString;e.default=function(t){return n.call(t).replace(^[object ,).replace(]$,)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=Object.prototype;e.default=function(t){var e=t&&t.constructor;return t===(function==typeof e&&e.prototypen)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t){return(window.requestAnimationFramewindow.webkitRequestAnimationFramewindow.mozRequestAnimationFramewindow.msRequestAnimationFramefunction(t){return setTimeout(t,16)})(t)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t){(window.cancelAnimationFramewindow.webkitCancelAnimationFramewindow.mozCancelAnimationFramewindow.msCancelAnimationFrameclearTimeout)(t)}},function(t,e,r){var n=r(316),i={};for(var o in n)n.hasOwnProperty(o)&&(i[n[o]]=o);var a=t.exports={rgb{channels3,labelsrgb},hsl{channels3,labelshsl},hsv{channels3,labelshsv},hwb{channels3,labelshwb},cmyk{channels4,labelscmyk},xyz{channels3,labelsxyz},lab{channels3,labelslab},lch{channels3,labelslch},hex{channels1,labels[hex]},keyword{channels1,labels[keyword]},ansi16{channels1,labels[ansi16]},ansi256{channels1,labels[ansi256]},hcg{channels3,labels[h,c,g]},apple{channels3,labels[r16,g16,b16]},gray{channels1,labels[gray]}};for(var s in a)if(a.hasOwnProperty(s)){if(!(channelsin a[s]))throw new Error(missing channels property +s);if(!(labelsin a[s]))throw new Error(missing channel labels property +s);if(a[s].labels.length!==a[s].channels)throw new Error(channel and label counts mismatch +s);var u=a[s].channels,c=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],channels,{valueu}),Object.defineProperty(a[s],labels,{valuec})}a.rgb.hsl=function(t){var e,r,n=t[0]255,i=t[1]255,o=t[2]255,a=Math.min(n,i,o),s=Math.max(n,i,o),u=s-a;return s===ae=0n===se=(i-o)ui===se=2+(o-n)uo===s&&(e=4+(n-i)u),(e=Math.min(60e,360))0&&(e+=360),r=(a+s)2,[e,100(s===a0r=.5u(s+a)u(2-s-a)),100r]},a.rgb.hsv=function(t){var e,r,n,i,o,a=t[0]255,s=t[1]255,u=t[2]255,c=Math.max(a,s,u),h=c-Math.min(a,s,u),f=function(t){return(c-t)6h+.5};return 0===hi=o=0(o=hc,e=f(a),r=f(s),n=f(u),a===ci=n-rs===ci=13+e-nu===c&&(i=23+r-e),i0i+=1i1&&(i-=1)),[360i,100o,100c]},a.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2];return[a.rgb.hsl(t)[0],100(1255Math.min(e,Math.min(r,n))),100(n=1-1255Math.max(e,Math.max(r,n)))]},a.rgb.cmyk=function(t){var e,r=t[0]255,n=t[1]255,i=t[2]255;return[100((1-r-(e=Math.min(1-r,1-n,1-i)))(1-e)0),100((1-n-e)(1-e)0),100((1-i-e)(1-e)0),100e]},a.rgb.keyword=function(t){var e=i[t];if(e)return e;var r,o,a,s=10;for(var u in n)if(n.hasOwnProperty(u)){var c=n[u],h=(o=t,a=c,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));hs&&(s=h,r=u)}return r},a.keyword.rgb=function(t){return n[t]},a.rgb.xyz=function(t){var e=t[0]255,r=t[1]255,n=t[2]255;return[100(.4124(e=e.04045Math.pow((e+.055)1.055,2.4)e12.92)+.3576(r=r.04045Math.pow((r+.055)1.055,2.4)r12.92)+.1805(n=n.04045Math.pow((n+.055)1.055,2.4)n12.92)),100(.2126e+.7152r+.0722n),100(.0193e+.1192r+.9505n)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),r=e[0],n=e[1],i=e[2];return n=100,i=108.883,r=(r=95.047).008856Math.pow(r,13)7.787r+16116,[116(n=n.008856Math.pow(n,13)7.787n+16116)-16,500(r-n),200(n-(i=i.008856Math.pow(i,13)7.787i+16116))]},a.hsl.rgb=function(t){var e,r,n,i,o,a=t[0]360,s=t[1]100,u=t[2]100;if(0===s)return[o=255u,o,o];e=2u-(r=u.5u(1+s)u+s-us),i=[0,0,0];for(var c=0;c3;c++)(n=a+13-(c-1))0&&n++,n1&&n--,o=6n1e+6(r-e)n2n1r3n2e+(r-e)(23-n)6e,i[c]=255o;return i},a.hsl.hsv=function(t){var e=t[0],r=t[1]100,n=t[2]100,i=r,o=Math.max(n,.01);return r=(n=2)=1n2-n,i=o=1o2-o,[e,100(0===n2i(o+i)2r(n+r)),100((n+r)2)]},a.hsv.rgb=function(t){var e=t[0]60,r=t[1]100,n=t[2]100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255n(1-r),s=255n(1-ro),u=255n(1-r(1-o));switch(n=255,i){case 0return[n,u,a];case 1return[s,n,a];case 2return[a,n,u];case 3return[a,s,n];case 4return[u,a,n];case 5return[n,a,s]}},a.hsv.hsl=function(t){var e,r,n,i=t[0],o=t[1]100,a=t[2]100,s=Math.max(a,.01);return n=(2-o)a,r=os,[i,100(r=(r=(e=(2-o)s)=1e2-e)0),100(n=2)]},a.hwb.rgb=function(t){var e,r,n,i,o,a,s,u=t[0]360,c=t[1]100,h=t[2]100,f=c+h;switch(f1&&(c=f,h=f),n=6u-(e=Math.floor(6u)),0!=(1&e)&&(n=1-n),i=c+n((r=1-h)-c),e){defaultcase 6case 0o=r,a=i,s=c;break;case 1o=i,a=r,s=c;break;case 2o=c,a=r,s=i;break;case 3o=c,a=i,s=r;break;case 4o=i,a=c,s=r;break;case 5o=r,a=c,s=i}return[255o,255a,255s]},a.cmyk.rgb=function(t){var e=t[0]100,r=t[1]100,n=t[2]100,i=t[3]100;return[255(1-Math.min(1,e(1-i)+i)),255(1-Math.min(1,r(1-i)+i)),255(1-Math.min(1,n(1-i)+i))]},a.xyz.rgb=function(t){var e,r,n,i=t[0]100,o=t[1]100,a=t[2]100;return r=-.9689i+1.8758o+.0415a,n=.0557i+-.204o+1.057a,e=(e=3.2406i+-1.5372o+-.4986a).00313081.055Math.pow(e,12.4)-.05512.92e,r=r.00313081.055Math.pow(r,12.4)-.05512.92r,n=n.00313081.055Math.pow(n,12.4)-.05512.92n,[255(e=Math.min(Math.max(0,e),1)),255(r=Math.min(Math.max(0,r),1)),255(n=Math.min(Math.max(0,n),1))]},a.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2];return r=100,n=108.883,e=(e=95.047).008856Math.pow(e,13)7.787e+16116,[116(r=r.008856Math.pow(r,13)7.787r+16116)-16,500(e-r),200(r-(n=n.008856Math.pow(n,13)7.787n+16116))]},a.lab.xyz=function(t){var e,r,n,i=t[0];e=t[1]500+(r=(i+16)116),n=r-t[2]200;var o=Math.pow(r,3),a=Math.pow(e,3),s=Math.pow(n,3);return r=o.008856o(r-16116)7.787,e=a.008856a(e-16116)7.787,n=s.008856s(n-16116)7.787,[e=95.047,r=100,n=108.883]},a.lab.lch=function(t){var e,r=t[0],n=t[1],i=t[2];return(e=360Math.atan2(i,n)2Math.PI)0&&(e+=360),[r,Math.sqrt(nn+ii),e]},a.lch.lab=function(t){var e,r=t[0],n=t[1];return e=t[2]3602Math.PI,[r,nMath.cos(e),nMath.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in argumentsarguments[1]a.rgb.hsv(t)[2];if(0===(i=Math.round(i50)))return 30;var o=30+(Math.round(n255)2Math.round(r255)1Math.round(e255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];return e===r&&r===ne816e248231Math.round((e-8)24724)+23216+36Math.round(e2555)+6Math.round(r2555)+Math.round(n2555)},a.ansi16.rgb=function(t){var e=t%10;if(0===e7===e)return t50&&(e+=3.5),[e=e10.5255,e,e];var r=.5(1+~~(t50));return[(1&e)r255,(e1&1)r255,(e2&1)r255]},a.ansi256.rgb=function(t){if(t=232){var e=10(t-232)+8;return[e,e,e]}var r;return t-=16,[Math.floor(t36)5255,Math.floor((r=t%36)6)5255,r%65255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))16)+((255&Math.round(t[1]))8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return000000.substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match([a-f0-9]{6}[a-f0-9]{3}i);if(!e)return[0,0,0];var r=e[0];3===e[0].length&&(r=r.split().map((function(t){return t+t})).join());var n=parseInt(r,16);return[n16&255,n8&255,255&n]},a.rgb.hcg=function(t){var e,r=t[0]255,n=t[1]255,i=t[2]255,o=Math.max(Math.max(r,n),i),a=Math.min(Math.min(r,n),i),s=o-a;return e=s=00o===r(n-i)s%6o===n2+(i-r)s4+(r-n)s+4,e=6,[360(e%=1),100s,100(s1a(1-s)0)]},a.hsl.hcg=function(t){var e=t[1]100,r=t[2]100,n=1,i=0;return(n=r.52er2e(1-r))1&&(i=(r-.5n)(1-n)),[t[0],100n,100i]},a.hsv.hcg=function(t){var e=t[1]100,r=t[2]100,n=er,i=0;return n1&&(i=(r-n)(1-n)),[t[0],100n,100i]},a.hcg.rgb=function(t){var e=t[0]360,r=t[1]100,n=t[2]100;if(0===r)return[255n,255n,255n];var i,o=[0,0,0],a=e%16,s=a%1,u=1-s;switch(Math.floor(a)){case 0o[0]=1,o[1]=s,o[2]=0;break;case 1o[0]=u,o[1]=1,o[2]=0;break;case 2o[0]=0,o[1]=1,o[2]=s;break;case 3o[0]=0,o[1]=u,o[2]=1;break;case 4o[0]=s,o[1]=0,o[2]=1;break;defaulto[0]=1,o[1]=0,o[2]=u}return i=(1-r)n,[255(ro[0]+i),255(ro[1]+i),255(ro[2]+i)]},a.hcg.hsv=function(t){var e=t[1]100,r=e+t[2]100(1-e),n=0;return r0&&(n=er),[t[0],100n,100r]},a.hcg.hsl=function(t){var e=t[1]100,r=t[2]100(1-e)+.5e,n=0;return r0&&r.5n=e(2r)r=.5&&r1&&(n=e(2(1-r))),[t[0],100n,100r]},a.hcg.hwb=function(t){var e=t[1]100,r=e+t[2]100(1-e);return[t[0],100(r-e),100(1-r)]},a.hwb.hcg=function(t){var e=t[1]100,r=1-t[2]100,n=r-e,i=0;return n1&&(i=(r-n)(1-n)),[t[0],100n,100i]},a.apple.rgb=function(t){return[t[0]65535255,t[1]65535255,t[2]65535255]},a.rgb.apple=function(t){return[t[0]25565535,t[1]25565535,t[2]25565535]},a.gray.rgb=function(t){return[t[0]100255,t[0]100255,t[0]100255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]100255),r=((e16)+(e8)+e).toString(16).toUpperCase();return000000.substring(r.length)+r},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])3255100]}},function(t,e){},function(t,e){},function(t,e){var r,n,i=t.exports={};function o(){throw new Error(setTimeout has not been defined)}function a(){throw new Error(clearTimeout has not been defined)}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=function==typeof setTimeoutsetTimeouto}catch(t){r=o}try{n=function==typeof clearTimeoutclearTimeouta}catch(t){n=a}}();var u,c=[],h=!1,f=-1;function l(){h&&u&&(h=!1,u.lengthc=u.concat(c)f=-1,c.length&&d())}function d(){if(!h){var t=s(l);h=!0;for(var e=c.length;e;){for(u=c,c=[];++fe;)u&&u[f].run();f=-1,e=c.length}u=null,h=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length1)for(var r=1;rarguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.lengthhs(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title=browser,i.browser=!0,i.env={},i.argv=[],i.version=,i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(process.binding is not supported)},i.cwd=function(){return},i.chdir=function(t){throw new Error(process.chdir is not supported)},i.umask=function(){return 0}},function(t,e,r){use strict;var n=r(1),i=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(n.__extends)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),r=this.getChildren(),n=0;nr.length;n++){var i=r[n];e.add(i.clone())}return e},e}(r(100).a);e.a=i},function(t,e,r){use strict;var n=r(1),i=r(101),o=r(32),a=function(t){function e(e){return t.call(this,e)this}return Object(n.__extends)(e,t),e.prototype._isInBBox=function(t,e){var r=this.getBBox();return r.minX=t&&r.maxX=t&&r.minY=e&&r.maxY=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t(t=this.calculateBBox(),this.set(bbox,t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t(t=this.calculateCanvasBBox(),this.set(canvasBBox,t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set(canvasBBox,null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),r=t.minX,n=t.minY,i=t.maxX,a=t.maxY;if(e){var s=Object(o.c)(e,[t.minX,t.minY]),u=Object(o.c)(e,[t.maxX,t.minY]),c=Object(o.c)(e,[t.minX,t.maxY]),h=Object(o.c)(e,[t.maxX,t.maxY]);r=Math.min(s[0],u[0],c[0],h[0]),i=Math.max(s[0],u[0],c[0],h[0]),n=Math.min(s[1],u[1],c[1],h[1]),a=Math.max(s[1],u[1],c[1],h[1])}var f=this.attrs;if(f.shadowColor){var l=f.shadowBlur,d=void 0===l0l,p=f.shadowOffsetX,g=void 0===p0p,v=f.shadowOffsetY,y=void 0===v0v,m=r-d+g,b=i+d+g,x=n-d+y,w=a+d+y;r=Math.min(r,m),i=Math.max(i,b),n=Math.min(n,x),a=Math.max(a,w)}return{xr,yn,minXr,minYn,maxXi,maxYa,widthi-r,heighta-n}},e.prototype.clearCacheBBox=function(){this.set(bbox,null),this.set(canvasBBox,null)},e.prototype.isClipShape=function(){return this.get(isClipShape)},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var r=this.get(startArrowShape),n=this.get(endArrowShape),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(r&&r.isHit(o,a))return!0;if(n&&n.isHit(o,a))return!0}return!1},e}(i.a);e.a=a},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.isAllowCapture=e.isParent=e.isBrowser=e.removeFromArray=void 0,e.removeFromArray=function(t,e){var r=t.indexOf(e);-1!==r&&t.splice(r,1)},e.isBrowser=undefined!=typeof window&&void 0!==window.document;var n=r(10);Object.defineProperty(e,isNil,{enumerable!0,getfunction(){return n.default}});var i=r(14);Object.defineProperty(e,isFunction,{enumerable!0,getfunction(){return i.default}});var o=r(3);Object.defineProperty(e,isString,{enumerable!0,getfunction(){return o.default}});var a=r(35);Object.defineProperty(e,isObject,{enumerable!0,getfunction(){return a.default}});var s=r(4);Object.defineProperty(e,isArray,{enumerable!0,getfunction(){return s.default}});var u=r(17);Object.defineProperty(e,mix,{enumerable!0,getfunction(){return u.default}});var c=r(2);Object.defineProperty(e,each,{enumerable!0,getfunction(){return c.default}});var h=r(49);Object.defineProperty(e,upperFirst,{enumerable!0,getfunction(){return h.default}}),e.isParent=function(t,e){if(t.isCanvas())return!0;for(var r=e.getParent(),n=!1;r;){if(r===t){n=!0;break}r=r.getParent()}return n},e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.parseRadius=e.parseStyle=e.parsePattern=e.parseRadialGradient=e.parseLineGradient=void 0;var n=r(18),i=^ls(s([d.]+)s)s(.)i,o=^rs(s([d.]+)s,s([d.]+)s,s([d.]+)s)s(.)i,a=^ps(s([axyn])s)s(.)i,s=[d.]+(#[^s]+[^)]+))gi;function u(t,e){var r=t.match(s);n.each(r,(function(t){var r=t.split();e.addColorStop(r[0],r[1])}))}function c(t,e,r){var n,o,a=i.exec(r),s=parseFloat(a[1])%360(Math.PI180),c=a[2],h=e.getBBox();s=0&&s.5Math.PI(n={xh.minX,yh.minY},o={xh.maxX,yh.maxY}).5Math.PI=s&&sMath.PI(n={xh.maxX,yh.minY},o={xh.minX,yh.maxY})Math.PI=s&&s1.5Math.PI(n={xh.maxX,yh.maxY},o={xh.minX,yh.minY})(n={xh.minX,yh.maxY},o={xh.maxX,yh.minY});var f=Math.tan(s),l=ff,d=(o.x-n.x+f(o.y-n.y))(l+1)+n.x,p=f(o.x-n.x+f(o.y-n.y))(l+1)+n.y,g=t.createLinearGradient(n.x,n.y,d,p);return u(c,g),g}function h(t,e,r){var n=o.exec(r),i=parseFloat(n[1]),a=parseFloat(n[2]),c=parseFloat(n[3]),h=n[4];if(0===c){var f=h.match(s);return f[f.length-1].split()[1]}var l=e.getBBox(),d=l.maxX-l.minX,p=l.maxY-l.minY,g=Math.sqrt(dd+pp)2,v=t.createRadialGradient(l.minX+di,l.minY+pa,0,l.minX+d2,l.minY+p2,cg);return u(h,v),v}function f(t,e,r){if(e.get(patternSource)&&e.get(patternSource)===r)return e.get(pattern);var n,i,o=a.exec(r),s=o[1],u=o[2];function c(){n=t.createPattern(i,s),e.set(pattern,n),e.set(patternSource,r)}switch(s){caseas=repeat;break;casexs=repeat-x;break;caseys=repeat-y;break;casens=no-repeat;break;defaults=no-repeat}return i=new Image,u.match(^datai)(i.crossOrigin=Anonymous),i.src=u,i.completec()(i.onload=c,i.src=i.src),n}e.parseLineGradient=c,e.parseRadialGradient=h,e.parsePattern=f,e.parseStyle=function(t,e,r){if(n.isString(r)){if((===r[1](===r[2]){if(l===r[0])return c(t,e,r);if(r===r[0])return h(t,e,r);if(p===r[0])return f(t,e,r)}return r}},e.parseRadius=function(t){var e=0,r=0,i=0,o=0;return n.isArray(t)1===t.lengthe=r=i=o=t[0]2===t.length(e=i=t[0],r=o=t[1])3===t.length(e=t[0],r=o=t[1],i=t[2])(e=t[0],r=t[1],i=t[2],o=t[3])e=r=i=o=t,[e,r,i,o]}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.getBBoxMethod=void 0;var n=r(322);Object.defineProperty(e,getBBoxMethod,{enumerable!0,getfunction(){return n.getMethod}});var i=r(323),o=r(324),a=r(325),s=r(326),u=r(327),c=r(328),h=r(332),f=r(333);n.register(rect,i.default),n.register(image,i.default),n.register(circle,o.default),n.register(marker,o.default),n.register(polyline,a.default),n.register(polygon,s.default),n.register(text,u.default),n.register(path,c.default),n.register(line,h.default),n.register(ellipse,f.default)},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.assembleFont=e.getTextWidth=e.getLineSpaceing=e.getTextHeight=void 0;var n=r(155),i=r(159);function o(t,e){return ee-t.14t}e.getTextHeight=function(t,e,r){var i=1;return n.isString(t)&&(i=t.split(n).length),i1ei+o(e,r)(i-1)e},e.getLineSpaceing=o,e.getTextWidth=function(t,e){var r=i.getOffScreenContext(),o=0;if(n.isNil(t)===t)return o;if(r.save(),r.font=e,n.isString(t)&&t.includes(n)){var a=t.split(n);n.each(a,(function(t){var e=r.measureText(t).width;oe&&(o=e)}))}else o=r.measureText(t).width;return r.restore(),o},e.assembleFont=function(t){var e=t.fontSize,r=t.fontFamily,n=t.fontWeight;return[t.fontStyle,t.fontVariant,n,e+px,r].join( ).trim()}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.getOffScreenContext=void 0;var n=null;e.getOffScreenContext=function(){if(!n){var t=document.createElement(canvas);t.width=1,t.height=1,n=t.getContext(2d)}return n}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(40),i=r(33),o=r(161);function a(t,e,r,n){var i=1-n;return iit+2nie+nnr}function s(t,e,r){var n=t+r-2e;if(i.isNumberEqual(n,0))return[.5];var o=(t-e)n;return o=1&&o=0[o][]}function u(t,e,r,n){return 2(1-n)(e-t)+2n(r-e)}function c(t,e,r,i,o,s,u){var c=a(t,r,o,u),h=a(e,i,s,u),f=n.default.pointAt(t,e,r,i,u),l=n.default.pointAt(r,i,o,s,u);return[[t,e,f.x,f.y,c,h],[c,h,l.x,l.y,o,s]]}e.default={boxfunction(t,e,r,n,o,u){var c=s(t,r,o)[0],h=s(e,n,u)[0],f=[t,o],l=[e,u];return void 0!==c&&f.push(a(t,r,o,c)),void 0!==h&&l.push(a(e,n,u,h)),i.getBBoxByArray(f,l)},lengthfunction(t,e,r,n,o,a){return function t(e,r,n,o,a,s,u){if(0===u)return(i.distance(e,r,n,o)+i.distance(n,o,a,s)+i.distance(e,r,a,s))2;var h=c(e,r,n,o,a,s,.5),f=h[0],l=h[1];return f.push(u-1),l.push(u-1),t.apply(null,f)+t.apply(null,l)}(t,e,r,n,o,a,3)},nearestPointfunction(t,e,r,n,i,s,u,c){return o.nearestPoint([t,r,i],[e,n,s],u,c,a)},pointDistancefunction(t,e,r,n,o,a,s,u){var c=this.nearestPoint(t,e,r,n,o,a,s,u);return i.distance(c.x,c.y,s,u)},interpolationAta,pointAtfunction(t,e,r,n,i,o,s){return{xa(t,r,i,s),ya(e,n,o,s)}},dividefunction(t,e,r,n,i,o,a){return c(t,e,r,n,i,o,a)},tangentAnglefunction(t,e,r,n,o,a,s){var c=u(t,r,o,s),h=u(e,n,a,s),f=Math.atan2(h,c);return i.piMod(f)}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.snapLength=e.nearestPoint=void 0;var n=r(33);e.nearestPoint=function(t,e,r,i,o,a){var s,u=10,c=[r,i],h=20;a&&a200&&(h=a10);for(var f=1h,l=f10,d=0;d=h;d++){var p=df,g=[o.apply(null,t.concat([p])),o.apply(null,e.concat([p]))];(b=n.distance(c[0],c[1],g[0],g[1]))u&&(s=p,u=b)}if(0===s)return{xt[0],ye[0]};if(1===s){var v=t.length;return{xt[v-1],ye[v-1]}}for(u=10,d=0;d32&&!(l1e-4);d++){var y=s-l,m=s+l,b=(g=[o.apply(null,t.concat([y])),o.apply(null,e.concat([y]))],n.distance(c[0],c[1],g[0],g[1]));if(y=0&&bu)s=y,u=b;else{var x=[o.apply(null,t.concat([m])),o.apply(null,e.concat([m]))],w=n.distance(c[0],c[1],x[0],x[1]);m=1&&wu(s=m,u=w)l=.5}}return{xo.apply(null,t.concat([s])),yo.apply(null,e.concat([s]))}},e.snapLength=function(t,e){for(var r=0,i=t.length,o=0;oi;o++){var a=t[o],s=e[o],u=t[(o+1)%i],c=e[(o+1)%i];r+=n.distance(a,s,u,c)}return r2}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(163),i=r(163),o=r(331);function a(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){for(var e=[],r=null,s=null,u=null,c=0,h=(t=o.default(t)).length,f=0;fh;f++){var l=t[f];s=t[f+1];var d=l[0],p={commandd,prePointr,paramsl,startTangentnull,endTangentnull};switch(d){caseMu=[l[1],l[2]],c=f;break;caseAvar g=n.default(r,l);p.arcParams=g}if(Z===d)r=u,s=t[c+1];else{var v=l.length;r=[l[v-2],l[v-1]]}s&&Z===s[0]&&(s=t[c],e[c]&&(e[c].prePoint=r)),p.currentPoint=r,e[c]&&i.isSamePoint(r,e[c].currentPoint)&&(e[c].prePoint=p.prePoint);var y=s[s[s.length-2],s[s.length-1]]null;p.nextPoint=y;var m=p.prePoint;if([L,H,V].includes(d))p.startTangent=[m[0]-r[0],m[1]-r[1]],p.endTangent=[r[0]-m[0],r[1]-m[1]];else if(Q===d){var b=[l[1],l[2]];p.startTangent=[m[0]-b[0],m[1]-b[1]],p.endTangent=[r[0]-b[0],r[1]-b[1]]}else if(T===d){b=a((M=e[f-1]).currentPoint,m);Q===M.command(p.command=Q,p.startTangent=[m[0]-b[0],m[1]-b[1]],p.endTangent=[r[0]-b[0],r[1]-b[1]])(p.command=TL,p.startTangent=[m[0]-r[0],m[1]-r[1]],p.endTangent=[r[0]-m[0],r[1]-m[1]])}else if(C===d){var x=[l[1],l[2]],w=[l[3],l[4]];p.startTangent=[m[0]-x[0],m[1]-x[1]],p.endTangent=[r[0]-w[0],r[1]-w[1]]}else if(S===d){var M;x=a((M=e[f-1]).currentPoint,m),w=[l[1],l[2]];C===M.command(p.command=C,p.startTangent=[m[0]-x[0],m[1]-x[1]],p.endTangent=[r[0]-w[0],r[1]-w[1]])(p.command=SQ,p.startTangent=[m[0]-w[0],m[1]-w[1]],p.endTangent=[r[0]-w[0],r[1]-w[1]])}else if(A===d){var S=.001,_=p.arcParams{},k=_.cx,O=void 0===k0k,E=_.cy,j=void 0===E0E,C=_.rx,A=void 0===C0C,P=_.ry,I=void 0===P0P,T=_.sweepFlag,N=void 0===T0T,D=_.startAngle,B=void 0===D0D,R=_.endAngle,L=void 0===R0R;0===N&&(S=-1);var z=AMath.cos(B-S)+O,F=IMath.sin(B-S)+j;p.startTangent=[z-u[0],F-u[1]];var Y=AMath.cos(B+L+S)+O,G=IMath.sin(B+L-S)+j;p.endTangent=[m[0]-Y,m[1]-G]}e.push(p)}return e}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(67),i=r(68);function o(t){return Math.sqrt(t[0]t[0]+t[1]t[1])}function a(t,e){return o(t)o(e)(t[0]e[0]+t[1]e[1])(o(t)o(e))1}function s(t,e){return(t[0]e[1]t[1]e[0]-11)Math.acos(a(t,e))}function u(t,e){return t[0]===e[0]&&t[1]===e[1]}e.isSamePoint=u,e.default=function(t,e){var r=e[1],o=e[2],c=n.default(i.default(e[3]),2Math.PI),h=e[4],f=e[5],l=t[0],d=t[1],p=e[6],g=e[7],v=Math.cos(c)(l-p)2+Math.sin(c)(d-g)2,y=-1Math.sin(c)(l-p)2+Math.cos(c)(d-g)2,m=vv(rr)+yy(oo);m1&&(r=Math.sqrt(m),o=Math.sqrt(m));var b=rr(yy)+oo(vv),x=bMath.sqrt((rr(oo)-b)b)1;h===f&&(x=-1),isNaN(x)&&(x=0);var w=oxryo0,M=rx-ovr0,S=(l+p)2+Math.cos(c)w-Math.sin(c)M,_=(d+g)2+Math.sin(c)w+Math.cos(c)M,k=[(v-w)r,(y-M)o],O=[(-1v-w)r,(-1y-M)o],E=s([1,0],k),j=s(k,O);return a(k,O)=-1&&(j=Math.PI),a(k,O)=1&&(j=0),0===f&&j0&&(j-=2Math.PI),1===f&&j0&&(j+=2Math.PI),{cxS,cy_,rxu(t,[p,g])0r,ryu(t,[p,g])0o,startAngleE,endAngleE+j,xRotationc,arcFlagh,sweepFlagf}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(43),o=r(73),a=r(60),s=r(0),u=r(18),c=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.onCanvasChange=function(t){a.refreshElement(this,t)},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),a.applyAttrsToContext(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],r=[];s.each(t,(function(t){var n=t.cfg.cacheCanvasBBox;n&&t.cfg.isInView&&(e.push(n.minX,n.maxX),r.push(n.minY,n.maxY))}));var n=null;if(e.length){var i=Math.min.apply(null,e),o=Math.max.apply(null,e),a=Math.min.apply(null,r),c=Math.max.apply(null,r);n={minXi,minYa,xi,ya,maxXo,maxYc,widtho-i,heightc-a};var h=this.cfg.canvas;if(h){var f=h.getViewRange();this.set(isInView,u.intersectRect(n,f))}}else this.set(isInView,!1);this.set(cacheCanvasBBox,n)},e.prototype.draw=function(t,e){var r=this.cfg.children,n=!ethis.cfg.refresh;r.length&&n&&(t.save(),a.applyAttrsToContext(t,this),this._applyClip(t,this.getClip()),a.drawChildren(t,r,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set(hasChanged,!1)},e.prototype.skipDraw=function(){this.set(cacheCanvasBBox,null),this.set(hasChanged,!1)},e}(i.AbstractGroup);e.default=c},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(339),i=[a-z];function o(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){var e=n.default(t);if(!e!e.length)return[[M,0,0]];for(var r=!1,a=0;ae.length;a++){var s=e[a][0];if(i.test(s)[V,H,T,S].indexOf(s)=0){r=!0;break}}if(!r)return e;var u=[],c=0,h=0,f=0,l=0,d=0,p=e[0];M!==p[0]&&m!==p[0](f=c=+p[1],l=h=+p[2],d++,u[0]=[M,c,h]),a=d;for(var g=e.length;ag;a++){var v=e[a],y=u[a-1],m=[],b=(s=v[0]).toUpperCase();if(s!==b)switch(m[0]=b,b){caseAm[1]=v[1],m[2]=v[2],m[3]=v[3],m[4]=v[4],m[5]=v[5],m[6]=+v[6]+c,m[7]=+v[7]+h;break;caseVm[1]=+v[1]+h;break;caseHm[1]=+v[1]+c;break;caseMf=+v[1]+c,l=+v[2]+h;break;defaultfor(var x=1,w=v.length;xw;x++)m[x]=+v[x]+(x%2ch)}else m=e[a];switch(b){caseZc=+f,h=+l;break;caseHm=[L,c=m[1],h];break;caseVm=[L,c,h=m[1]];break;caseTc=m[1],h=m[2];var M=o([y[1],y[2]],[y[3],y[4]]);m=[Q,M[0],M[1],c,h];break;caseSc=m[m.length-2],h=m[m.length-1];var S=y.length,_=o([y[S-4],y[S-3]],[y[S-2],y[S-1]]);m=[C,_[0],_[1],m[1],m[2],c,h];break;caseMf=m[m.length-2],l=m[m.length-1];break;defaultc=m[m.length-2],h=m[m.length-1]}u.push(m)}return u}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(159);e.default=function(t,e,r){var i=n.getOffScreenContext();return t.createPath(i),i.isPointInPath(e,r)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});function n(t){return Math.abs(t)1e-60t0-11}function i(t,e,r){return(r[0]-t[0])(e[1]-t[1])==(e[0]-t[0])(r[1]-t[1])&&Math.min(t[0],e[0])=r[0]&&r[0]=Math.max(t[0],e[0])&&Math.min(t[1],e[1])=r[1]&&r[1]=Math.max(t[1],e[1])}e.default=function(t,e,r){var o=!1,a=t.length;if(a=2)return!1;for(var s=0;sa;s++){var u=t[s],c=t[(s+1)%a];if(i(u,c,[e,r]))return!0;n(u[1]-r)0!=n(c[1]-r)0&&n(e-(r-u[1])(u[0]-c[0])(u[1]-c[1])-u[0])0&&(o=!o)}return o}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(18);e.default=function(t,e,r,i,o,a,s,u){var c=(Math.atan2(u-e,s-t)+2Math.PI)%(2Math.PI);if(cico)return!1;var h={xt+rMath.cos(c),ye+rMath.sin(c)};return n.distance(h.x,h.y,s,u)=a2}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(75);e.default=function(t,e,r,i,o){var a=t.length;if(a2)return!1;for(var s=0;sa-1;s++){var u=t[s][0],c=t[s][1],h=t[s+1][0],f=t[s+1][1];if(n.default(u,c,h,f,e,r,i))return!0}if(o){var l=t[0],d=t[a-1];if(n.default(l[0],l[1],d[0],d[1],e,r,i))return!0}return!1}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(344),i=r(33);e.default={boxfunction(t){for(var e=[],r=[],n=0;nt.length;n++){var o=t[n];e.push(o[0]),r.push(o[1])}return i.getBBoxByArray(e,r)},lengthfunction(t){return n.lengthOfSegment(t)},pointAtfunction(t,e){return n.pointAtSegments(t,e)},pointDistancefunction(t,e,r){return n.distanceAtSegment(t,e,r)},tangentAnglefunction(t,e){return n.angleAtSegments(t,e)}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(43),o=r(0),a=r(110),s=r(109),u=r(61),c=r(19),h=r(29),f=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=h.createSVGElement(g);this.set(el,t);var e=this.getParent();if(e){var r=e.get(el);r(r=e.createDom(),e.set(el,r)),r.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var r=this.get(canvas);if(r&&r.get(autoDraw)){var n=r.get(context);this.createPath(n,e)}},e.prototype.onCanvasChange=function(t){s.refreshElement(this,t)},e.prototype.getShapeBase=function(){return a},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),r=this.get(el);this.get(destroyed)r&&r.parentNode.removeChild(r)(rthis.createDom(),u.setClip(this,t),this.createPath(t),e.length&&s.drawChildren(t,e))},e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get(el);o.each(er,(function(t,e){c.SVG_ATTR_MAP[e]&&n.setAttribute(c.SVG_ATTR_MAP[e],t)})),u.setTransform(this)},e}(i.AbstractGroup);e.default=f},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(16);n.translate=function(t,e,r){var i=new Array(9);return n.fromTranslation(i,r),n.multiply(t,i,e)},n.rotate=function(t,e,r){var i=new Array(9);return n.fromRotation(i,r),n.multiply(t,i,e)},n.scale=function(t,e,r){var i=new Array(9);return n.fromScaling(i,r),n.multiply(t,i,e)},n.transform=function(t,e){for(var r=[].concat(t),i=0,o=e.length;io;i++){var a=e[i];switch(a[0]){casetn.translate(r,r,[a[1],a[2]]);break;casesn.scale(r,r,[a[1],a[2]]);break;casern.rotate(r,r,a[1])}}return r},e.default=n},function(t,e,r){var n=r(76),i=r(114),o=r(81),a=r(403),s=r(409),u=r(179),c=r(180),h=r(412),f=r(413),l=r(184),d=r(414),p=r(54),g=r(418),v=r(419),y=r(189),m=r(15),b=r(53),x=r(423),w=r(25),M=r(425),S=r(41),_=r(46),k={};k[[object Arguments]]=k[[object Array]]=k[[object ArrayBuffer]]=k[[object DataView]]=k[[object Boolean]]=k[[object Date]]=k[[object Float32Array]]=k[[object Float64Array]]=k[[object Int8Array]]=k[[object Int16Array]]=k[[object Int32Array]]=k[[object Map]]=k[[object Number]]=k[[object Object]]=k[[object RegExp]]=k[[object Set]]=k[[object String]]=k[[object Symbol]]=k[[object Uint8Array]]=k[[object Uint8ClampedArray]]=k[[object Uint16Array]]=k[[object Uint32Array]]=!0,k[[object Error]]=k[[object Function]]=k[[object WeakMap]]=!1,t.exports=function t(e,r,O,E,j,C){var A,P=1&r,I=2&r,T=4&r;if(O&&(A=jO(e,E,j,C)O(e)),void 0!==A)return A;if(!w(e))return e;var N=m(e);if(N){if(A=g(e),!P)return c(e,A)}else{var D=p(e),B=[object Function]==D[object GeneratorFunction]==D;if(b(e))return u(e,P);if([object Object]==D[object Arguments]==DB&&!j){if(A=IB{}y(e),!P)return If(e,s(A,e))h(e,a(A,e))}else{if(!k[D])return je{};A=v(e,D,P)}}C(C=new n);var R=C.get(e);if(R)return R;C.set(e,A),M(e)e.forEach((function(n){A.add(t(n,r,O,n,e,C))}))x(e)&&e.forEach((function(n,i){A.set(i,t(n,r,O,i,e,C))}));var L=Nvoid 0(TIdlI_S)(e);return i(Le,(function(n,i){L&&(n=e[i=n]),o(A,i,t(n,r,O,i,e,C))})),A}},function(t,e,r){(function(e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var n=object==(void 0===eundefinedr(e))&&e&&e.Object===Object&&e;t.exports=n}).call(this,r(385))},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+}catch(t){}}return}},function(t,e,r){var n=r(44),i=function(){try{var t=n(Object,defineProperty);return t({},,{}),t}catch(t){}}();t.exports=i},function(t,e,r){var n=r(404),i=r(64),o=r(15),a=r(53),s=r(83),u=r(65),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),h=!r&&i(t),f=!r&&!h&&a(t),l=!r&&!h&&!f&&u(t),d=rhfl,p=dn(t.length,String)[],g=p.length;for(var v in t)!e&&!c.call(t,v)d&&(length==vf&&(offset==vparent==v)l&&(buffer==vbyteLength==vbyteOffset==v)s(v,g))p.push(v);return p}},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){(function(t){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=r(31),o=object==n(e)&&e&&!e.nodeType&&e,a=o&&object==n(t)&&t&&!t.nodeType&&t,s=a&&a.exports===oi.Buffervoid 0,u=ss.allocUnsafevoid 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=uu(r)new t.constructor(r);return t.copy(n),n}}).call(this,r(115)(t))},function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e(e=Array(n));++rn;)e[r]=t[r];return e}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t0t.length,i=0,o=[];++rn;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,r){var n=r(120),i=r(86),o=r(119),a=r(182),s=Object.getOwnPropertySymbolsfunction(t){for(var e=[];t;)n(e,o(t)),t=i(t);return e}a;t.exports=s},function(t,e,r){var n=r(185),i=r(119),o=r(41);t.exports=function(t){return n(t,o,i)}},function(t,e,r){var n=r(120),i=r(15);t.exports=function(t,e,r){var o=e(t);return i(t)on(o,r(t))}},function(t,e,r){var n=r(44)(r(31),Set);t.exports=n},function(t,e,r){var n=r(31).Uint8Array;t.exports=n},function(t,e,r){var n=r(121);t.exports=function(t,e){var r=en(t.buffer)t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},function(t,e,r){var n=r(190),i=r(86),o=r(85);t.exports=function(t){returnfunction!=typeof t.constructoro(t){}n(i(t))}},function(t,e,r){var n=r(25),i=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},function(t,e,r){t.exports=r(192)},function(t,e,r){var n=r(114),i=r(87),o=r(193),a=r(15);t.exports=function(t,e){return(a(t)ni)(t,o(e))}},function(t,e,r){var n=r(47);t.exports=function(t){returnfunction==typeof ttn}},function(t,e,r){var n=r(181),i=r(429),o=r(39),a=r(15);t.exports=function(t,e){return(a(t)ni)(t,o(e,3))}},function(t,e,r){var n=r(432),i=r(34);t.exports=function t(e,r,o,a,s){return e===r(null==enull==r!i(e)&&!i(r)e!=e&&r!=rn(e,r,o,a,t,s))}},function(t,e,r){var n=r(197),i=r(435),o=r(198);t.exports=function(t,e,r,a,s,u){var c=1&r,h=t.length,f=e.length;if(h!=f&&!(c&&fh))return!1;var l=u.get(t),d=u.get(e);if(l&&d)return l==e&&d==t;var p=-1,g=!0,v=2&rnew nvoid 0;for(u.set(t,e),u.set(e,t);++ph;){var y=t[p],m=e[p];if(a)var b=ca(m,y,p,e,t,u)a(y,m,p,t,e,u);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!i(e,(function(t,e){if(!o(v,e)&&(y===ts(y,t,r,a,u)))return v.push(e)}))){g=!1;break}}else if(y!==m&&!s(y,m,r,a,u)){g=!1;break}}return u.delete(t),u.delete(e),g}},function(t,e,r){var n=r(113),i=r(433),o=r(434);function a(t){var e=-1,r=null==t0t.length;for(this.__data__=new n;++er;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,r){var n=r(25);t.exports=function(t){return t==t&&!n(t)}},function(t,e){t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==et in Object(r)))}}},function(t,e,r){var n=r(445);t.exports=function(t){return null==tn(t)}},function(t,e,r){var n=r(446),i=r(203);t.exports=function(t,e){return null!=t&&i(t,e,n)}},function(t,e,r){var n=r(89),i=r(64),o=r(15),a=r(83),s=r(116),u=r(66);t.exports=function(t,e,r){for(var c=-1,h=(e=n(e,t)).length,f=!1;++ch;){var l=u(e[c]);if(!(f=null!=t&&r(t,l)))break;t=t[l]}return f++c!=hf!!(h=null==t0t.length)&&s(h)&&a(l,h)&&(o(t)i(t))}},function(t,e){t.exports=function(t){return function(e){return null==evoid 0e[t]}}},function(t,e,r){var n=r(449),i=r(203);t.exports=function(t,e){return null!=t&&i(t,e,n)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,r){var n=r(90),i=r(39),o=r(208),a=r(15);t.exports=function(t,e){return(a(t)no)(t,i(e,3))}},function(t,e,r){var n=r(87),i=r(38);t.exports=function(t,e){var r=-1,o=i(t)Array(t.length)[];return n(t,(function(t,n,i){o[++r]=e(t,n,i)})),o}},function(t,e,r){var n=r(451),i=r(87),o=r(39),a=r(452),s=r(15);t.exports=function(t,e,r){var u=s(t)na,c=arguments.length3;return u(t,o(e,4),r,c,i)}},function(t,e,r){var n=r(462),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===et.length-1e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++as;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++ae;)c[a]=o[a];return c[e]=r(u),n(t,this,c)}}},function(t,e,r){var n=r(463),i=r(464)(n);t.exports=i},function(t,e){t.exports=function(t,e,r,n){for(var i=t.length,o=r+(n1-1);no--++oi;)if(e(t[o],o,t))return o;return-1}},function(t,e,r){var n=r(38),i=r(34);t.exports=function(t){return i(t)&&n(t)}},function(t,e,r){var n=r(473),i=r(41);t.exports=function(t){return null==t[]n(t,i(t))}},function(t,e,r){var n=r(24),i=r(216);t.exports=function(t,e,r,n){return function(t,e,r,n){var o,a,s={},u=new i,c=function(t){var e=t.v!==ot.vt.w,n=s[e],i=r(t),c=a.distance+i;if(i0)throw new Error(dijkstra does not allow negative edge weights. Bad edge +t+ Weight +i);cn.distance&&(n.distance=c,n.predecessor=o,u.decrease(e,c))};t.nodes().forEach((function(t){var r=t===e0Number.POSITIVE_INFINITY;s[t]={distancer},u.add(t,r)}));for(;u.size()0&&(o=u.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)n(o).forEach(c);return s}(t,String(e),ro,nfunction(e){return t.outEdges(e)})};var o=n.constant(1)},function(t,e,r){var n=r(24);function i(){this._arr=[],this._keyIndices={}}t.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},i.prototype.has=function(t){return n.has(this._keyIndices,t)},i.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},i.prototype.min=function(){if(0===this.size())throw new Error(Queue underflow);return this._arr[0].key},i.prototype.add=function(t,e){var r=this._keyIndices;if(t=String(t),!n.has(r,t)){var i=this._arr,o=i.length;return r[t]=o,i.push({keyt,prioritye}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(ethis._arr[r].priority)throw new Error(New priority is greater than current priority. Key +t+ Old +this._arr[r].priority+ New +e);this._arr[r].priority=e,this._decrease(r)},i.prototype._heapify=function(t){var e=this._arr,r=2t,n=r+1,i=t;re.length&&(i=e[r].prioritye[i].priorityri,ne.length&&(i=e[n].prioritye[i].priorityni),i!==t&&(this._swap(t,i),this._heapify(i)))},i.prototype._decrease=function(t){for(var e,r=this._arr,n=r[t].priority;0!==t&&!(r[e=t1].priorityn);)this._swap(t,e),t=e},i.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,i=r[t],o=r[e];r[t]=o,r[e]=i,n[o.key]=t,n[i.key]=e}},function(t,e,r){var n=r(24);t.exports=function(t){var e=0,r=[],i={},o=[];return t.nodes().forEach((function(a){n.has(i,a)function a(s){var u=i[s]={onStack!0,lowlinke,indexe++};if(r.push(s),t.successors(s).forEach((function(t){n.has(i,t)i[t].onStack&&(u.lowlink=Math.min(u.lowlink,i[t].index))(a(t),u.lowlink=Math.min(u.lowlink,i[t].lowlink))})),u.lowlink===u.index){var c,h=[];do{c=r.pop(),i[c].onStack=!1,h.push(c)}while(s!==c);o.push(h)}}(a)})),o}},function(t,e,r){var n=r(24);function i(t){var e={},r={},i=[];if(n.each(t.sinks(),(function a(s){if(n.has(r,s))throw new o;n.has(e,s)(r[s]=!0,e[s]=!0,n.each(t.predecessors(s),a),delete r[s],i.push(s))})),n.size(e)!==t.nodeCount())throw new o;return i}function o(){}t.exports=i,i.CycleException=o,o.prototype=new Error},function(t,e,r){var n=r(24);t.exports=function(t,e,r){n.isArray(e)(e=[e]);var i=(t.isDirected()t.successorst.neighbors).bind(t),o=[],a={};return n.each(e,(function(e){if(!t.hasNode(e))throw new Error(Graph does not have node +e);!function t(e,r,i,o,a,s){n.has(o,r)(o[r]=!0,is.push(r),n.each(a(r),(function(r){t(e,r,i,o,a,s)})),i&&s.push(r))}(t,e,post===r,a,i,o)})),o}},function(t,e,r){var n=r(492);t.exports=function(t){return t(t=n(t))===10t===-1017976931348623157e292(t0-11)t==tt00===tt0}},function(t,e,r){var n=r(127);t.exports=function(t){return(null==t0t.length)n(t,1)[]}},function(t,e,r){var n=r(82),i=r(51);t.exports=function(t,e,r){(void 0!==r&&!i(t[e],r)void 0===r&&!(e in t))&&n(t,e,r)}},function(t,e){t.exports=function(t,e){if((constructor!==efunction!=typeof t[e])&&__proto__!=e)return t[e]}},function(t,e){t.exports=function(t,e){return te}},function(t,e,r){use strict;var n=r(13),i=r(30).Graph,o=r(93).slack;function a(t,e){return n.forEach(t.nodes(),(function r(i){n.forEach(e.nodeEdges(i),(function(n){var a=n.v,s=i===an.wa;t.hasNode(s)o(e,n)(t.setNode(s,{}),t.setEdge(i,s,{}),r(s))}))})),t.nodeCount()}function s(t,e){return n.minBy(e.edges(),(function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return o(e,r)}))}function u(t,e,r){n.forEach(t.nodes(),(function(t){e.node(t).rank+=r}))}t.exports=function(t){var e,r,n=new i({directed!1}),c=t.nodes()[0],h=t.nodeCount();n.setNode(c,{});for(;a(n,t)h;)e=s(n,t),r=n.hasNode(e.v)o(t,e)-o(t,e),u(n,t,r);return n}},function(t,e,r){var n=r(48),i={getIdfunction(t){return t.idt.name},getHGapfunction(t){return t.hgap18},getVGapfunction(t){return t.vgap18},getChildrenfunction(t){return t.children},getHeightfunction(t){return t.height36},getWidthfunction(t){var e=t.label ;return t.width18e.split().length}};function o(t,e){var r=this;if(r.vgap=r.hgap=0,t instanceof o)return t;r.data=t;var n=e.getHGap(t),i=e.getVGap(t);return r.width=e.getWidth(t),r.height=e.getHeight(t),r.id=e.getId(t),r.x=r.y=0,r.depth=0,r.children(r.children=[]),r.addGap(n,i),r}n.assign(o.prototype,{isRootfunction(){return 0===this.depth},isLeaffunction(){return 0===this.children.length},addGapfunction(t,e){this.hgap+=t,this.vgap+=e,this.width+=2t,this.height+=2e},eachNodefunction(t){for(var e,r=[this];e=r.shift();)t(e),r=e.children.concat(r)},DFTraversefunction(t){this.eachNode(t)},BFTraversefunction(t){for(var e,r=[this];e=r.shift();)t(e),r=r.concat(e.children)},getBoundingBoxfunction(){var t={leftNumber.MAX_VALUE,topNumber.MAX_VALUE,width0,height0};return this.eachNode((function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)})),t},translatefunction(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.eachNode((function(r){r.x+=t,r.y+=e}))},right2leftfunction(){var t=this.getBoundingBox();this.eachNode((function(e){e.x=e.x-2(e.x-t.left)-e.width})),this.translate(t.width,0)},bottom2topfunction(){var t=this.getBoundingBox();this.eachNode((function(e){e.y=e.y-2(e.y-t.top)-e.height})),this.translate(0,t.height)}}),t.exports=function(t,e,r){void 0===e&&(e={});var a,s=new o(t,e=n.assign({},i,e)),u=[s];if(!r&&!t.collapsed)for(;a=u.shift();)if(!a.data.collapsed){var c=e.getChildren(a.data),h=cc.length0;if(a.children=new Array(h),c&&h)for(var f=0;fh;f++){var l=new o(c[f],e);a.children[f]=l,u.push(l),l.parent=a,l.depth=a.depth+1}}return s}},function(t,e,r){var n=r(226);t.exports=function(t,e){for(var r=n(t.data,e,!0),i=n(t.data,e,!0),o=t.children.length,a=Math.round(o2),s=e.getSidefunction(t,e){return earightleft},u=0;uo;u++){var c=t.children[u];right===s(c,u)i.children.push(c)r.children.push(c)}return r.eachNode((function(t){t.isRoot()(t.side=left)})),i.eachNode((function(t){t.isRoot()(t.side=right)})),{leftr,righti}}},function(t,e,r){use strict;var n={};r.r(n),r.d(n,easeLinear,(function(){return E})),r.d(n,easeQuad,(function(){return A})),r.d(n,easeQuadIn,(function(){return j})),r.d(n,easeQuadOut,(function(){return C})),r.d(n,easeQuadInOut,(function(){return A})),r.d(n,easeCubic,(function(){return T})),r.d(n,easeCubicIn,(function(){return P})),r.d(n,easeCubicOut,(function(){return I})),r.d(n,easeCubicInOut,(function(){return T})),r.d(n,easePoly,(function(){return B})),r.d(n,easePolyIn,(function(){return N})),r.d(n,easePolyOut,(function(){return D})),r.d(n,easePolyInOut,(function(){return B})),r.d(n,easeSin,(function(){return Y})),r.d(n,easeSinIn,(function(){return z})),r.d(n,easeSinOut,(function(){return F})),r.d(n,easeSinInOut,(function(){return Y})),r.d(n,easeExp,(function(){return V})),r.d(n,easeExpIn,(function(){return q})),r.d(n,easeExpOut,(function(){return X})),r.d(n,easeExpInOut,(function(){return V})),r.d(n,easeCircle,(function(){return W})),r.d(n,easeCircleIn,(function(){return H})),r.d(n,easeCircleOut,(function(){return U})),r.d(n,easeCircleInOut,(function(){return W})),r.d(n,easeBounce,(function(){return K})),r.d(n,easeBounceIn,(function(){return $})),r.d(n,easeBounceOut,(function(){return K})),r.d(n,easeBounceInOut,(function(){return Q})),r.d(n,easeBack,(function(){return et})),r.d(n,easeBackIn,(function(){return J})),r.d(n,easeBackOut,(function(){return tt})),r.d(n,easeBackInOut,(function(){return et})),r.d(n,easeElastic,(function(){return it})),r.d(n,easeElasticIn,(function(){return nt})),r.d(n,easeElasticOut,(function(){return it})),r.d(n,easeElasticInOut,(function(){return ot}));var i=r(1),o=r(132),a=r(100),s=r(9),u=r(0);function c(t){return(c=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var h,f,l=0,d=0,p=0,g=0,v=0,y=0,m=object===(undefined==typeof performanceundefinedc(performance))&&performance.nowperformanceDate,b=object===(undefined==typeof windowundefinedc(window))&&window.requestAnimationFramewindow.requestAnimationFrame.bind(window)function(t){setTimeout(t,17)};function x(){return v(b(w),v=m.now()+y)}function w(){v=0}function M(){this._call=this._time=this._next=null}function S(t,e,r){var n=new M;return n.restart(t,e,r),n}function _(){v=(g=m.now())+y,l=d=0;try{!function(){x(),++l;for(var t,e=h;e;)(t=v-e._time)=0&&e._call.call(null,t),e=e._next;--l}()}finally{l=0,function(){var t,e,r=h,n=10;for(;r;)r._call(nr._time&&(n=r._time),t=r,r=r._next)(e=r._next,r._next=null,r=tt._next=eh=e);f=t,O(n)}(),v=0}}function k(){var t=m.now(),e=t-g;e1e3&&(y-=e,g=t)}function O(t){l(d&&(d=clearTimeout(d)),t-v24(t10&&(d=setTimeout(_,t-m.now()-y)),p&&(p=clearInterval(p)))(p(g=m.now(),p=setInterval(k,1e3)),l=1,b(_)))}function E(t){return+t}function j(t){return tt}function C(t){return t(2-t)}function A(t){return((t=2)=1tt--t(2-t)+1)2}function P(t){return ttt}function I(t){return--ttt+1}function T(t){return((t=2)=1ttt(t-=2)tt+2)2}M.prototype=S.prototype={constructorM,restartfunction(t,e,r){if(function!=typeof t)throw new TypeError(callback is not a function);r=(null==rx()+r)+(null==e0+e),this._nextf===this(ff._next=thish=this,f=this),this._call=t,this._time=r,O()},stopfunction(){this._call&&(this._call=null,this._time=10,O())}};var N=function t(e){function r(t){return Math.pow(t,e)}return e=+e,r.exponent=t,r}(3),D=function t(e){function r(t){return 1-Math.pow(1-t,e)}return e=+e,r.exponent=t,r}(3),B=function t(e){function r(t){return((t=2)=1Math.pow(t,e)2-Math.pow(2-t,e))2}return e=+e,r.exponent=t,r}(3),R=Math.PI,L=R2;function z(t){return 1==+t11-Math.cos(tL)}function F(t){return Math.sin(tL)}function Y(t){return(1-Math.cos(Rt))2}function G(t){return 1.0009775171065494(Math.pow(2,-10t)-.0009765625)}function q(t){return G(1-+t)}function X(t){return 1-G(t)}function V(t){return((t=2)=1G(1-t)2-G(t-1))2}function H(t){return 1-Math.sqrt(1-tt)}function U(t){return Math.sqrt(1- --tt)}function W(t){return((t=2)=11-Math.sqrt(1-tt)Math.sqrt(1-(t-=2)t)+1)2}var Z=7.5625;function $(t){return 1-K(1-t)}function K(t){return(t=+t)411Zttt811Z(t-=611)t+34t1011Z(t-=911)t+1516Z(t-=2122)t+6364}function Q(t){return((t=2)=11-K(1-t)K(t-1)+1)2}var J=function t(e){function r(t){return(t=+t)t(e(t-1)+t)}return e=+e,r.overshoot=t,r}(1.70158),tt=function t(e){function r(t){return--tt((t+1)e+t)+1}return e=+e,r.overshoot=t,r}(1.70158),et=function t(e){function r(t){return((t=2)1tt((e+1)t-e)(t-=2)t((e+1)t+e)+2)2}return e=+e,r.overshoot=t,r}(1.70158),rt=2Math.PI,nt=function t(e,r){var n=Math.asin(1(e=Math.max(1,e)))(r=rt);function i(t){return eG(- --t)Math.sin((n-t)r)}return i.amplitude=function(e){return t(e,rrt)},i.period=function(r){return t(e,r)},i}(1,.3),it=function t(e,r){var n=Math.asin(1(e=Math.max(1,e)))(r=rt);function i(t){return 1-eG(t=+t)Math.sin((t+n)r)}return i.amplitude=function(e){return t(e,rrt)},i.period=function(r){return t(e,r)},i}(1,.3),ot=function t(e,r){var n=Math.asin(1(e=Math.max(1,e)))(r=rt);function i(t){return((t=2t-1)0eG(-t)Math.sin((n-t)r)2-eG(t)Math.sin((n+t)r))2}return i.amplitude=function(e){return t(e,rrt)},i.period=function(r){return t(e,r)},i}(1,.3),at=function(t,e,r){t.prototype=e.prototype=r,r.constructor=t};function st(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ut(){}var ct=s([+-]d+)s,ht=s([+-]d.d+([eE][+-]d+))s,ft=s([+-]d.d+([eE][+-]d+))%s,lt=^#([0-9a-f]{3,8})$,dt=new RegExp(^rgb(+[ct,ct,ct]+)$),pt=new RegExp(^rgb(+[ft,ft,ft]+)$),gt=new RegExp(^rgba(+[ct,ct,ct,ht]+)$),vt=new RegExp(^rgba(+[ft,ft,ft,ht]+)$),yt=new RegExp(^hsl(+[ht,ft,ft]+)$),mt=new RegExp(^hsla(+[ht,ft,ft,ht]+)$),bt={aliceblue15792383,antiquewhite16444375,aqua65535,aquamarine8388564,azure15794175,beige16119260,bisque16770244,black0,blanchedalmond16772045,blue255,blueviolet9055202,brown10824234,burlywood14596231,cadetblue6266528,chartreuse8388352,chocolate13789470,coral16744272,cornflowerblue6591981,cornsilk16775388,crimson14423100,cyan65535,darkblue139,darkcyan35723,darkgoldenrod12092939,darkgray11119017,darkgreen25600,darkgrey11119017,darkkhaki12433259,darkmagenta9109643,darkolivegreen5597999,darkorange16747520,darkorchid10040012,darkred9109504,darksalmon15308410,darkseagreen9419919,darkslateblue4734347,darkslategray3100495,darkslategrey3100495,darkturquoise52945,darkviolet9699539,deeppink16716947,deepskyblue49151,dimgray6908265,dimgrey6908265,dodgerblue2003199,firebrick11674146,floralwhite16775920,forestgreen2263842,fuchsia16711935,gainsboro14474460,ghostwhite16316671,gold16766720,goldenrod14329120,gray8421504,green32768,greenyellow11403055,grey8421504,honeydew15794160,hotpink16738740,indianred13458524,indigo4915330,ivory16777200,khaki15787660,lavender15132410,lavenderblush16773365,lawngreen8190976,lemonchiffon16775885,lightblue11393254,lightcoral15761536,lightcyan14745599,lightgoldenrodyellow16448210,lightgray13882323,lightgreen9498256,lightgrey13882323,lightpink16758465,lightsalmon16752762,lightseagreen2142890,lightskyblue8900346,lightslategray7833753,lightslategrey7833753,lightsteelblue11584734,lightyellow16777184,lime65280,limegreen3329330,linen16445670,magenta16711935,maroon8388608,mediumaquamarine6737322,mediumblue205,mediumorchid12211667,mediumpurple9662683,mediumseagreen3978097,mediumslateblue8087790,mediumspringgreen64154,mediumturquoise4772300,mediumvioletred13047173,midnightblue1644912,mintcream16121850,mistyrose16770273,moccasin16770229,navajowhite16768685,navy128,oldlace16643558,olive8421376,olivedrab7048739,orange16753920,orangered16729344,orchid14315734,palegoldenrod15657130,palegreen10025880,paleturquoise11529966,palevioletred14381203,papayawhip16773077,peachpuff16767673,peru13468991,pink16761035,plum14524637,powderblue11591910,purple8388736,rebeccapurple6697881,red16711680,rosybrown12357519,royalblue4286945,saddlebrown9127187,salmon16416882,sandybrown16032864,seagreen3050327,seashell16774638,sienna10506797,silver12632256,skyblue8900331,slateblue6970061,slategray7372944,slategrey7372944,snow16775930,springgreen65407,steelblue4620980,tan13808780,teal32896,thistle14204888,tomato16737095,turquoise4251856,violet15631086,wheat16113331,white16777215,whitesmoke16119285,yellow16776960,yellowgreen10145074};function xt(){return this.rgb().formatHex()}function wt(){return this.rgb().formatRgb()}function Mt(t){var e,r;return t=(t+).trim().toLowerCase(),(e=lt.exec(t))(r=e[1].length,e=parseInt(e[1],16),6===rSt(e)3===rnew Et(e8&15e4&240,e4&15240&e,(15&e)415&e,1)8===r_t(e24&255,e16&255,e8&255,(255&e)255)4===r_t(e12&15e8&240,e8&15e4&240,e4&15240&e,((15&e)415&e)255)null)(e=dt.exec(t))new Et(e[1],e[2],e[3],1)(e=pt.exec(t))new Et(255e[1]100,255e[2]100,255e[3]100,1)(e=gt.exec(t))_t(e[1],e[2],e[3],e[4])(e=vt.exec(t))_t(255e[1]100,255e[2]100,255e[3]100,e[4])(e=yt.exec(t))Pt(e[1],e[2]100,e[3]100,1)(e=mt.exec(t))Pt(e[1],e[2]100,e[3]100,e[4])bt.hasOwnProperty(t)St(bt[t])transparent===tnew Et(NaN,NaN,NaN,0)null}function St(t){return new Et(t16&255,t8&255,255&t,1)}function _t(t,e,r,n){return n=0&&(t=e=r=NaN),new Et(t,e,r,n)}function kt(t){return t instanceof ut(t=Mt(t)),tnew Et((t=t.rgb()).r,t.g,t.b,t.opacity)new Et}function Ot(t,e,r,n){return 1===arguments.lengthkt(t)new Et(t,e,r,null==n1n)}function Et(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function jt(){return#+At(this.r)+At(this.g)+At(this.b)}function Ct(){var t=this.opacity;return(1===(t=isNaN(t)1Math.max(0,Math.min(1,t)))rgb(rgba()+Math.max(0,Math.min(255,Math.round(this.r)0))+, +Math.max(0,Math.min(255,Math.round(this.g)0))+, +Math.max(0,Math.min(255,Math.round(this.b)0))+(1===t), +t+))}function At(t){return((t=Math.max(0,Math.min(255,Math.round(t)0)))160)+t.toString(16)}function Pt(t,e,r,n){return n=0t=e=r=NaNr=0r=1t=e=NaNe=0&&(t=NaN),new Tt(t,e,r,n)}function It(t){if(t instanceof Tt)return new Tt(t.h,t.s,t.l,t.opacity);if(t instanceof ut(t=Mt(t)),!t)return new Tt;if(t instanceof Tt)return t;var e=(t=t.rgb()).r255,r=t.g255,n=t.b255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,u=(o+i)2;return s(a=e===o(r-n)s+6(rn)r===o(n-e)s+2(e-r)s+4,s=u.5o+i2-o-i,a=60)s=u0&&u10a,new Tt(a,s,u,t.opacity)}function Tt(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function Nt(t,e,r){return 255(t60e+(r-e)t60t180rt240e+(r-e)(240-t)60e)}function Dt(t,e,r,n,i){var o=tt,a=ot;return((1-3t+3o-a)e+(4-6o+3a)r+(1+3t+3o-3a)n+ai)6}at(ut,Mt,{copyfunction(t){return Object.assign(new this.constructor,this,t)},displayablefunction(){return this.rgb().displayable()},hexxt,formatHexxt,formatHslfunction(){return It(this).formatHsl()},formatRgbwt,toStringwt}),at(Et,Ot,st(ut,{brighterfunction(t){return t=null==t1.7Math.pow(1.7,t),new Et(this.rt,this.gt,this.bt,this.opacity)},darkerfunction(t){return t=null==t.7Math.pow(.7,t),new Et(this.rt,this.gt,this.bt,this.opacity)},rgbfunction(){return this},displayablefunction(){return-.5=this.r&&this.r255.5&&-.5=this.g&&this.g255.5&&-.5=this.b&&this.b255.5&&0=this.opacity&&this.opacity=1},hexjt,formatHexjt,formatRgbCt,toStringCt})),at(Tt,(function(t,e,r,n){return 1===arguments.lengthIt(t)new Tt(t,e,r,null==n1n)}),st(ut,{brighterfunction(t){return t=null==t1.7Math.pow(1.7,t),new Tt(this.h,this.s,this.lt,this.opacity)},darkerfunction(t){return t=null==t.7Math.pow(.7,t),new Tt(this.h,this.s,this.lt,this.opacity)},rgbfunction(){var t=this.h%360+360(this.h0),e=isNaN(t)isNaN(this.s)0this.s,r=this.l,n=r+(r.5r1-r)e,i=2r-n;return new Et(Nt(t=240t-240t+120,i,n),Nt(t,i,n),Nt(t120t+240t-120,i,n),this.opacity)},displayablefunction(){return(0=this.s&&this.s=1isNaN(this.s))&&0=this.l&&this.l=1&&0=this.opacity&&this.opacity=1},formatHslfunction(){var t=this.opacity;return(1===(t=isNaN(t)1Math.max(0,Math.min(1,t)))hsl(hsla()+(this.h0)+, +100(this.s0)+%, +100(this.l0)+%+(1===t), +t+))}}));var Bt=function(t){return function(){return t}};function Rt(t,e){return function(r){return t+re}}function Lt(t){return 1==(t=+t)ztfunction(e,r){return r-efunction(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1r,function(n){return Math.pow(t+ne,r)}}(e,r,t)Bt(isNaN(e)re)}}function zt(t,e){var r=e-t;return rRt(t,r)Bt(isNaN(t)et)}var Ft=function t(e){var r=Lt(e);function n(t,e){var n=r((t=Ot(t)).r,(e=Ot(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=zt(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+}}return n.gamma=t,n}(1);function Yt(t){return function(e){var r,n,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(r=0;ri;++r)n=Ot(e[r]),o[r]=n.r0,a[r]=n.g0,s[r]=n.b0;return o=t(o),a=t(a),s=t(s),n.opacity=1,function(t){return n.r=o(t),n.g=a(t),n.b=s(t),n+}}}Yt((function(t){var e=t.length-1;return function(r){var n=r=0r=0r=1(r=1,e-1)Math.floor(re),i=t[n],o=t[n+1],a=n0t[n-1]2i-o,s=ne-1t[n+2]2o-i;return Dt((r-ne)e,a,i,o,s)}})),Yt((function(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)0++rr)e),i=t[(n+e-1)%e],o=t[n%e],a=t[(n+1)%e],s=t[(n+2)%e];return Dt((r-ne)e,i,o,a,s)}}));var Gt=function(t,e){e(e=[]);var r,n=tMath.min(e.length,t.length)0,i=e.slice();return function(o){for(r=0;rn;++r)i[r]=t[r](1-o)+e[r]o;return i}};function qt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xt(t,e){var r,n=ee.length0,i=tMath.min(n,t.length)0,o=new Array(i),a=new Array(n);for(r=0;ri;++r)o[r]=Jt(t[r],e[r]);for(;rn;++r)a[r]=e[r];return function(t){for(r=0;ri;++r)a[r]=o[r](t);return a}}var Vt=function(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t(1-n)+en),r}},Ht=function(t,e){return t=+t,e=+e,function(r){return t(1-r)+er}};function Ut(t){return(Ut=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var Wt=function(t,e){var r,n={},i={};for(r in null!==t&&object===Ut(t)(t={}),null!==e&&object===Ut(e)(e={}),e)r in tn[r]=Jt(t[r],e[r])i[r]=e[r];return function(t){for(r in n)i[r]=n[r](t);return i}},Zt=[-+](d+.d.d+)([eE][-+]d+)g,$t=new RegExp(Zt.source,g);var Kt=function(t,e){var r,n,i,o=Zt.lastIndex=$t.lastIndex=0,a=-1,s=[],u=[];for(t+=,e+=;(r=Zt.exec(t))&&(n=$t.exec(e));)(i=n.index)o&&(i=e.slice(o,i),s[a]s[a]+=is[++a]=i),(r=r[0])===(n=n[0])s[a]s[a]+=ns[++a]=n(s[++a]=null,u.push({ia,xHt(r,n)})),o=$t.lastIndex;return oe.length&&(i=e.slice(o),s[a]s[a]+=is[++a]=i),s.length2u[0]function(t){return function(e){return t(e)+}}(u[0].x)function(t){return function(){return t}}(e)(e=u.length,function(t){for(var r,n=0;ne;++n)s[(r=u[n]).i]=r.x(t);return s.join()})};function Qt(t){return(Qt=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var Jt=function(t,e){var r,n=Qt(e);return null==eboolean===nBt(e)(number===nHtstring===n(r=Mt(e))(e=r,Ft)Kte instanceof MtFte instanceof DateVtqt(e)GtArray.isArray(e)Xtfunction!=typeof e.valueOf&&function!=typeof e.toStringisNaN(e)WtHt)(t,e)},te=r(37),ee=[1,0,0,0,1,0,0,0,1];function re(t,e,r){var i,o=e.startTime;if(ro+e.delaye._paused)return!1;var a=e.duration,s=e.easing;if(r=r-o-e.delay,e.repeat)i=r%aa,i=n[s](i);else{if(!((i=ra)1))return e.onFramet.attr(e.onFrame(1))t.attr(e.toAttrs),!0;i=n[s](i)}if(e.onFrame){var c=e.onFrame(i);t.attr(c)}else!function(t,e,r){var n={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a,s,c,h;for(var f in o)if(!Object(u.isEqual)(i[f],o[f]))if(path===f){var l=o[f],d=i[f];l.lengthd.length(l=te.parsePathString(o[f]),d=te.parsePathString(i[f]),d=te.fillPathByDiff(d,l),d=te.formatPath(d,l),e.fromAttrs.path=d,e.toAttrs.path=l)e.pathFormatted(l=te.parsePathString(o[f]),d=te.parsePathString(i[f]),d=te.formatPath(d,l),e.fromAttrs.path=d,e.toAttrs.path=l,e.pathFormatted=!0),n[f]=[];for(var p=0;pl.length;p++){for(var g=l[p],v=d[p],y=[],m=0;mg.length;m++)Object(u.isNumber)(g[m])&&v&&Object(u.isNumber)(v[m])(a=Jt(v[m],g[m]),y.push(a(r)))y.push(g[m]);n[f].push(y)}}else if(matrix===f){var b=(c=i[f]ee,(qt(h=o[f]ee)GtXt)(c,h))(r);n[f]=b}else[fill,stroke,fillStyle,strokeStyle].includes(f)&&(s=o[f],^[r,R,L,l]{1}[s](.test(s))n[f]=o[f]Object(u.isFunction)(o[f])(a=Jt(i[f],o[f]),n[f]=a(r));t.attr(n)}}(t,e,i);return!1}var ne=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,r,n=this;this.timer=S((function(i){if(n.current=i,n.animators.length0){for(var o=n.animators.length-1;o=0;o--)if((t=n.animators[o]).destroyed)n.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get(animations)).length-1;a=0;a--)r=e[a],re(t,r,i)&&(e.splice(a,1),!1,r.callback&&r.callback());0===e.length&&n.removeAnimator(o)}n.canvas.get(autoDraw)n.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),ie=r(96),oe=[mousedown,mouseup,dblclick,mouseout,mouseover,mousemove,mouseleave,mouseenter,touchstart,touchmove,touchend,dragenter,dragover,dragleave,drop,contextmenu,mousewheel];function ae(t,e,r){r.name=e,r.target=t,r.currentTarget=t,r.delegateTarget=t,t.emit(e,r)}function se(t,e,r){if(r.bubbles){var n=void 0,i=!1;if(mouseenter===e(n=r.fromShape,i=!0)mouseleave===e&&(i=!0,n=r.toShape),t.isCanvas()&&i)return;if(n&&Object(s.g)(t,n))return void(r.bubbles=!1);r.name=e,r.currentTarget=t,r.delegateTarget=t,t.emit(e,r)}}var ue=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var r=t.type;e._triggerEvent(r,t)},this._onDocumentMove=function(t){if(e.canvas.get(el)!==t.target&&(e.dragginge.currentShape)){var r=e._getPointInfo(t);e.dragging&&e._emitEvent(drag,t,r,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get(el)!==t.target&&e.dragging){var r=e._getPointInfo(t);e.draggingShape&&e._emitEvent(drop,t,r,null),e._emitEvent(dragend,t,r,e.draggingShape),e._afterDrag(e.draggingShape,r,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get(el);Object(s.a)(oe,(function(r){e.addEventListener(r,t._eventCallback)})),document&&(document.addEventListener(mousemove,this._onDocumentMove),document.addEventListener(mouseup,this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get(el);Object(s.a)(oe,(function(r){e.removeEventListener(r,t._eventCallback)})),document&&(document.removeEventListener(mousemove,this._onDocumentMove),document.removeEventListener(mouseup,this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,r,n,i,o){var a=new ie.a(t,e);return a.fromShape=i,a.toShape=o,a.x=r.x,a.y=r.y,a.clientX=r.clientX,a.clientY=r.clientY,a.propagationPath.push(n),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,r=e.getClientByEvent(t),n=e.getPointByEvent(t);return{xn.x,yn.y,clientXr.x,clientYr.y}},t.prototype._triggerEvent=function(t,e){var r=this._getPointInfo(e),n=this._getShape(r,e),i=this[_on+t],o=!1;if(i)i.call(this,r,n,e);else{var a=this.currentShape;mouseenter===tdragenter===tmouseover===t(this._emitEvent(t,e,r,null,null,n),n&&this._emitEvent(t,e,r,n,null,n),mouseenter===t&&this.draggingShape&&this._emitEvent(dragenter,e,r,null))mouseleave===tdragleave===tmouseout===t(o=!0,a&&this._emitEvent(t,e,r,a,a,null),this._emitEvent(t,e,r,null,a,null),mouseleave===t&&this.draggingShape&&this._emitEvent(dragleave,e,r,null))this._emitEvent(t,e,r,n,null,null)}if(o(this.currentShape=n),n&&!n.get(destroyed)){var s=this.canvas;s.get(el).style.cursor=n.attr(cursor)s.get(cursor)}},t.prototype._onmousedown=function(t,e,r){0===r.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=r.timeStamp),this._emitEvent(mousedown,r,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,r,n){var i=this.canvas.get(el);r!==n&&(r&&(this._emitEvent(mouseout,t,e,r,r,n),this._emitEvent(mouseleave,t,e,r,r,n),n&&!n.get(destroyed)(i.style.cursor=this.canvas.get(cursor))),n&&(this._emitEvent(mouseover,t,e,n,r,n),this._emitEvent(mouseenter,t,e,n,r,n)))},t.prototype._emitDragoverEvents=function(t,e,r,n,i){n(n!==r&&(r&&this._emitEvent(dragleave,t,e,r,r,n),this._emitEvent(dragenter,t,e,n,r,n)),ithis._emitEvent(dragover,t,e,n))r&&this._emitEvent(dragleave,t,e,r,r,n),i&&this._emitEvent(dragover,t,e,n)},t.prototype._afterDrag=function(t,e,r){t&&(t.set(capture,!0),this.draggingShape=null),this.dragging=!1;var n=this._getShape(e,r);n!==t&&this._emitMouseoverEvents(r,e,t,n),this.currentShape=n},t.prototype._onmouseup=function(t,e,r){if(0===r.button){var n=this.draggingShape;this.dragging(n&&this._emitEvent(drop,r,t,e),this._emitEvent(dragend,r,t,n),this._afterDrag(n,t,r))(this._emitEvent(mouseup,r,t,e),e===this.mousedownShape&&this._emitEvent(click,r,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,r){r.preventDefault();var n=this.currentShape;this._emitDragoverEvents(r,t,n,e,!0)},t.prototype._onmousemove=function(t,e,r){var n=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(r,t,i,e,!1),this._emitEvent(drag,r,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=r.timeStamp-this.mousedownTimeStamp,c=a.clientX-t.clientX,h=a.clientY-t.clientY;u120cc+hh40s&&s.get(draggable)((o=this.mousedownShape).set(capture,!1),this.draggingShape=o,this.dragging=!0,this._emitEvent(dragstart,r,t,o),this.mousedownShape=null,this.mousedownPoint=null)!s&&n.get(draggable)(this.dragging=!0,this._emitEvent(dragstart,r,t,null),this.mousedownShape=null,this.mousedownPoint=null)(this._emitMouseoverEvents(r,t,i,e),this._emitEvent(mousemove,r,t,e))(this._emitMouseoverEvents(r,t,i,e),this._emitEvent(mousemove,r,t,e))}else this._emitMouseoverEvents(r,t,i,e),this._emitEvent(mousemove,r,t,e)}},t.prototype._emitEvent=function(t,e,r,n,i,o){var a=this._getEventObj(t,e,r,n,i,o);if(n){a.shape=n,ae(n,t,a);for(var s=n.getParent();s;)s.emitDelegation(t,a),a.propagationStoppedse(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{ae(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),ce=Object(o.detect)(),he=ce&&firefox===ce.name,fe=function(t){function e(e){var r=t.call(this,e)this;return r.initContainer(),r.initDom(),r.initEvents(),r.initTimeline(),r}return Object(i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor=default,e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get(container);Object(s.h)(t)&&(t=document.getElementById(t),this.set(container,t))},e.prototype.initDom=function(){var t=this.createDom();this.set(el,t),this.get(container).appendChild(t),this.setDOMSize(this.get(width),this.get(height))},e.prototype.initEvents=function(){var t=new ue({canvasthis});t.init(),this.set(eventController,t)},e.prototype.initTimeline=function(){var t=new ne(this);this.set(timeline,t)},e.prototype.setDOMSize=function(t,e){var r=this.get(el);s.c&&(r.style.width=t+px,r.style.height=e+px)},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set(width,t),this.set(height,e),this.onCanvasChange(changeSize)},e.prototype.getRenderer=function(){return this.get(renderer)},e.prototype.getCursor=function(){return this.get(cursor)},e.prototype.setCursor=function(t){this.set(cursor,t);var e=this.get(el);s.c&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get(supportCSSTransform)){if(he&&!Object(s.e)(t.layerX)&&t.layerX!==t.offsetX)return{xt.layerX,yt.layerY};if(!Object(s.e)(t.offsetX))return{xt.offsetX,yt.offsetY}}var e=this.getClientByEvent(t),r=e.x,n=e.y;return this.getPointByClient(r,n)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e=touchend===t.typet.changedTouches[0]t.touches[0]),{xe.clientX,ye.clientY}},e.prototype.getPointByClient=function(t,e){var r=this.get(el).getBoundingClientRect();return{xt-r.left,ye-r.top}},e.prototype.getClientByPoint=function(t,e){var r=this.get(el).getBoundingClientRect();return{xt+r.left,ye+r.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get(el);t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get(eventController).destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get(timeline);this.get(destroyed)(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(a.a);e.a=fe},function(t){t.exports=JSON.parse('{a3.8.5}')},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return[Event (type=+this.type+)]},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.default=n},function(t,e,r){use strict;t.exports=function(t,e,r,n){try{try{var i;try{i=new window.Blob([t])}catch(e){(i=new(window.BlobBuilderwindow.WebKitBlobBuilderwindow.MozBlobBuilderwindow.MSBlobBuilder)).append(t),i=i.getBlob()}var o=window.URLwindow.webkitURL,a=o.createObjectURL(i),s=new window[e](a,r);return o.revokeObjectURL(a),s}catch(n){return new window[e](dataapplicationjavascript,.concat(encodeURIComponent(t)),r)}}catch(t){if(!n)throw Error(Inline worker is not supported);return new window[e](n,r)}}},,,,,,,,,,,function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(137),i=r(72);e.default=function(t,e){return void 0===e&&(e=[]),n.default(t,(function(t){return!i.default(e,t)}))}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(14),i=r(138),o=r(4),a=r(58);e.default=function(t,e){if(!o.default(t))return null;var r;if(n.default(e)&&(r=e),a.default(e)&&(r=function(t){return i.default(t,e)}),r)for(var s=0;st.length;s+=1)if(r(t[s]))return t[s];return null}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t,e,r){void 0===r&&(r=0);for(var n=r;nt.length;n++)if(e(t[n],n))return n;return-1}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(10),i=r(4);e.default=function(t,e){for(var r=null,o=0;ot.length;o++){var a=t[o][e];if(!n.default(a)){r=i.default(a)a[0]a;break}}return r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4);e.default=function(t){if(!n.default(t))return[];for(var e=[],r=0;rt.length;r++)e=e.concat(t[r]);return e}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4);e.default=function t(e,r){if(void 0===r&&(r=[]),n.default(e))for(var i=0;ie.length;i+=1)t(e[i],r);else r.push(e);return r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4);e.default=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min0,max0};if(n.default(t[0])){for(var r=[],i=0;it.length;i++)r=r.concat(t[i]);e=r}var o=Math.max.apply(null,e);return{minMath.min.apply(null,e),maxo}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=Array.prototype,i=n.splice,o=n.indexOf;e.default=function(t){for(var e=[],r=1;rarguments.length;r++)e[r-1]=arguments[r];for(var n=0;ne.length;n++)for(var a=e[n],s=-1;(s=o.call(t,a))-1;)i.call(t,s,1);return t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(2),i=r(4),o=r(58);e.default=function(t,e,r){if(!i.default(t)&&!o.default(t))return t;var a=r;return n.default(t,(function(t,r){a=e(a,t,r)})),a}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(21),i=r(140);e.default=function(t,e){var r=[];if(!n.default(t))return r;for(var o=-1,a=[],s=t.length;++os;){var u=t[o];e(u,o,t)&&(r.push(u),a.push(o))}return i.default(t,a),r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4),i=r(3),o=r(14);e.default=function(t,e){var r;if(o.default(e))r=function(t,r){return e(t)-e(r)};else{var a=[];i.default(e)a.push(e)n.default(e)&&(a=e),r=function(t,e){for(var r=0;ra.length;r+=1){var n=a[r];if(t[n]e[n])return 1;if(t[n]e[n])return-1}return 0}}return t.sort(r),t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(141);e.default=function(){for(var t=[],e=0;earguments.length;e++)t[e]=arguments[e];return n.default([].concat.apply([],t))}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4),i=r(10);e.default=function(t,e){for(var r=[],o={},a=0;at.length;a++){var s=t[a][e];if(!i.default(s)){n.default(s)(s=[s]);for(var u=0;us.length;u++){var c=s[u];o[c](r.push(c),o[c]=!0)}}}return r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(21);e.default=function(t){if(n.default(t))return t[0]}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(21);e.default=function(t){if(n.default(t)){return t[t.length-1]}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4),i=r(3);e.default=function(t,e){return!(!n.default(t)&&!i.default(t))&&t[0]===e}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4),i=r(3);e.default=function(t,e){return!(!n.default(t)&&!i.default(t))&&t[t.length-1]===e}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t,e){for(var r=0;rt.length;r++)if(!e(t[r],r))return!1;return!0}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t,e){for(var r=0;rt.length;r++)if(e(t[r],r))return!0;return!1}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(142);e.default=function(t,e){if(!e)return[t];var r=n.default(t,e),i=[];for(var o in r)i.push(r[o]);return i}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t,e){return t[_wrap_+e]}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n={};e.default=function(t){var e=n[t];if(!e){for(var r=t.toString(16),i=r.length;i6;i++)r=0+r;e=#+r,n[t]=e}return e}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4);e.default=function(t){var e=0,r=0,i=0,o=0;return n.default(t)1===t.lengthe=r=i=o=t[0]2===t.length(e=i=t[0],r=o=t[1])3===t.length(e=t[0],r=o=t[1],i=t[2])(e=t[0],r=t[1],i=t[2],o=t[3])e=r=i=o=t,{r1e,r2r,r3i,r4o}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t,e,r){return teetrrt}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t,e){var r=e.toString(),n=r.indexOf(.);if(-1===n)return Math.round(t);var i=r.substr(n+1).length;return i20&&(i=20),parseFloat(t.toFixed(i))}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(11);e.default=function(t){return n.default(t)&&t%1!=0}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(11);e.default=function(t){return n.default(t)&&t%2==0}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(11),i=Number.isIntegerNumber.isIntegerfunction(t){return n.default(t)&&t%1==0};e.default=i},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(11);e.default=function(t){return n.default(t)&&t0}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(11);e.default=function(t){return n.default(t)&&t%2!=0}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(11);e.default=function(t){return n.default(t)&&t0}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(2),i=r(4),o=r(14);e.default=function(t,e){if(i.default(t)){var r,a,s=t[0];return r=o.default(e)e(t[0])t[0][e],n.default(t,(function(t){(a=o.default(e)e(t)t[e])r&&(s=t,r=a)})),s}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(2),i=r(4),o=r(14);e.default=function(t,e){if(i.default(t)){var r,a,s=t[0];return r=o.default(e)e(t[0])t[0][e],n.default(t,(function(t){(a=o.default(e)e(t)t[e])r&&(s=t,r=a)})),s}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=180Math.PI;e.default=function(t){return nt}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=parseInt},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(2);e.default=n.default},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(143);e.default=n.default},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(72),i=r(144);e.default=function(t,e){return n.default(i.default(t),e)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(59);e.default=function(t){return n.default(t).toLowerCase()}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(59);e.default=function(t){var e=n.default(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t,e){return t&&et.replace({([^{}]+)}g,(function(t,r){return===t.charAt(0)t.slice(1)void 0===e[r]e[r]}))t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(59);e.default=function(t){return n.default(t).toUpperCase()}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(27);e.default=function(t){return n.default(t,Arguments)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(27);e.default=function(t){return n.default(t,Boolean)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(27);e.default=function(t){return n.default(t,Date)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(27);e.default=function(t){return n.default(t,Error)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(11);e.default=function(t){return n.default(t)&&isFinite(t)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t){return null===t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(27);e.default=function(t){return n.default(t,RegExp)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t){return void 0===t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t){return t instanceof Elementt instanceof HTMLDocument}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(17),i=r(14);e.default=function(){for(var t=[],e=0;earguments.length;e++)t[e]=arguments[e];for(var r=t[0],o=1;ot.length;o++){var a=t[o];i.default(a)&&(a=a.prototype),n.default(r.prototype,a)}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t,e,r){var n;return function(){var i=this,o=arguments,a=function(){n=null,rt.apply(i,o)},s=r&&!n;clearTimeout(n),n=setTimeout(a,e),s&&t.apply(i,o)}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(14);e.default=function(t,e){if(!n.default(t))throw new TypeError(Expected a function);var r=function r(){for(var n=[],i=0;iarguments.length;i++)n[i]=arguments[i];var o=ee.apply(this,n)n[0],a=r.cache;if(a.has(o))return a.get(o);var s=t.apply(this,n);return a.set(o,s),s};return r.cache=new Map,r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(17),i=r(14);e.default=function(t,e,r,o){i.default(e)(r=e,e=t,t=function(){});var a=Object.createfunction(t,e){return Object.create(t,{constructor{valuee}})}function(t,e){function r(){}r.prototype=t;var n=new r;return n.constructor=e,n},s=a(e.prototype,t);return t.prototype=n.default(s,t.prototype),t.superclass=a(e.prototype,e),n.default(s,r),n.default(t,o),t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(21);e.default=function(t,e){if(!n.default(t))return-1;var r=Array.prototype.indexOf;if(r)return r.call(t,e);for(var i=-1,o=0;ot.length;o++)if(t[o]===e){i=o;break}return i}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(10),i=r(21),o=r(145),a=r(146),s=Object.prototype.hasOwnProperty;e.default=function(t){if(n.default(t))return!0;if(i.default(t))return!t.length;var e=o.default(t);if(Map===eSet===e)return!t.size;if(a.default(t))return!Object.keys(t).length;for(var r in t)if(s.call(t,r))return!1;return!0}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(14),i=r(95);e.default=function(t,e,r){return n.default(r)!!r(t,e)i.default(t,e)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(21);e.default=function(t,e){if(!n.default(t))return t;for(var r=[],i=0;it.length;i++){var o=t[i];r.push(e(o,i))}return r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(10),i=r(35),o=function(t){return t};e.default=function(t,e){void 0===e&&(e=o);var r={};return i.default(t)&&!n.default(t)&&Object.keys(t).forEach((function(n){r[n]=e(t[n],n)})),r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(35),i=r(3),o=r(11);e.default=function(t,e,r){var a=t,s=i.default(e)e.split(.)e;return s.forEach((function(t,e){es.length-1(n.default(a[t])(a[t]=o.default(s[e+1])[]{}),a=a[t])a[t]=r})),t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(2),i=r(58),o=Object.prototype.hasOwnProperty;e.default=function(t,e){if(null===t!i.default(t))return{};var r={};return n.default(e,(function(e){o.call(t,e)&&(r[e]=t[e])})),r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t,e,r){var n,i,o,a,s=0;r(r={});var u=function(){s=!1===r.leading0Date.now(),n=null,a=t.apply(i,o),n(i=o=null)},c=function(){var c=Date.now();s!1!==r.leading(s=c);var h=e-(c-s);return i=this,o=arguments,h=0he(n&&(clearTimeout(n),n=null),s=c,a=t.apply(i,o),n(i=o=null))n!1===r.trailing(n=setTimeout(u,h)),a};return c.cancel=function(){clearTimeout(n),s=0,n=i=o=null},c}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(21);e.default=function(t){return n.default(t)Array.prototype.slice.call(t)[]}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n={};e.default=function(t){return n[t=tg]n[t]+=1n[t]=1,t+n[t]}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(){}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t){return t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(10),i=r(21);e.default=function(t){return n.default(t)0i.default(t)t.lengthObject.keys(t).length}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var r=this.map[t];return void 0===rer},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();e.default=n},function(t,e,r){var n=r(312),i=r(313),o={};for(var a in n)n.hasOwnProperty(a)&&(o[n[a]]=a);var s=t.exports={to{},get{}};function u(t,e,r){return Math.min(Math.max(e,t),r)}function c(t){var e=t.toString(16).toUpperCase();return e.length20+ee}s.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){casehsle=s.get.hsl(t),r=hsl;break;casehwbe=s.get.hwb(t),r=hwb;break;defaulte=s.get.rgb(t),r=rgb}return e{modelr,valuee}null},s.get.rgb=function(t){if(!t)return null;var e,r,i,o=[0,0,0,1];if(e=t.match(^#([a-f0-9]{6})([a-f0-9]{2})$i)){for(i=e[2],e=e[1],r=0;r3;r++){var a=2r;o[r]=parseInt(e.slice(a,a+2),16)}i&&(o[3]=parseInt(i,16)255)}else if(e=t.match(^#([a-f0-9]{3,4})$i)){for(i=(e=e[1])[3],r=0;r3;r++)o[r]=parseInt(e[r]+e[r],16);i&&(o[3]=parseInt(i+i,16)255)}else if(e=t.match(^rgba(s([+-]d+)s,s([+-]d+)s,s([+-]d+)s(,s([+-][d.]+)s))$)){for(r=0;r3;r++)o[r]=parseInt(e[r+1],0);e[4]&&(o[3]=parseFloat(e[4]))}else{if(!(e=t.match(^rgba(s([+-][d.]+)%s,s([+-][d.]+)%s,s([+-][d.]+)%s(,s([+-][d.]+)s))$)))return(e=t.match((D+)))transparent===e[1][0,0,0,0](o=n[e[1]])(o[3]=1,o)nullnull;for(r=0;r3;r++)o[r]=Math.round(2.55parseFloat(e[r+1]));e[4]&&(o[3]=parseFloat(e[4]))}for(r=0;r3;r++)o[r]=u(o[r],0,255);return o[3]=u(o[3],0,1),o},s.get.hsl=function(t){if(!t)return null;var e=t.match(^hsla(s([+-](d.)d+)(deg)s,s([+-][d.]+)%s,s([+-][d.]+)%s(,s([+-][d.]+)s))$);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(r)1r,0,1)]}return null},s.get.hwb=function(t){if(!t)return null;var e=t.match(^hwb(s([+-]d[.]d+)(deg)s,s([+-][d.]+)%s,s([+-][d.]+)%s(,s([+-][d.]+)s))$);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(r)1r,0,1)]}return null},s.to.hex=function(){var t=i(arguments);return#+c(t[0])+c(t[1])+c(t[2])+(t[3]1c(Math.round(255t[3])))},s.to.rgb=function(){var t=i(arguments);return t.length41===t[3]rgb(+Math.round(t[0])+, +Math.round(t[1])+, +Math.round(t[2])+)rgba(+Math.round(t[0])+, +Math.round(t[1])+, +Math.round(t[2])+, +t[3]+)},s.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]255100),r=Math.round(t[1]255100),n=Math.round(t[2]255100);return t.length41===t[3]rgb(+e+%, +r+%, +n+%)rgba(+e+%, +r+%, +n+%, +t[3]+)},s.to.hsl=function(){var t=i(arguments);return t.length41===t[3]hsl(+t[0]+, +t[1]+%, +t[2]+%)hsla(+t[0]+, +t[1]+%, +t[2]+%, +t[3]+)},s.to.hwb=function(){var t=i(arguments),e=;return t.length=4&&1!==t[3]&&(e=, +t[3]),hwb(+t[0]+, +t[1]+%, +t[2]+%+e+)},s.to.keyword=function(t){return o[t.slice(0,3)]}},function(t,e,r){use strict;t.exports={aliceblue[240,248,255],antiquewhite[250,235,215],aqua[0,255,255],aquamarine[127,255,212],azure[240,255,255],beige[245,245,220],bisque[255,228,196],black[0,0,0],blanchedalmond[255,235,205],blue[0,0,255],blueviolet[138,43,226],brown[165,42,42],burlywood[222,184,135],cadetblue[95,158,160],chartreuse[127,255,0],chocolate[210,105,30],coral[255,127,80],cornflowerblue[100,149,237],cornsilk[255,248,220],crimson[220,20,60],cyan[0,255,255],darkblue[0,0,139],darkcyan[0,139,139],darkgoldenrod[184,134,11],darkgray[169,169,169],darkgreen[0,100,0],darkgrey[169,169,169],darkkhaki[189,183,107],darkmagenta[139,0,139],darkolivegreen[85,107,47],darkorange[255,140,0],darkorchid[153,50,204],darkred[139,0,0],darksalmon[233,150,122],darkseagreen[143,188,143],darkslateblue[72,61,139],darkslategray[47,79,79],darkslategrey[47,79,79],darkturquoise[0,206,209],darkviolet[148,0,211],deeppink[255,20,147],deepskyblue[0,191,255],dimgray[105,105,105],dimgrey[105,105,105],dodgerblue[30,144,255],firebrick[178,34,34],floralwhite[255,250,240],forestgreen[34,139,34],fuchsia[255,0,255],gainsboro[220,220,220],ghostwhite[248,248,255],gold[255,215,0],goldenrod[218,165,32],gray[128,128,128],green[0,128,0],greenyellow[173,255,47],grey[128,128,128],honeydew[240,255,240],hotpink[255,105,180],indianred[205,92,92],indigo[75,0,130],ivory[255,255,240],khaki[240,230,140],lavender[230,230,250],lavenderblush[255,240,245],lawngreen[124,252,0],lemonchiffon[255,250,205],lightblue[173,216,230],lightcoral[240,128,128],lightcyan[224,255,255],lightgoldenrodyellow[250,250,210],lightgray[211,211,211],lightgreen[144,238,144],lightgrey[211,211,211],lightpink[255,182,193],lightsalmon[255,160,122],lightseagreen[32,178,170],lightskyblue[135,206,250],lightslategray[119,136,153],lightslategrey[119,136,153],lightsteelblue[176,196,222],lightyellow[255,255,224],lime[0,255,0],limegreen[50,205,50],linen[250,240,230],magenta[255,0,255],maroon[128,0,0],mediumaquamarine[102,205,170],mediumblue[0,0,205],mediumorchid[186,85,211],mediumpurple[147,112,219],mediumseagreen[60,179,113],mediumslateblue[123,104,238],mediumspringgreen[0,250,154],mediumturquoise[72,209,204],mediumvioletred[199,21,133],midnightblue[25,25,112],mintcream[245,255,250],mistyrose[255,228,225],moccasin[255,228,181],navajowhite[255,222,173],navy[0,0,128],oldlace[253,245,230],olive[128,128,0],olivedrab[107,142,35],orange[255,165,0],orangered[255,69,0],orchid[218,112,214],palegoldenrod[238,232,170],palegreen[152,251,152],paleturquoise[175,238,238],palevioletred[219,112,147],papayawhip[255,239,213],peachpuff[255,218,185],peru[205,133,63],pink[255,192,203],plum[221,160,221],powderblue[176,224,230],purple[128,0,128],rebeccapurple[102,51,153],red[255,0,0],rosybrown[188,143,143],royalblue[65,105,225],saddlebrown[139,69,19],salmon[250,128,114],sandybrown[244,164,96],seagreen[46,139,87],seashell[255,245,238],sienna[160,82,45],silver[192,192,192],skyblue[135,206,235],slateblue[106,90,205],slategray[112,128,144],slategrey[112,128,144],snow[255,250,250],springgreen[0,255,127],steelblue[70,130,180],tan[210,180,140],teal[0,128,128],thistle[216,191,216],tomato[255,99,71],turquoise[64,224,208],violet[238,130,238],wheat[245,222,179],white[255,255,255],whitesmoke[245,245,245],yellow[255,255,0],yellowgreen[154,205,50]}},function(t,e,r){use strict;var n=r(314),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],r=0,a=t.length;ra;r++){var s=t[r];n(s)e=i.call(e,o.call(s))e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},function(t,e){t.exports=function(t){return!(!tstring==typeof t)&&(t instanceof ArrayArray.isArray(t)t.length=0&&(t.splice instanceof FunctionObject.getOwnPropertyDescriptor(t,t.length-1)&&String!==t.constructor.name))}},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var i=r(149),o=r(317),a={};Object.keys(i).forEach((function(t){a[t]={},Object.defineProperty(a[t],channels,{valuei[t].channels}),Object.defineProperty(a[t],labels,{valuei[t].labels});var e=o(t);Object.keys(e).forEach((function(r){var i=e[r];a[t][r]=function(t){var e=function(e){if(null==e)return e;arguments.length1&&(e=Array.prototype.slice.call(arguments));var r=t(e);if(object===n(r))for(var i=r.length,o=0;oi;o++)r[o]=Math.round(r[o]);return r};returnconversionin t&&(e.conversion=t.conversion),e}(i),a[t][r].raw=function(t){var e=function(e){return null==ee(arguments.length1&&(e=Array.prototype.slice.call(arguments)),t(e))};returnconversionin t&&(e.conversion=t.conversion),e}(i)}))})),t.exports=a},function(t,e,r){use strict;t.exports={aliceblue[240,248,255],antiquewhite[250,235,215],aqua[0,255,255],aquamarine[127,255,212],azure[240,255,255],beige[245,245,220],bisque[255,228,196],black[0,0,0],blanchedalmond[255,235,205],blue[0,0,255],blueviolet[138,43,226],brown[165,42,42],burlywood[222,184,135],cadetblue[95,158,160],chartreuse[127,255,0],chocolate[210,105,30],coral[255,127,80],cornflowerblue[100,149,237],cornsilk[255,248,220],crimson[220,20,60],cyan[0,255,255],darkblue[0,0,139],darkcyan[0,139,139],darkgoldenrod[184,134,11],darkgray[169,169,169],darkgreen[0,100,0],darkgrey[169,169,169],darkkhaki[189,183,107],darkmagenta[139,0,139],darkolivegreen[85,107,47],darkorange[255,140,0],darkorchid[153,50,204],darkred[139,0,0],darksalmon[233,150,122],darkseagreen[143,188,143],darkslateblue[72,61,139],darkslategray[47,79,79],darkslategrey[47,79,79],darkturquoise[0,206,209],darkviolet[148,0,211],deeppink[255,20,147],deepskyblue[0,191,255],dimgray[105,105,105],dimgrey[105,105,105],dodgerblue[30,144,255],firebrick[178,34,34],floralwhite[255,250,240],forestgreen[34,139,34],fuchsia[255,0,255],gainsboro[220,220,220],ghostwhite[248,248,255],gold[255,215,0],goldenrod[218,165,32],gray[128,128,128],green[0,128,0],greenyellow[173,255,47],grey[128,128,128],honeydew[240,255,240],hotpink[255,105,180],indianred[205,92,92],indigo[75,0,130],ivory[255,255,240],khaki[240,230,140],lavender[230,230,250],lavenderblush[255,240,245],lawngreen[124,252,0],lemonchiffon[255,250,205],lightblue[173,216,230],lightcoral[240,128,128],lightcyan[224,255,255],lightgoldenrodyellow[250,250,210],lightgray[211,211,211],lightgreen[144,238,144],lightgrey[211,211,211],lightpink[255,182,193],lightsalmon[255,160,122],lightseagreen[32,178,170],lightskyblue[135,206,250],lightslategray[119,136,153],lightslategrey[119,136,153],lightsteelblue[176,196,222],lightyellow[255,255,224],lime[0,255,0],limegreen[50,205,50],linen[250,240,230],magenta[255,0,255],maroon[128,0,0],mediumaquamarine[102,205,170],mediumblue[0,0,205],mediumorchid[186,85,211],mediumpurple[147,112,219],mediumseagreen[60,179,113],mediumslateblue[123,104,238],mediumspringgreen[0,250,154],mediumturquoise[72,209,204],mediumvioletred[199,21,133],midnightblue[25,25,112],mintcream[245,255,250],mistyrose[255,228,225],moccasin[255,228,181],navajowhite[255,222,173],navy[0,0,128],oldlace[253,245,230],olive[128,128,0],olivedrab[107,142,35],orange[255,165,0],orangered[255,69,0],orchid[218,112,214],palegoldenrod[238,232,170],palegreen[152,251,152],paleturquoise[175,238,238],palevioletred[219,112,147],papayawhip[255,239,213],peachpuff[255,218,185],peru[205,133,63],pink[255,192,203],plum[221,160,221],powderblue[176,224,230],purple[128,0,128],rebeccapurple[102,51,153],red[255,0,0],rosybrown[188,143,143],royalblue[65,105,225],saddlebrown[139,69,19],salmon[250,128,114],sandybrown[244,164,96],seagreen[46,139,87],seashell[255,245,238],sienna[160,82,45],silver[192,192,192],skyblue[135,206,235],slateblue[106,90,205],slategray[112,128,144],slategrey[112,128,144],snow[255,250,250],springgreen[0,255,127],steelblue[70,130,180],tan[210,180,140],teal[0,128,128],thistle[216,191,216],tomato[255,99,71],turquoise[64,224,208],violet[238,130,238],wheat[245,222,179],white[255,255,255],whitesmoke[245,245,245],yellow[255,255,0],yellowgreen[154,205,50]}},function(t,e,r){var n=r(149);function i(t){var e=function(){for(var t={},e=Object.keys(n),r=e.length,i=0;ir;i++)t[e[i]]={distance-1,parentnull};return t}(),r=[t];for(e[t].distance=0;r.length;)for(var i=r.pop(),o=Object.keys(n[i]),a=o.length,s=0;sa;s++){var u=o[s],c=e[u];-1===c.distance&&(c.distance=e[i].distance+1,c.parent=i,r.unshift(u))}return e}function o(t,e){return function(r){return e(t(r))}}function a(t,e){for(var r=[e[t].parent,t],i=n[e[t].parent][t],a=e[t].parent;e[a].parent;)r.unshift(e[a].parent),i=o(n[e[a].parent][a],i),a=e[a].parent;return i.conversion=r,i}t.exports=function(t){for(var e=i(t),r={},n=Object.keys(e),o=n.length,s=0;so;s++){var u=n[s];null!==e[u].parent&&(r[u]=a(u,e))}return r}},function(t){t.exports=JSON.parse('{name@antvg-base,version0.5.1,descriptionA common util collection for antv projects,mainlibindex.js,moduleesmindex.js,typeslibindex.d.ts,files[package.json,esm,lib,LICENSE,README.md],scripts{buildnpm run clean && run-p build,buildesmtsc -p tsconfig.json --target ES5 --module ESNext --outDir esm,buildcjstsc -p tsconfig.json --target ES5 --module commonjs --outDir lib,cleanrm -rf esm lib,watchcjstsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescriptbintsc,coveragenpm run coverage-generator && npm run coverage-viewer,coverage-generatortorch --coverage --compile --source-pattern src.js,src.js --opts testsmocha.opts,coverage-viewertorch-coverage,testtorch --renderer --compile --opts testsmocha.opts,test-livetorch --compile --interactive testsunit,tsctsc --noEmit,typechecktsc --noEmit},repository{typegit,urlgit+httpsgithub.comantvisutil.git},keywords[util,antv,g],publishConfig{accesspublic},authorhttpsgithub.comorgsantvispeople,licenseISC,bugs{urlhttpsgithub.comantvisutilissues},devDependencies{@antvtorch^1.0.0,gl-matrix^3.0.0,less^3.9.0,npm-run-all^4.1.5,tsc-watch^4.0.0},homepagehttpsgithub.comantvisutil#readme,dependencies{@antvevent-emitter^0.1.1,@antvg-math^0.1.5,@antvmatrix-util^3.1.0-beta.1,@antvpath-util~2.0.5,@antvutil~2.0.0,@typesd3-timer^1.0.9,d3-ease^1.0.5,d3-interpolate^1.3.2,d3-timer^1.0.9,detect-browser^5.1.0},__npminstall_donetrue,gitHeadba7ecf8b8deac37682414ac0b7fc2c3e903398bd,_from@antvg-base@0.5.1,_resolvedhttpsregistry.npm.alibaba-inc.com@antvg-basedownload@antvg-base-0.5.1.tgz}')},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.getShape=void 0;var n=r(155),i=r(320);function o(t,e,r){var n=t.getTotalMatrix();if(n){var o=function(t,e){if(e){var r=i.invert(e);return i.multiplyVec2(r,t)}return t}([e,r,1],n);return[o[0],o[1]]}return[e,r]}function a(t,e,r){if(t.isCanvas&&t.isCanvas())return!0;if(!n.isAllowCapture(t)!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var i=o(t,e,r),a=i[0],s=i[1];if(t.isClipped(a,s))return!1}var u=t.cfg.cacheCanvasBBoxt.getCanvasBBox();return e=u.minX&&e=u.maxX&&r=u.minY&&r=u.maxY}e.getShape=function t(e,r,n){if(!a(e,r,n))return null;for(var i=null,s=e.getChildren(),u=s.length-1;u=0;u--){var c=s[u];if(c.isGroup())i=t(c,r,n);else if(a(c,r,n)){var h=c,f=o(c,r,n),l=f[0],d=f[1];h.isInShape(l,d)&&(i=c)}if(i)break}return i}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.invert=e.multiplyVec2=e.multiplyMatrix=void 0,e.multiplyMatrix=function(t,e){var r=[],n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],f=t[8],l=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return r[0]=ln+da+pc,r[1]=li+ds+ph,r[2]=lo+du+pf,r[3]=gn+va+yc,r[4]=gi+vs+yh,r[5]=go+vu+yf,r[6]=mn+ba+xc,r[7]=mi+bs+xh,r[8]=mo+bu+xf,r},e.multiplyVec2=function(t,e){var r=[],n=e[0],i=e[1];return r[0]=t[0]n+t[3]i+t[6],r[1]=t[1]n+t[4]i+t[7],r},e.invert=function(t){var e=[],r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],f=ha-sc,l=-ho+su,d=co-au,p=rf+nl+id;return p(p=1p,e[0]=fp,e[1]=(-hn+ic)p,e[2]=(sn-ia)p,e[3]=lp,e[4]=(hr-iu)p,e[5]=(-sr+io)p,e[6]=dp,e[7]=(-cr+nu)p,e[8]=(ar-no)p,e)null}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(18);function i(t){return Math.sqrt(t[0]t[0]+t[1]t[1])}function o(t,e){return i(t)i(e)(t[0]e[0]+t[1]e[1])(i(t)i(e))1}function a(t,e){return(t[0]e[1]t[1]e[0]-11)Math.acos(o(t,e))}e.default=function(t,e){var r=e[1],i=e[2],s=n.mod(n.toRadian(e[3]),2Math.PI),u=e[4],c=e[5],h=t[0],f=t[1],l=e[6],d=e[7],p=Math.cos(s)(h-l)2+Math.sin(s)(f-d)2,g=-1Math.sin(s)(h-l)2+Math.cos(s)(f-d)2,v=pp(rr)+gg(ii);v1&&(r=Math.sqrt(v),i=Math.sqrt(v));var y=rr(gg)+ii(pp),m=yMath.sqrt((rr(ii)-y)y)1;u===c&&(m=-1),isNaN(m)&&(m=0);var b=imrgi0,x=rm-ipr0,w=(h+l)2+Math.cos(s)b-Math.sin(s)x,M=(f+d)2+Math.sin(s)b+Math.cos(s)x,S=[(p-b)r,(g-x)i],_=[(-1p-b)r,(-1g-x)i],k=a([1,0],S),O=a(S,_);return o(S,_)=-1&&(O=Math.PI),o(S,_)=1&&(O=0),0===c&&O0&&(O-=2Math.PI),1===c&&O0&&(O+=2Math.PI),{cxw,cyM,rxn.isSamePoint(t,[l,d])0r,ryn.isSamePoint(t,[l,d])0i,startAnglek,endAnglek+O,xRotations,arcFlagu,sweepFlagc}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.getMethod=e.register=void 0;var n=new Map;e.register=function(t,e){n.set(t,e)},e.getMethod=function(t){return n.get(t)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t){var e=t.attr();return{xe.x,ye.y,widthe.width,heighte.height}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t){var e=t.attr(),r=e.x,n=e.y,i=e.r;return{xr-i,yn-i,width2i,height2i}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(33),i=r(107);e.default=function(t){for(var e=t.attr().points,r=[],o=[],a=0;ae.length;a++){var s=e[a];r.push(s[0]),o.push(s[1])}var u=n.getBBoxByArray(r,o),c=u.x,h=u.y,f={minXc,minYh,maxXc+u.width,maxYh+u.height};return{x(f=i.mergeArrowBBox(t,f)).minX,yf.minY,widthf.maxX-f.minX,heightf.maxY-f.minY}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(33);e.default=function(t){for(var e=t.attr().points,r=[],i=[],o=0;oe.length;o++){var a=e[o];r.push(a[0]),i.push(a[1])}return n.getBBoxByArray(r,i)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(158);e.default=function(t){var e=t.attr(),r=e.x,i=e.y,o=e.text,a=e.fontSize,s=e.lineHeight,u=e.font;u(u=n.assembleFont(e));var c,h=n.getTextWidth(o,u);if(h){var f=e.textAlign,l=e.textBaseline,d=n.getTextHeight(o,a,s),p={xr,yi-d};f&&(end===fright===fp.x-=hcenter===f&&(p.x-=h2)),l&&(top===lp.y+=dmiddle===l&&(p.y+=d2)),c={xp.x,yp.y,widthh,heightd}}else c={xr,yi,width0,height0};return c}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(160),i=r(108),o=r(329),a=r(162),s=r(103),u=r(107);function c(t,e){var r=t.prePoint,n=t.currentPoint,i=t.nextPoint,o=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),a=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),c=Math.acos((o+a-u)(2Math.sqrt(o)Math.sqrt(a)));if(!c0===Math.sin(c)s.default(c,0))return{xExtra0,yExtra0};var h=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),f=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));return h=hMath.PI2Math.PI-hh,f=fMath.PI2Math.PI-ff,{xExtraMath.cos(c2-h)(e2(1Math.sin(c2)))-e20,yExtraMath.cos(f-c2)(e2(1Math.sin(c2)))-e20}}e.default=function(t){var e=t.attr(),r=e.path,s=e.strokee.lineWidth0,h=function(t,e){for(var r=[],a=[],s=[],u=0;ut.length;u++){var h=(b=t[u]).currentPoint,f=b.params,l=b.prePoint,d=void 0;switch(b.command){caseQd=n.default.box(l[0],l[1],f[1],f[2],f[3],f[4]);break;caseCd=i.default.box(l[0],l[1],f[1],f[2],f[3],f[4],f[5],f[6]);break;caseAvar p=b.arcParams;d=o.default.box(p.cx,p.cy,p.rx,p.ry,p.xRotation,p.startAngle,p.endAngle);break;defaultr.push(h[0]),a.push(h[1])}d&&(b.box=d,r.push(d.x,d.x+d.width),a.push(d.y,d.y+d.height)),e&&(L===b.commandM===b.command)&&b.prePoint&&b.nextPoint&&s.push(b)}r=r.filter((function(t){return!Number.isNaN(t)})),a=a.filter((function(t){return!Number.isNaN(t)}));var g=Math.min.apply(null,r),v=Math.min.apply(null,a),y=Math.max.apply(null,r),m=Math.max.apply(null,a);if(0===s.length)return{xg,yv,widthy-g,heightm-v};for(u=0;us.length;u++){var b;(h=(b=s[u]).currentPoint)[0]===gg-=c(b,e).xExtrah[0]===y&&(y+=c(b,e).xExtra),h[1]===vv-=c(b,e).yExtrah[1]===m&&(m+=c(b,e).yExtra)}return{xg,yv,widthy-g,heightm-v}}(t.get(segments)a.default(r),s),f=h.x,l=h.y,d={minXf,minYl,maxXf+h.width,maxYl+h.height};return{x(d=u.mergeArrowBBox(t,d)).minX,yd.minY,widthd.maxX-d.minX,heightd.maxY-d.minY}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(33),i=r(330);function o(t,e,r,n,i,o){return rMath.cos(i)Math.cos(o)-nMath.sin(i)Math.sin(o)+t}function a(t,e,r,n,i,o){return rMath.sin(i)Math.cos(o)+nMath.cos(i)Math.sin(o)+e}function s(t,e,r){return{xtMath.cos(r),yeMath.sin(r)}}function u(t,e,r){var n=Math.cos(r),i=Math.sin(r);return[tn-ei,ti+en]}e.default={boxfunction(t,e,r,n,i,s,u){for(var c=function(t,e,r){return Math.atan(-etMath.tan(r))}(r,n,i),h=10,f=-10,l=[s,u],d=2-Math.PI;d=2Math.PI;d+=Math.PI){var p=c+d;susp&&pu&&l.push(p)up&&ps&&l.push(p)}for(d=0;dl.length;d++){var g=o(t,0,r,n,i,l[d]);gh&&(h=g),gf&&(f=g)}var v=function(t,e,r){return Math.atan(e(tMath.tan(r)))}(r,n,i),y=10,m=-10,b=[s,u];for(d=2-Math.PI;d=2Math.PI;d+=Math.PI){var x=v+d;susx&&xu&&b.push(x)ux&&xs&&b.push(x)}for(d=0;db.length;d++){var w=a(0,e,r,n,i,b[d]);wy&&(y=w),wm&&(m=w)}return{xh,yy,widthf-h,heightm-y}},lengthfunction(t,e,r,n,i,o,a){},nearestPointfunction(t,e,r,n,o,a,c,h,f){var l=u(h-t,f-e,-o),d=l[0],p=l[1],g=i.default.nearestPoint(0,0,r,n,d,p),v=function(t,e,r,n){return(Math.atan2(nt,re)+2Math.PI)%(2Math.PI)}(r,n,g.x,g.y);vag=s(r,n,a)vc&&(g=s(r,n,c));var y=u(g.x,g.y,o);return{xy[0]+t,yy[1]+e}},pointDistancefunction(t,e,r,i,o,a,s,u,c){var h=this.nearestPoint(t,e,r,i,u,c);return n.distance(h.x,h.y,u,c)},pointAtfunction(t,e,r,n,i,s,u,c){var h=(u-s)c+s;return{xo(t,0,r,n,i,h),ya(0,e,r,n,i,h)}},tangentAnglefunction(t,e,r,i,o,a,s,u){var c=(s-a)u+a,h=function(t,e,r,n,i,o,a,s){return-1rMath.cos(i)Math.sin(s)-nMath.sin(i)Math.cos(s)}(0,0,r,i,o,0,0,c),f=function(t,e,r,n,i,o,a,s){return-1rMath.sin(i)Math.sin(s)+nMath.cos(i)Math.cos(s)}(0,0,r,i,o,0,0,c);return n.piMod(Math.atan2(f,h))}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(33);function i(t,e){var r=Math.abs(t);return e0r-1r}e.default={boxfunction(t,e,r,n){return{xt-r,ye-n,width2r,height2n}},lengthfunction(t,e,r,n){return Math.PI(3(r+n)-Math.sqrt((3r+n)(r+3n)))},nearestPointfunction(t,e,r,n,o,a){var s=r,u=n;if(0===s0===u)return{xt,ye};for(var c,h,f=o-t,l=a-e,d=Math.abs(f),p=Math.abs(l),g=ss,v=uu,y=Math.PI4,m=0;m4;m++){c=sMath.cos(y),h=uMath.sin(y);var b=(g-v)Math.pow(Math.cos(y),3)s,x=(v-g)Math.pow(Math.sin(y),3)u,w=c-b,M=h-x,S=d-b,_=p-x,k=Math.hypot(M,w),O=Math.hypot(_,S);y+=kMath.asin((w_-MS)(kO))Math.sqrt(g+v-cc-hh),y=Math.min(Math.PI2,Math.max(0,y))}return{xt+i(c,f),ye+i(h,l)}},pointDistancefunction(t,e,r,i,o,a){var s=this.nearestPoint(t,e,r,i,o,a);return n.distance(s.x,s.y,o,a)},pointAtfunction(t,e,r,n,i){var o=2Math.PIi;return{xt+rMath.cos(o),ye+nMath.sin(o)}},tangentAnglefunction(t,e,r,i,o){var a=2Math.PIo,s=Math.atan2(iMath.cos(a),-rMath.sin(a));return n.piMod(s)}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(2),i=r(4),o=r(3),a=[MLHVQTCSAZ]([^MLHVQTCSAZ])gi,s=[^s,]+gi;e.default=function(t){var e=t[];return i.default(e)eo.default(e)(e=e.match(a),n.default(e,(function(t,r){if((t=t.match(s))[0].length1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}n.default(t,(function(e,r){isNaN(e)(t[r]=+e)})),e[r]=t})),e)void 0}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(107);e.default=function(t){var e=t.attr(),r=e.x1,i=e.y1,o=e.x2,a=e.y2,s={minXMath.min(r,o),maxXMath.max(r,o),minYMath.min(i,a),maxYMath.max(i,a)};return{x(s=n.mergeArrowBBox(t,s)).minX,ys.minY,widths.maxX-s.minX,heights.maxY-s.minY}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.default=function(t){var e=t.attr(),r=e.x,n=e.y,i=e.rx,o=e.ry;return{xr-i,yn-o,width2i,height2o}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(28),o=r(18),a=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x0,y0,r0})},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){var a=this.attr(),s=a.x,u=a.y,c=a.r,h=i2,f=o.distance(s,u,t,e);return n&&rf=c+hnf=c!!r&&(f=c-h&&f=c+h)},e.prototype.createPath=function(t){var e=this.attr(),r=e.x,n=e.y,i=e.r;t.beginPath(),t.arc(r,n,i,0,2Math.PI,!1),t.closePath()},e}(i.default);e.default=a},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1);function i(t,e,r,n){return t(rr)+e(nn)}var o=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x0,y0,rx0,ry0})},e.prototype.isInStrokeOrPath=function(t,e,r,n,o){var a=this.attr(),s=o2,u=a.x,c=a.y,h=a.rx,f=a.ry,l=(t-u)(t-u),d=(e-c)(e-c);return n&&ri(l,d,h+s,f+s)=1ni(l,d,h,f)=1!!r&&(i(l,d,h-s,f-s)=1&&i(l,d,h+s,f+s)=1)},e.prototype.createPath=function(t){var e=this.attr(),r=e.x,n=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(r,n,i,o,0,0,2Math.PI,!1);else{var a=ioio,s=io1io,u=iooi1;t.save(),t.translate(r,n),t.scale(s,u),t.arc(0,0,a,0,2Math.PI),t.restore(),t.closePath()}},e}(r(28).default);e.default=o},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(28),o=r(18);function a(t){return t instanceof HTMLElement&&o.isString(t.nodeName)&&CANVAS===t.nodeName.toUpperCase()}var s=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x0,y0,width0,height0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get(toDraw)){var t=this.get(canvas);tt.draw()this.createPath(this.get(context))}},e.prototype._setImage=function(t){var e=this,r=this.attrs;if(o.isString(t)){var n=new Image;n.onload=function(){if(e.destroyed)return!1;e.attr(img,n),e.set(loading,!1),e._afterLoading();var t=e.get(callback);t&&t.call(e)},n.crossOrigin=Anonymous,n.src=t,this.set(loading,!0)}else t instanceof Image(r.width(r.width=t.width),r.height(r.height=t.height))a(t)&&(r.width(r.width=Number(t.getAttribute(width))),r.height(r.height,Number(t.getAttribute(height))))},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),img===e&&this._setImage(r)},e.prototype.createPath=function(t){if(this.get(loading))return this.set(toDraw,!0),void this.set(context,t);var e=this.attr(),r=e.x,n=e.y,i=e.width,s=e.height,u=e.sx,c=e.sy,h=e.swidth,f=e.sheight,l=e.img;(l instanceof Imagea(l))&&(o.isNil(u)o.isNil(c)o.isNil(h)o.isNil(f)t.drawImage(l,r,n,i,s)t.drawImage(l,u,c,h,f,r,n,i,s))},e}(i.default);e.default=s},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(40),o=r(28),a=r(75),s=r(74),u=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x10,y10,x20,y20,startArrow!1,endArrow!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,r=t.y1,n=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&s.addStartArrow(this,t,n,i,e,r),a&&s.addEndArrow(this,t,e,r,n,i)},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){if(!r!i)return!1;var o=this.attr(),s=o.x1,u=o.y1,c=o.x2,h=o.y2;return a.default(s,u,c,h,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),r=e.x1,n=e.y1,i=e.x2,o=e.y2,a=e.startArrow,u=e.endArrow,c={dx0,dy0},h={dx0,dy0};a&&a.d&&(c=s.getShortenOffset(r,n,i,o,e.startArrow.d)),u&&u.d&&(h=s.getShortenOffset(r,n,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(r+c.dx,n+c.dy),t.lineTo(i-h.dx,o-h.dy)},e.prototype.afterDrawPath=function(t){var e=this.get(startArrowShape),r=this.get(endArrowShape);e&&e.draw(t),r&&r.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,r=t.y1,n=t.x2,o=t.y2;return i.default.length(e,r,n,o)},e.prototype.getPoint=function(t){var e=this.attr(),r=e.x1,n=e.y1,o=e.x2,a=e.y2;return i.default.pointAt(r,n,o,a,t)},e}(o.default);e.default=u},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(0),o=r(165),a=r(28),s=r(18),u=r(60),c={circlefunction(t,e,r){return[[M,t-r,e],[A,r,r,0,1,0,t+r,e],[A,r,r,0,1,0,t-r,e]]},squarefunction(t,e,r){return[[M,t-r,e-r],[L,t+r,e-r],[L,t+r,e+r],[L,t-r,e+r],[Z]]},diamondfunction(t,e,r){return[[M,t-r,e],[L,t,e-r],[L,t+r,e],[L,t,e+r],[Z]]},trianglefunction(t,e,r){var n=rMath.sin(13Math.PI);return[[M,t-r,e+n],[L,t,e-n],[L,t+r,e+n],[Z]]},triangle-downfunction(t,e,r){var n=rMath.sin(13Math.PI);return[[M,t-r,e-n],[L,t+r,e-n],[L,t,e+n],[Z]]}},h=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set(paramsCache,{})},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),-1!==[symbol,x,y,r,radius].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return i.isNil(t.r)t.radiust.r},e.prototype._getPath=function(){var t,r,n=this.attr(),i=n.x,a=n.y,u=n.symbolcircle,c=this._getR(n);return s.isFunction(u)(r=(t=u)(i,a,c),r=o.default(r))r=(t=e.Symbols[u])(i,a,c),tr(console.warn(u+ marker is not supported.),null)},e.prototype.createPath=function(t){var e=this._getPath(),r=this.get(paramsCache);u.drawPath(this,t,{pathe},r)},e.Symbols=c,e}(a.default);e.default=h},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(4),i=tnvfr ????????????????u2028u2029,o=new RegExp(([a-z])[+i+,]((-d.d(e[-+]d+)[+i+],[+i+])+),ig),a=new RegExp((-d.d(e[-+]d+))[+i+],[+i+],ig);e.default=function(t){if(!t)return null;if(n.default(t))return t;var e={a7,c6,o2,h1,l2,m2,r4,q4,s4,t2,v1,u3,z0},r=[];return String(t).replace(o,(function(t,n,i){var o=[],s=n.toLowerCase();if(i.replace(a,(function(t,e){e&&o.push(+e)})),m===s&&o.length2&&(r.push([n].concat(o.splice(0,2))),s=l,n=m===nlL),o===s&&1===o.length&&r.push([n,o[0]]),r===s)r.push([n].concat(o));else for(;o.length=e[s]&&(r.push([n].concat(o.splice(0,e[s]))),e[s]););return})),r}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(108),o=r(0),a=r(28),s=r(165),u=r(162),c=r(60),h=r(166),f=r(167),l=r(341),d=r(74);function p(t,e,r){for(var n=!1,i=0;it.length;i++){var o=t[i];if(n=f.default(o,e,r))break}return n}var g=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{startArrow!1,endArrow!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),path===e&&this._setPathArr(r),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=s.default(t);var e=l.default.hasArc(t);this.set(hasArc,e),this.set(paramsCache,{}),this.set(segments,null),this.set(curve,null),this.set(tCache,null),this.set(totalLength,null)},e.prototype.getSegments=function(){var t=this.get(segements);return t(t=u.default(this.attr(path)),this.set(segments,t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,r=t.endArrow;if(e){var n=this.getStartTangent();d.addStartArrow(this,t,n[0][0],n[0][1],n[1][0],n[1][1])}if(r){n=this.getEndTangent();d.addEndArrow(this,t,n[0][0],n[0][1],n[1][0],n[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){var o=this.getSegments(),a=this.get(hasArc),s=!1;if(r){var u=this.getTotalLength();s=l.default.isPointInStroke(o,i,t,e,u)}if(!s&&n)if(a)s=h.default(this,t,e);else{var c=this.attr(path),f=l.default.extractPolygons(c);s=p(f.polygons,t,e)p(f.polylines,t,e)}return s},e.prototype.createPath=function(t){var e=this.attr(),r=this.get(paramsCache);c.drawPath(this,t,e,r)},e.prototype.afterDrawPath=function(t){var e=this.get(startArrowShape),r=this.get(endArrowShape);e&&e.draw(t),r&&r.draw(t)},e.prototype.getTotalLength=function(){var t=this.get(totalLength);return o.isNil(t)(this._calculateCurve(),this._setTcache(),this.get(totalLength))t},e.prototype.getPoint=function(t){var e,r,n=this.get(tCache);n(this._calculateCurve(),this._setTcache(),n=this.get(tCache));var a=this.get(curve);if(!n0===n.length)return a{xa[0][1],ya[0][2]}null;o.each(n,(function(n,i){t=n[0]&&t=n[1]&&(e=(t-n[0])(n[1]-n[0]),r=i)}));var s=a[r];if(o.isNil(s)o.isNil(r))return null;var u=s.length,c=a[r+1];return i.default.pointAt(s[u-2],s[u-1],c[1],c[2],c[3],c[4],c[5],c[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set(curve,l.default.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,r,n,a=0,s=0,u=[],c=this.get(curve);c&&(o.each(c,(function(t,e){r=c[e+1],n=t.length,r&&(a+=i.default.length(t[n-2],t[n-1],r[1],r[2],r[3],r[4],r[5],r[6])0)})),this.set(totalLength,a),0!==a(o.each(c,(function(o,h){r=c[h+1],n=o.length,r&&((t=[])[0]=sa,e=i.default.length(o[n-2],o[n-1],r[1],r[2],r[3],r[4],r[5],r[6]),s+=e0,t[1]=sa,u.push(t))})),this.set(tCache,u))this.set(tCache,[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length1){var r=e[0].currentPoint,n=e[1].currentPoint,i=e[1].startTangent;t=[],i(t.push([r[0]-i[0],r[1]-i[1]]),t.push([r[0],r[1]]))(t.push([n[0],n[1]]),t.push([r[0],r[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),r=e.length;if(r1){var n=e[r-2].currentPoint,i=e[r-1].currentPoint,o=e[r-1].endTangent;t=[],o(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]]))(t.push([n[0],n[1]]),t.push([i[0],i[1]]))}return t},e}(a.default);e.default=g},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(43),o=r(160),a=r(108),s=r(18),u=r(75),c=r(168),h=r(133),f=r(106),l=h.ext.transform;e.default=n.__assign({hasArcfunction(t){for(var e=!1,r=t.length,n=0;nr;n++){var i=t[n][0];if(C===iA===iQ===i){e=!0;break}}return e},extractPolygonsfunction(t){for(var e=t.length,r=[],n=[],i=[],o=0;oe;o++){var a=t[o],s=a[0];M===s(i.length&&(n.push(i),i=[]),i.push([a[1],a[2]]))Z===si.length&&(r.push(i),i=[])i.push([a[1],a[2]])}return i.length0&&n.push(i),{polygonsr,polylinesn}},isPointInStrokefunction(t,e,r,n,i){for(var h=!1,d=e2,p=0;pt.length;p++){var g=t[p],v=g.currentPoint,y=g.params,m=g.prePoint,b=g.box;if(!bs.inBox(b.x-d,b.y-d,b.width+e,b.height+e,r,n)){switch(g.command){caseLcaseZh=u.default(m[0],m[1],v[0],v[1],e,r,n);break;caseQh=o.default.pointDistance(m[0],m[1],y[1],y[2],y[3],y[4],r,n)=e2;break;caseCh=a.default.pointDistance(m[0],m[1],y[1],y[2],y[3],y[4],y[5],y[6],r,n,i)=e2;break;caseAvar x=g.arcParams,w=x.cx,M=x.cy,S=x.rx,_=x.ry,k=x.startAngle,O=x.endAngle,E=x.xRotation,j=[r,n,1],C=S_S_,A=l(null,[[t,-w,-M],[r,-E],[s,1(S_1S_),1(S__S1)]]);f.transformMat3(j,j,A),h=c.default(0,0,C,k,O,e,j[0],j[1])}if(h)break}}return h}},i.PathUtil)},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(28),o=r(169),a=r(167),s=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.isInStrokeOrPath=function(t,e,r,n,i){var s=this.attr().points,u=!1;return r&&(u=o.default(s,i,t,e,!0)),!u&&n&&(u=a.default(s,t,e)),u},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length2)){t.beginPath();for(var r=0;re.length;r++){var n=e[r];0===rt.moveTo(n[0],n[1])t.lineTo(n[0],n[1])}t.closePath()}},e}(i.default);e.default=s},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(40),o=r(170),a=r(0),s=r(28),u=r(169),c=r(74),h=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{startArrow!1,endArrow!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),this.setArrow(),-1!==[points].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set(totalLength,null),this.set(tCache,null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,r=e.points,n=e.startArrow,i=e.endArrow,o=r.length,a=r[0][0],s=r[0][1],u=r[o-1][0],h=r[o-1][1];n&&c.addStartArrow(this,t,r[1][0],r[1][1],a,s),i&&c.addEndArrow(this,t,r[o-2][0],r[o-2][1],u,h)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){if(!r!i)return!1;var o=this.attr().points;return u.default(o,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),r=e.points,n=e.startArrow,i=e.endArrow,o=r.length;if(!(r.length2)){var a,s=r[0][0],u=r[0][1],h=r[o-1][0],f=r[o-1][1];if(n&&n.d)s+=(a=c.getShortenOffset(s,u,r[1][0],r[1][1],n.d)).dx,u+=a.dy;if(i&&i.d)h-=(a=c.getShortenOffset(r[o-2][0],r[o-2][1],h,f,i.d)).dx,f-=a.dy;t.beginPath(),t.moveTo(s,u);for(var l=0;lo-1;l++){var d=r[l];t.lineTo(d[0],d[1])}t.lineTo(h,f)}},e.prototype.afterDrawPath=function(t){var e=this.get(startArrowShape),r=this.get(endArrowShape);e&&e.draw(t),r&&r.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get(totalLength);return a.isNil(e)(this.set(totalLength,o.default.length(t)),this.get(totalLength))e},e.prototype.getPoint=function(t){var e,r,n=this.attr().points,o=this.get(tCache);return o(this._setTcache(),o=this.get(tCache)),a.each(o,(function(n,i){t=n[0]&&t=n[1]&&(e=(t-n[0])(n[1]-n[0]),r=i)})),i.default.pointAt(n[r][0],n[r][1],n[r+1][0],n[r+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e=0)){var r,n,o=0,s=[];a.each(t,(function(a,u){t[u+1]&&((r=[])[0]=oe,n=i.default.length(a[0],a[1],t[u+1][0],t[u+1][1]),o+=n,r[1]=oe,s.push(r))})),this.set(tCache,s)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,r=[];return r.push([t[e-1][0],t[e-1][1]]),r.push([t[e][0],t[e][1]]),r},e}(s.default);e.default=h},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.distanceAtSegment=e.angleAtSegments=e.pointAtSegments=e.lengthOfSegment=void 0;var n=r(40),i=r(33);function o(t){for(var e=0,r=[],n=0;nt.length-1;n++){var o=t[n],a=t[n+1],s=i.distance(o[0],o[1],a[0],a[1]),u={fromo,toa,lengths};r.push(u),e+=s}return{segmentsr,totalLengthe}}e.lengthOfSegment=function(t){if(t.length2)return 0;for(var e=0,r=0;rt.length-1;r++){var n=t[r],o=t[r+1];e+=i.distance(n[0],n[1],o[0],o[1])}return e},e.pointAtSegments=function(t,e){if(e1e0t.length2)return null;var r=o(t),i=r.segments,a=r.totalLength;if(0===a)return{xt[0][0],yt[0][1]};for(var s=0,u=null,c=0;ci.length;c++){var h=i[c],f=h.from,l=h.to,d=h.lengtha;if(e=s&&e=s+d){var p=(e-s)d;u=n.default.pointAt(f[0],f[1],l[0],l[1],p);break}s+=d}return u},e.angleAtSegments=function(t,e){if(e1e0t.length2)return 0;for(var r=o(t),n=r.segments,i=r.totalLength,a=0,s=0,u=0;un.length;u++){var c=n[u],h=c.from,f=c.to,l=c.lengthi;if(e=a&&e=a+l){s=Math.atan2(f[1]-h[1],f[0]-h[0]);break}a+=l}return s},e.distanceAtSegment=function(t,e,r){for(var i=10,o=0;ot.length-1;o++){var a=t[o],s=t[o+1],u=n.default.pointDistance(a[0],a[1],s[0],s[1],e,r);ui&&(i=u)}return i}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(28),o=r(156),a=r(18),s=r(346),u=r(347),c=r(166),h=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x0,y0,width0,height0,radius0})},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){var o=this.attr(),h=o.x,f=o.y,l=o.width,d=o.height,p=o.radius;if(p){var g=!1;return r&&(g=u.default(h,f,l,d,p,i,t,e)),!g&&n&&(g=c.default(this,t,e)),g}var v=i2;return n&&ra.inBox(h-v,f-v,l+v,d+v,t,e)na.inBox(h,f,l,d,t,e)rs.default(h,f,l,d,i,t,e)void 0},e.prototype.createPath=function(t){var e=this.attr(),r=e.x,n=e.y,i=e.width,a=e.height,s=e.radius;if(t.beginPath(),0===s)t.rect(r,n,i,a);else{var u=o.parseRadius(s),c=u[0],h=u[1],f=u[2],l=u[3];t.moveTo(r+c,n),t.lineTo(r+i-h,n),0!==h&&t.arc(r+i-h,n+h,h,-Math.PI2,0),t.lineTo(r+i,n+a-f),0!==f&&t.arc(r+i-f,n+a-f,f,0,Math.PI2),t.lineTo(r+l,n+a),0!==l&&t.arc(r+l,n+a-l,l,Math.PI2,Math.PI),t.lineTo(r,n+c),0!==c&&t.arc(r+c,n+c,c,Math.PI,1.5Math.PI),t.closePath()}},e}(i.default);e.default=h},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(18);e.default=function(t,e,r,i,o,a,s){var u=o2;return n.inBox(t-u,e-u,r,o,a,s)n.inBox(t+r-u,e-u,o,i,a,s)n.inBox(t+u,e+i-u,r,o,a,s)n.inBox(t-u,e+u,o,i,a,s)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(75),i=r(168);e.default=function(t,e,r,o,a,s,u,c){return n.default(t+a,e,t+r-a,e,s,u,c)n.default(t+r,e+a,t+r,e+o-a,s,u,c)n.default(t+r-a,e+o,t+a,e+o,s,u,c)n.default(t,e+o-a,t,e+a,s,u,c)i.default(t+r-a,e+a,a,1.5Math.PI,2Math.PI,s,u,c)i.default(t+r-a,e+o-a,a,0,.5Math.PI,s,u,c)i.default(t+a,e+o-a,a,.5Math.PI,Math.PI,s,u,c)i.default(t+a,e+a,a,Math.PI,1.5Math.PI,s,u,c)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(28),o=r(18),a=r(158),s=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x0,y0,textnull,fontSize12,fontFamilysans-serif,fontStylenormal,fontWeightnormal,fontVariantnormal,textAlignstart,textBaselinebottom})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=a.assembleFont(t)},e.prototype._setText=function(t){var e=null;o.isString(t)&&-1!==t.indexOf(n)&&(e=t.split(n)),this.set(textArr,e)},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),e.startsWith(font)&&this._assembleFont(),text===e&&this._setText(r)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,r=1t.fontSize;return ee-r.14r},e.prototype._drawTextArr=function(t,e,r){var n,i=this.attrs,s=i.textBaseline,u=i.x,c=i.y,h=1i.fontSize,f=this._getSpaceingY(),l=a.getTextHeight(i.text,i.fontSize,i.lineHeight);o.each(e,(function(e,i){n=c+i(f+h)-l+h,middle===s&&(n+=l-h-(l-h)2),top===s&&(n+=l-h),rt.fillText(e,u,n)t.strokeText(e,u,n)}))},e.prototype._drawText=function(t,e){var r=this.attr(),n=r.x,i=r.y,o=this.get(textArr);if(o)this._drawTextArr(t,o,e);else{var a=r.text;et.fillText(a,n,i)t.strokeText(a,n,i)}},e.prototype.strokeAndFill=function(t){var e=this.attrs,r=e.lineWidth,n=e.opacity,i=e.strokeOpacity,a=e.fillOpacity;this.isStroke()&&r0&&(o.isNil(i)1===i(t.globalAlpha=n),this.stroke(t)),this.isFill()&&(o.isNil(a)1===athis.fill(t)(t.globalAlpha=a,this.fill(t),t.globalAlpha=n)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(i.default);e.default=s},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(0),o=r(19),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=circle,e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x0,y0,r0})},e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get(el);i.each(er,(function(t,e){x===ey===en.setAttribute(c+e,t)o.SVG_ATTR_MAP[e]&&n.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e}(r(23).default);e.default=a},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(0),o=r(19),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=dom,e.canFill=!1,e.canStroke=!1,e}return n.__extends(e,t),e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get(el);if(i.each(er,(function(t,e){o.SVG_ATTR_MAP[e]&&n.setAttribute(o.SVG_ATTR_MAP[e],t)})),function==typeof r.html){var a=r.html.call(this,r);if(a instanceof Elementa instanceof HTMLDocument){for(var s=n.childNodes,u=s.length-1;u=0;u--)n.removeChild(s[u]);n.appendChild(a)}else n.innerHTML=a}else n.innerHTML=r.html},e}(r(23).default);e.default=a},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(0),o=r(19),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=ellipse,e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x0,y0,rx0,ry0})},e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get(el);i.each(er,(function(t,e){x===ey===en.setAttribute(c+e,t)o.SVG_ATTR_MAP[e]&&n.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e}(r(23).default);e.default=a},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(0),o=r(19),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=image,e.canFill=!1,e.canStroke=!1,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x0,y0,width0,height0})},e.prototype.createPath=function(t,e){var r=this,n=this.attr(),a=this.get(el);i.each(en,(function(t,e){img===er._setImage(n.img)o.SVG_ATTR_MAP[e]&&a.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,img===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),r=this.get(el);if(i.isString(t))r.setAttribute(href,t);else if(t instanceof window.Image)e.width(r.setAttribute(width,t.width),this.attr(width,t.width)),e.height(r.setAttribute(height,t.height),this.attr(height,t.height)),r.setAttribute(href,t.src);else if(t instanceof HTMLElement&&i.isString(t.nodeName)&&CANVAS===t.nodeName.toUpperCase())r.setAttribute(href,t.toDataURL());else if(t instanceof ImageData){var n=document.createElement(canvas);n.setAttribute(width,+t.width),n.setAttribute(height,+t.height),n.getContext(2d).putImageData(t,0,0),e.width(r.setAttribute(width,+t.width),this.attr(width,t.width)),e.height(r.setAttribute(height,+t.height),this.attr(height,t.height)),r.setAttribute(href,n.toDataURL())}},e}(r(23).default);e.default=a},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(40),o=r(0),a=r(19),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=line,e.canFill=!1,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x10,y10,x20,y20,startArrow!1,endArrow!1})},e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get(el);o.each(er,(function(e,i){if(startArrow===iendArrow===i)if(e){var s=o.isObject(e)t.addArrow(r,a.SVG_ATTR_MAP[i])t.getDefaultArrow(r,a.SVG_ATTR_MAP[i]);n.setAttribute(a.SVG_ATTR_MAP[i],url(#+s+))}else n.removeAttribute(a.SVG_ATTR_MAP[i]);else a.SVG_ATTR_MAP[i]&&n.setAttribute(a.SVG_ATTR_MAP[i],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,r=t.y1,n=t.x2,o=t.y2;return i.default.length(e,r,n,o)},e.prototype.getPoint=function(t){var e=this.attr(),r=e.x1,n=e.y1,o=e.x2,a=e.y2;return i.default.pointAt(r,n,o,a,t)},e}(r(23).default);e.default=s},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(0),o=r(23),a=r(355),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=marker,e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.createPath=function(t){this.get(el).setAttribute(d,this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return i.isArray(t)t.map((function(t){return t.join( )})).join()t},e.prototype._getPath=function(){var t,e=this.attr(),r=e.x,n=e.y,o=e.re.radius,s=e.symbolcircle;return(t=i.isFunction(s)sa.default.get(s))t(r,n,o)(console.warn(t+ symbol is not exist.),null)},e.symbolsFactory=a.default,e}(o.default);e.default=s},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n={circlefunction(t,e,r){return[[M,t,e],[m,-r,0],[a,r,r,0,1,0,2r,0],[a,r,r,0,1,0,2-r,0]]},squarefunction(t,e,r){return[[M,t-r,e-r],[L,t+r,e-r],[L,t+r,e+r],[L,t-r,e+r],[Z]]},diamondfunction(t,e,r){return[[M,t-r,e],[L,t,e-r],[L,t+r,e],[L,t,e+r],[Z]]},trianglefunction(t,e,r){var n=rMath.sin(13Math.PI);return[[M,t-r,e+n],[L,t,e-n],[L,t+r,e+n],[z]]},triangleDownfunction(t,e,r){var n=rMath.sin(13Math.PI);return[[M,t-r,e-n],[L,t+r,e-n],[L,t,e+n],[Z]]}};e.default={getfunction(t){return n[t]},registerfunction(t,e){n[t]=e},removefunction(t){delete n[t]},getAllfunction(){return n}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(0),o=r(19),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=path,e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{startArrow!1,endArrow!1})},e.prototype.createPath=function(t,e){var r=this,n=this.attr(),a=this.get(el);i.each(en,(function(e,s){if(path===s&&i.isArray(e))a.setAttribute(d,r._formatPath(e));else if(startArrow===sendArrow===s)if(e){var u=i.isObject(e)t.addArrow(n,o.SVG_ATTR_MAP[s])t.getDefaultArrow(n,o.SVG_ATTR_MAP[s]);a.setAttribute(o.SVG_ATTR_MAP[s],url(#+u+))}else a.removeAttribute(o.SVG_ATTR_MAP[s]);else o.SVG_ATTR_MAP[s]&&a.setAttribute(o.SVG_ATTR_MAP[s],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join( )})).join();return~e.indexOf(NaN)e},e.prototype.getTotalLength=function(){var t=this.get(el);return tt.getTotalLength()null},e.prototype.getPoint=function(t){var e=this.get(el),r=this.getTotalLength();if(0===r)return null;var n=ee.getPointAtLength(tr)null;return n{xn.x,yn.y}null},e}(r(23).default);e.default=a},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(0),o=r(19),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=polygon,e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get(el);i.each(er,(function(t,e){points===e&&i.isArray(t)&&t.length=2n.setAttribute(points,t.map((function(t){return t[0]+,+t[1]})).join( ))o.SVG_ATTR_MAP[e]&&n.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e}(r(23).default);e.default=a},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(40),o=r(170),a=r(0),s=r(19),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=polyline,e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{startArrow!1,endArrow!1})},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),-1!==[points].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set(totalLength,null),this.set(tCache,null)},e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get(el);a.each(er,(function(t,e){points===e&&a.isArray(t)&&t.length=2n.setAttribute(points,t.map((function(t){return t[0]+,+t[1]})).join( ))s.SVG_ATTR_MAP[e]&&n.setAttribute(s.SVG_ATTR_MAP[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get(totalLength);return a.isNil(e)(this.set(totalLength,o.default.length(t)),this.get(totalLength))e},e.prototype.getPoint=function(t){var e,r,n=this.attr().points,o=this.get(tCache);return o(this._setTcache(),o=this.get(tCache)),a.each(o,(function(n,i){t=n[0]&&t=n[1]&&(e=(t-n[0])(n[1]-n[0]),r=i)})),i.default.pointAt(n[r][0],n[r][1],n[r+1][0],n[r+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e=0)){var r,n,o=0,s=[];a.each(t,(function(a,u){t[u+1]&&((r=[])[0]=oe,n=i.default.length(a[0],a[1],t[u+1][0],t[u+1][1]),o+=n,r[1]=oe,s.push(r))})),this.set(tCache,s)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,r=[];return r.push([t[e-1][0],t[e-1][1]]),r.push([t[e][0],t[e][1]]),r},e}(r(23).default);e.default=u},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(0),o=r(23),a=r(19),s=r(360),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=rect,e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x0,y0,width0,height0,radius0})},e.prototype.createPath=function(t,e){var r=this,n=this.attr(),o=this.get(el),s=!1,u=[x,y,width,height,radius];i.each(en,(function(t,e){-1===u.indexOf(e)s-1===u.indexOf(e)&&a.SVG_ATTR_MAP[e]&&o.setAttribute(a.SVG_ATTR_MAP[e],t)(o.setAttribute(d,r._assembleRect(n)),s=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,r=t.y,n=t.width,o=t.height,a=t.radius;if(!a)returnM +e+,+r+ l +n+,0 l 0,+o+ l+-n+ 0 z;var u=s.parseRadius(a);return i.isArray(a)1===a.lengthu.r1=u.r2=u.r3=u.r4=a[0]2===a.length(u.r1=u.r3=a[0],u.r2=u.r4=a[1])3===a.length(u.r1=a[0],u.r2=u.r4=a[1],u.r3=a[2])(u.r1=a[0],u.r2=a[1],u.r3=a[2],u.r4=a[3])u.r1=u.r2=u.r3=u.r4=a,[[M +(e+u.r1)+,+r],[l +(n-u.r1-u.r2)+,0],[a +u.r2+,+u.r2+,0,0,1,+u.r2+,+u.r2],[l 0,+(o-u.r2-u.r3)],[a +u.r3+,+u.r3+,0,0,1,+-u.r3+,+u.r3],[l +(u.r3+u.r4-n)+,0],[a +u.r4+,+u.r4+,0,0,1,+-u.r4+,+-u.r4],[l 0,+(u.r4+u.r1-o)],[a +u.r1+,+u.r1+,0,0,1,+u.r1+,+-u.r1],[z]].join( )},e}(o.default);e.default=u},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.parsePath=e.parseRadius=void 0;var n=r(0),i=[MLHVQTCSAZ]([^MLHVQTCSAZ])gi,o=[^s,]+gi;e.parseRadius=function(t){var e=0,r=0,i=0,o=0;return n.isArray(t)1===t.lengthe=r=i=o=t[0]2===t.length(e=i=t[0],r=o=t[1])3===t.length(e=t[0],r=o=t[1],i=t[2])(e=t[0],r=t[1],i=t[2],o=t[3])e=r=i=o=t,{r1e,r2r,r3i,r4o}},e.parsePath=function(t){return t=t[],n.isArray(t)tn.isString(t)(t=t.match(i),n.each(t,(function(e,r){if((e=e.match(o))[0].length1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}n.each(e,(function(t,r){isNaN(t)(e[r]=+t)})),t[r]=e})),t)void 0}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(1),i=r(0),o=r(132),a=r(61),s=r(19),u=r(23),c={topbefore-edge,middlecentral,bottomafter-edge,alphabeticbaseline,hanginghanging},h={toptext-before-edge,middlecentral,bottomtext-after-edge,alphabeticalphabetic,hanginghanging},f={leftleft,startleft,centermiddle,rightend,endend},l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=text,e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x0,y0,textnull,fontSize12,fontFamilysans-serif,fontStylenormal,fontWeightnormal,fontVariantnormal,textAlignstart,textBaselinebottom})},e.prototype.createPath=function(t,e){var r=this,n=this.attr(),o=this.get(el);this._setFont(),i.each(en,(function(t,e){text===er._setText(+t)matrix===e&&ta.setTransform(r)s.SVG_ATTR_MAP[e]&&o.setAttribute(s.SVG_ATTR_MAP[e],t)})),o.setAttribute(paint-order,stroke),o.setAttribute(style,stroke-linecapbutt; stroke-linejoinmiter;)},e.prototype._setFont=function(){var t=this.get(el),e=this.attr(),r=e.textBaseline,n=e.textAlign,i=o.detect();i&&firefox===i.namet.setAttribute(dominant-baseline,h[r]alphabetic)t.setAttribute(alignment-baseline,c[r]baseline),t.setAttribute(text-anchor,f[n]left)},e.prototype._setText=function(t){var e=this.get(el),r=this.attr(),n=r.x,o=r.textBaseline,a=void 0===obottomo;if(t)if(~t.indexOf(n)){var s=t.split(n),u=s.length-1,c=;i.each(s,(function(t,e){0===ealphabetic===ac+='tspan x='+n+' dy='+-u+'em'+t+tspantop===ac+='tspan x='+n+' dy=0.9em'+t+tspanmiddle===ac+='tspan x='+n+' dy='+-(u-1)2+'em'+t+tspanbottom===ac+='tspan x='+n+' dy=-'+(u+.3)+'em'+t+tspanhanging===a&&(c+='tspan x='+n+' dy='+(-(u-1)-.3)+'em'+t+tspan)c+='tspan x='+n+' dy=1em'+t+tspan})),e.innerHTML=c}else e.innerHTML=t;else e.innerHTML=},e}(u.default);e.default=l},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(0),i=r(363),o=r(364),a=r(365),s=r(366),u=r(367),c=r(29),h=function(){function t(t){var e=c.createSVGElement(defs),r=n.uniqueId(defs_);e.id=r,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var r=this.children,n=null,i=0;ir.length;i++)if(r[i].match(t,e)){n=r[i].id;break}return n},t.prototype.findById=function(t){for(var e=this.children,r=null,n=0;ne.length;n++)if(e[n].id===t){r=e[n];break}return r},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var r=t.stroket.strokeStyle;if(this.defaultArrow[r])return this.defaultArrow[r].id;var n=new a.default(t,e);return this.defaultArrow[r]=n,this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addGradient=function(t){var e=new i.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var r=new a.default(t,e);return this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addShadow=function(t){var e=new o.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new u.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new s.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();e.default=h},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(0),i=r(29),o=^ls(s([d.]+)s)s(.)i,a=^rs(s([d.]+)s,s([d.]+)s,s([d.]+)s)s(.)i,s=[d.]+(#[^s]+[^)]+))gi;function u(t){var e=t.match(s);if(!e)return;var r=;return e.sort((function(t,e){return t=t.split(),e=e.split(),Number(t[0])-Number(e[0])})),n.each(e,(function(t){t=t.split(),r+='stop offset='+t[0]+' stop-color='+t[1]+'stop'})),r}var c=function(){function t(t){this.cfg={};var e=null,r=n.uniqueId(gradient_);returnl===t.toLowerCase()[0]function(t,e){var r,i,a=o.exec(t),s=n.mod(n.toRadian(parseFloat(a[1])),2Math.PI),c=a[2];s=0&&s.5Math.PI(r={x0,y0},i={x1,y1}).5Math.PI=s&&sMath.PI(r={x1,y0},i={x0,y1})Math.PI=s&&s1.5Math.PI(r={x1,y1},i={x0,y0})(r={x0,y1},i={x1,y0});var h=Math.tan(s),f=hh,l=(i.x-r.x+h(i.y-r.y))(f+1)+r.x,d=h(i.x-r.x+h(i.y-r.y))(f+1)+r.y;e.setAttribute(x1,r.x),e.setAttribute(y1,r.y),e.setAttribute(x2,l),e.setAttribute(y2,d),e.innerHTML=u(c)}(t,e=i.createSVGElement(linearGradient))function(t,e){var r=a.exec(t),n=parseFloat(r[1]),i=parseFloat(r[2]),o=parseFloat(r[3]),s=r[4];e.setAttribute(cx,n),e.setAttribute(cy,i),e.setAttribute(r,o),e.innerHTML=u(s)}(t,e=i.createSVGElement(radialGradient)),e.setAttribute(id,r),this.el=e,this.id=r,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();e.default=c},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(0),i=r(29),o={shadowColorcolor,shadowOpacityopacity,shadowBlurblur,shadowOffsetXdx,shadowOffsetYdy},a={x-40%,y-40%,width200%,height200%},s=function(){function t(t){this.type=filter,this.cfg={},this.type=filter;var e=i.createSVGElement(filter);return n.each(a,(function(t,r){e.setAttribute(r,t)})),this.el=e,this.id=n.uniqueId(filter_),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var r=!0,i=this.cfg;return n.each(Object.keys(i),(function(t){if(i[t]!==e[t])return r=!1,!1})),r},t.prototype.update=function(t,e){var r=this.cfg;return r[o[t]]=e,this._parseShadow(r,this.el),this},t.prototype._parseShadow=function(t,e){var r='feDropShadown      dx='+(t.dx0)+'n      dy='+(t.dy0)+'n      stdDeviation='+(t.blurt.blur100)+'n      flood-color='+(t.colort.color#000)+'n      flood-opacity='+(t.opacityt.opacity1)+'n      ';e.innerHTML=r},t}();e.default=s},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(0),i=r(29),o=function(){function t(t,e){this.cfg={};var r=i.createSVGElement(marker),o=n.uniqueId(marker_);r.setAttribute(id,o);var a=i.createSVGElement(path);a.setAttribute(stroke,t.strokenone),a.setAttribute(fill,t.fillnone),r.appendChild(a),r.setAttribute(overflow,visible),r.setAttribute(orient,auto-start-reverse),this.el=r,this.child=a,this.id=o;var s=t[marker-start===estartArrowendArrow];return this.stroke=t.stroke#000,!0===sthis._setDefaultPath(e,a)(this.cfg=s,this._setMarker(t.lineWidth,a)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var r=this.el;e.setAttribute(d,M0,0 L+10Math.cos(Math.PI6)+,5 L0,10),r.setAttribute(refX,+10Math.cos(Math.PI6)),r.setAttribute(refY,5)},t.prototype._setMarker=function(t,e){var r=this.el,i=this.cfg.path,o=this.cfg.d;n.isArray(i)&&(i=i.map((function(t){return t.join( )})).join()),e.setAttribute(d,i),r.appendChild(e),o&&r.setAttribute(refX,+ot)},t.prototype.update=function(t){var e=this.child;e.attre.attr(fill,t)e.setAttribute(fill,t)},t}();e.default=o},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(0),i=r(29),o=function(){function t(t){this.type=clip,this.cfg={};var e=i.createSVGElement(clipPath);this.el=e,this.id=n.uniqueId(clip_),e.id=this.id;var r=t.cfg.el;return e.appendChild(r),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();e.default=o},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(0),i=r(29),o=^ps(s([axyn])s)s(.)i,a=function(){function t(t){this.cfg={};var e=i.createSVGElement(pattern);e.setAttribute(patternUnits,userSpaceOnUse);var r=i.createSVGElement(image);e.appendChild(r);var a=n.uniqueId(pattern_);e.id=a,this.el=e,this.id=a,this.cfg=t;var s=o.exec(t)[2];r.setAttribute(href,s);var u=new Image;function c(){e.setAttribute(width,+u.width),e.setAttribute(height,+u.height)}return s.match(^datai)(u.crossOrigin=Anonymous),u.src=s,u.completec()(u.onload=c,u.src=u.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();e.default=a},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(26),i=r(0);n.angle=function(t,e){var r=n.dot(t,e)(n.length(t)n.length(e));return Math.acos(i.clamp(r,-1,1))},n.direction=function(t,e){return t[0]e[1]-e[0]t[1]},n.angleTo=function(t,e,r){var i=n.angle(t,e),o=n.direction(t,e)=0;return ro2Math.PI-iioi2Math.PI-i},n.vertical=function(t,e,r){return r(t[0]=e[1],t[1]=-1e[0])(t[0]=-1e[1],t[1]=e[0]),t},e.default=n},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(131);e.default=n},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(0),i=r(172);e.default=function(t,e){var r=tn.clone(t)[1,0,0,0,1,0,0,0,1];return n.each(e,(function(t){switch(t[0]){caseti.default.translate(r,r,[t[1],t[2]]);break;casesi.default.scale(r,r,[t[1],t[2]]);break;caseri.default.rotate(r,r,t[1]);break;casemi.default.multiply(r,r,t[1]);break;defaultreturn!1}})),r}},function(t,e,r){var n=r(372);t.exports={Graphn.Graph,jsonr(475),algr(476),versionn.version}},function(t,e,r){t.exports={Graphr(111),versionr(474)}},function(t,e,r){var n=r(173);t.exports=function(t){return n(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(78),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r0)&&(r==e.length-1e.pop()i.call(e,r,1),--this.size,!0)}},function(t,e,r){var n=r(78);t.exports=function(t){var e=this.__data__,r=n(e,t);return r0void 0e[r][1]}},function(t,e,r){var n=r(78);t.exports=function(t){return n(this.__data__,t)-1}},function(t,e,r){var n=r(78);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i0(++this.size,r.push([t,e]))r[i][1]=e,this}},function(t,e,r){var n=r(77);t.exports=function(){this.__data__=new n,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,r){var n=r(77),i=r(112),o=r(113);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!ia.length199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(t,e),this.size=r.size,this}},function(t,e,r){var n=r(62),i=r(388),o=r(25),a=r(175),s=^[object .+Constructor]$,u=Function.prototype,c=Object.prototype,h=u.toString,f=c.hasOwnProperty,l=RegExp(^+h.call(f).replace([^$.+()[]{}]g,$&).replace(hasOwnProperty(function).(=() for .+(=])g,$1.)+$);t.exports=function(t){return!(!o(t)i(t))&&(n(t)ls).test(a(t))}},function(t,e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var n;n=function(){return this}();try{n=nnew Function(return this)()}catch(t){object===(undefined==typeof windowundefinedr(window))&&(n=window)}t.exports=n},function(t,e,r){var n=r(52),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=nn.toStringTagvoid 0;t.exports=function(t){var e=o.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var i=a.call(t);return n&&(et[s]=rdelete t[s]),i}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,r){var n,i=r(389),o=(n=[^.]+$.exec(i&&i.keys&&i.keys.IE_PROTO))Symbol(src)_1.+n;t.exports=function(t){return!!o&&o in t}},function(t,e,r){var n=r(31)[__core-js_shared__];t.exports=n},function(t,e){t.exports=function(t,e){return null==tvoid 0t[e]}},function(t,e,r){var n=r(392),i=r(77),o=r(112);t.exports=function(){this.size=0,this.__data__={hashnew n,mapnew(oi),stringnew n}}},function(t,e,r){var n=r(393),i=r(394),o=r(395),a=r(396),s=r(397);function u(t){var e=-1,r=null==t0t.length;for(this.clear();++er;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,r){var n=r(79);t.exports=function(){this.__data__=nn(null){},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e10,e}},function(t,e,r){var n=r(79),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return__lodash_hash_undefined__===rvoid 0r}return i.call(e,t)e[t]void 0}},function(t,e,r){var n=r(79),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return nvoid 0!==e[t]i.call(e,t)}},function(t,e,r){var n=r(79);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)01,r[t]=n&&void 0===e__lodash_hash_undefined__e,this}},function(t,e,r){var n=r(80);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e10,e}},function(t,e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}t.exports=function(t){var e=r(t);returnstring==enumber==esymbol==eboolean==e__proto__!==tnull===t}},function(t,e,r){var n=r(80);t.exports=function(t){return n(this,t).get(t)}},function(t,e,r){var n=r(80);t.exports=function(t){return n(this,t).has(t)}},function(t,e,r){var n=r(80);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i01,this}},function(t,e,r){var n=r(63),i=r(41);t.exports=function(t,e){return t&&n(e,i(e),t)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++rt;)n[r]=e(r);return n}},function(t,e,r){var n=r(45),i=r(34);t.exports=function(t){return i(t)&&[object Arguments]==n(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(45),i=r(116),o=r(34),a={};a[[object Float32Array]]=a[[object Float64Array]]=a[[object Int8Array]]=a[[object Int16Array]]=a[[object Int32Array]]=a[[object Uint8Array]]=a[[object Uint8ClampedArray]]=a[[object Uint16Array]]=a[[object Uint32Array]]=!0,a[[object Arguments]]=a[[object Array]]=a[[object ArrayBuffer]]=a[[object Boolean]]=a[[object DataView]]=a[[object Date]]=a[[object Error]]=a[[object Function]]=a[[object Map]]=a[[object Number]]=a[[object Object]]=a[[object RegExp]]=a[[object Set]]=a[[object String]]=a[[object WeakMap]]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[n(t)]}},function(t,e,r){var n=r(178)(Object.keys,Object);t.exports=n},function(t,e,r){var n=r(63),i=r(46);t.exports=function(t,e){return t&&n(e,i(e),t)}},function(t,e,r){var n=r(25),i=r(85),o=r(411),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=i(t),r=[];for(var s in t)(constructor!=s!e&&a.call(t,s))&&r.push(s);return r}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},function(t,e,r){var n=r(63),i=r(119);t.exports=function(t,e){return n(t,i(t),e)}},function(t,e,r){var n=r(63),i=r(183);t.exports=function(t,e){return n(t,i(t),e)}},function(t,e,r){var n=r(185),i=r(183),o=r(46);t.exports=function(t){return n(t,o,i)}},function(t,e,r){var n=r(44)(r(31),DataView);t.exports=n},function(t,e,r){var n=r(44)(r(31),Promise);t.exports=n},function(t,e,r){var n=r(44)(r(31),WeakMap);t.exports=n},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&string==typeof t[0]&&r.call(t,index)&&(n.index=t.index,n.input=t.input),n}},function(t,e,r){var n=r(121),i=r(420),o=r(421),a=r(422),s=r(188);t.exports=function(t,e,r){var u=t.constructor;switch(e){case[object ArrayBuffer]return n(t);case[object Boolean]case[object Date]return new u(+t);case[object DataView]return i(t,r);case[object Float32Array]case[object Float64Array]case[object Int8Array]case[object Int16Array]case[object Int32Array]case[object Uint8Array]case[object Uint8ClampedArray]case[object Uint16Array]case[object Uint32Array]return s(t,r);case[object Map]return new u;case[object Number]case[object String]return new u(t);case[object RegExp]return o(t);case[object Set]return new u;case[object Symbol]return a(t)}}},function(t,e,r){var n=r(121);t.exports=function(t,e){var r=en(t.buffer)t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},function(t,e){var r=w$;t.exports=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,r){var n=r(52),i=nn.prototypevoid 0,o=ii.valueOfvoid 0;t.exports=function(t){return oObject(o.call(t)){}}},function(t,e,r){var n=r(424),i=r(84),o=r(117),a=o&&o.isMap,s=ai(a)n;t.exports=s},function(t,e,r){var n=r(54),i=r(34);t.exports=function(t){return i(t)&&[object Map]==n(t)}},function(t,e,r){var n=r(426),i=r(84),o=r(117),a=o&&o.isSet,s=ai(a)n;t.exports=s},function(t,e,r){var n=r(54),i=r(34);t.exports=function(t){return i(t)&&[object Set]==n(t)}},function(t,e){t.exports=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var u=a[ts++i];if(!1===r(o[u],u,o))break}return e}}},function(t,e,r){var n=r(38);t.exports=function(t,e){return function(r,i){if(null==r)return r;if(!n(r))return t(r,i);for(var o=r.length,a=eo-1,s=Object(r);(ea--++ao)&&!1!==i(s[a],a,s););return r}}},function(t,e,r){var n=r(87);t.exports=function(t,e){var r=[];return n(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}},function(t,e,r){var n=r(431),i=r(439),o=r(200);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]o(e[0][0],e[0][1])function(r){return r===tn(r,t,e)}}},function(t,e,r){var n=r(76),i=r(195);t.exports=function(t,e,r,o){var a=r.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=r[a];if(u&&c[2]c[1]!==t[c[0]]!(c[0]in t))return!1}for(;++as;){var h=(c=r[a])[0],f=t[h],l=c[1];if(u&&c[2]){if(void 0===f&&!(h in t))return!1}else{var d=new n;if(o)var p=o(f,l,h,t,e,d);if(!(void 0===pi(l,f,3,o,d)p))return!1}}return!0}},function(t,e,r){var n=r(76),i=r(196),o=r(436),a=r(438),s=r(54),u=r(15),c=r(53),h=r(65),f=[object Object],l=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,d,p,g){var v=u(t),y=u(e),m=v[object Array]s(t),b=y[object Array]s(e),x=(m=[object Arguments]==mfm)==f,w=(b=[object Arguments]==bfb)==f,M=m==b;if(M&&c(t)){if(!c(e))return!1;v=!0,x=!1}if(M&&!x)return g(g=new n),vh(t)i(t,e,r,d,p,g)o(t,e,m,r,d,p,g);if(!(1&r)){var S=x&&l.call(t,__wrapped__),_=w&&l.call(e,__wrapped__);if(S_){var k=St.value()t,O=_e.value()e;return g(g=new n),p(k,O,r,d,g)}}return!!M&&(g(g=new n),a(t,e,r,d,p,g))}},function(t,e){t.exports=function(t){return this.__data__.set(t,__lodash_hash_undefined__),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t0t.length;++rn;)if(e(t[r],r,t))return!0;return!1}},function(t,e,r){var n=r(52),i=r(187),o=r(51),a=r(196),s=r(437),u=r(125),c=nn.prototypevoid 0,h=cc.valueOfvoid 0;t.exports=function(t,e,r,n,c,f,l){switch(r){case[object DataView]if(t.byteLength!=e.byteLengtht.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case[object ArrayBuffer]return!(t.byteLength!=e.byteLength!f(new i(t),new i(e)));case[object Boolean]case[object Date]case[object Number]return o(+t,+e);case[object Error]return t.name==e.name&&t.message==e.message;case[object RegExp]case[object String]return t==e+;case[object Map]var d=s;case[object Set]var p=1&n;if(d(d=u),t.size!=e.size&&!p)return!1;var g=l.get(t);if(g)return g==e;n=2,l.set(t,e);var v=a(d(t),d(e),n,c,f,l);return l.delete(t),v;case[object Symbol]if(h)return h.call(t)==h.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},function(t,e,r){var n=r(184),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,a,s){var u=1&r,c=n(t),h=c.length;if(h!=n(e).length&&!u)return!1;for(var f=h;f--;){var l=c[f];if(!(ul in ei.call(e,l)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=u;++fh;){var y=t[l=c[f]],m=e[l];if(o)var b=uo(m,y,l,e,t,s)o(y,m,l,t,e,s);if(!(void 0===by===ma(y,m,r,o,s)b)){g=!1;break}v(v=constructor==l)}if(g&&!v){var x=t.constructor,w=e.constructor;x==w!(constructorin t)!(constructorin e)function==typeof x&&x instanceof x&&function==typeof w&&w instanceof w(g=!1)}return s.delete(t),s.delete(e),g}},function(t,e,r){var n=r(199),i=r(41);t.exports=function(t){for(var e=i(t),r=e.length;r--;){var o=e[r],a=t[o];e[r]=[o,a,n(a)]}return e}},function(t,e,r){var n=r(195),i=r(441),o=r(202),a=r(126),s=r(199),u=r(200),c=r(66);t.exports=function(t,e){return a(t)&&s(e)u(c(t),e)function(r){var a=i(r,t);return void 0===a&&a===eo(r,t)n(e,a,3)}}},function(t,e,r){var n=r(88);t.exports=function(t,e,r){var i=null==tvoid 0n(t,e);return void 0===iri}},function(t,e,r){var n=r(443),i=[^.[]]+[((-d+(.d+))(['])(((!2)[^].))2)](=(.[])(.[]$))g,o=()g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(),t.replace(i,(function(t,r,n,i){e.push(ni.replace(o,$1)rt)})),e}));t.exports=a},function(t,e,r){var n=r(444);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},function(t,e,r){var n=r(113);function i(t,e){if(function!=typeof tnull!=e&&function!=typeof e)throw new TypeError(Expected a function);var r=function r(){var n=arguments,i=ee.apply(this,n)n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)o,a};return r.cache=new(i.Cachen),r}i.Cache=n,t.exports=i},function(t,e,r){var n=r(52),i=r(90),o=r(15),a=r(55),s=nn.prototypevoid 0,u=ss.toStringvoid 0;t.exports=function t(e){if(string==typeof e)return e;if(o(e))return i(e,t)+;if(a(e))return uu.call(e);var r=e+;return0==r&&1e==-10-0r}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,r){var n=r(204),i=r(448),o=r(126),a=r(66);t.exports=function(t){return o(t)n(a(t))i(t)}},function(t,e,r){var n=r(88);t.exports=function(t){return function(e){return n(e,t)}}},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&r.call(t,e)}},function(t,e,r){var n=r(118),i=r(54),o=r(64),a=r(15),s=r(38),u=r(53),c=r(85),h=r(65),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)string==typeof tfunction==typeof t.spliceu(t)h(t)o(t)))return!t.length;var e=i(t);if([object Map]==e[object Set]==e)return!t.size;if(c(t))return!n(t).length;for(var r in t)if(f.call(t,r))return!1;return!0}},function(t,e){t.exports=function(t,e,r,n){var i=-1,o=null==t0t.length;for(n&&o&&(r=t[++i]);++io;)r=e(r,t[i],i,t);return r}},function(t,e){t.exports=function(t,e,r,n,i){return i(t,(function(t,i,o){r=n(n=!1,t)e(r,t,i,o)})),r}},function(t,e,r){var n=r(118),i=r(54),o=r(38),a=r(454),s=r(455);t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)s(t)t.length;var e=i(t);return[object Map]==e[object Set]==et.sizen(t).length}},function(t,e,r){var n=r(45),i=r(15),o=r(34);t.exports=function(t){returnstring==typeof t!i(t)&&o(t)&&[object String]==n(t)}},function(t,e,r){var n=r(456),i=r(457),o=r(458);t.exports=function(t){return i(t)o(t)n(t)}},function(t,e,r){var n=r(204)(length);t.exports=n},function(t,e){var r=RegExp([u200dud800-udfffu0300-u036fufe20-ufe2fu20d0-u20ffufe0eufe0f]);t.exports=function(t){return r.test(t)}},function(t,e){var r=[ud800-udfff],n=[u0300-u036fufe20-ufe2fu20d0-u20ff],i=ud83c[udffb-udfff],o=[^ud800-udfff],a=(ud83c[udde6-uddff]){2},s=[ud800-udbff][udc00-udfff],u=(+n++i+)+,c=[ufe0eufe0f]+u+((u200d(+[o,a,s].join()+)[ufe0eufe0f]+u+)),h=(+[o+n+,n,a,s,r].join()+),f=RegExp(i+(=+i+)+h+c,g);t.exports=function(t){for(var e=f.lastIndex=0;f.test(t);)++e;return e}},function(t,e,r){var n=r(114),i=r(190),o=r(123),a=r(39),s=r(86),u=r(15),c=r(53),h=r(62),f=r(25),l=r(65);t.exports=function(t,e,r){var d=u(t),p=dc(t)l(t);if(e=a(e,4),null==r){var g=t&&t.constructor;r=pdnew g[]f(t)&&h(g)i(s(t)){}}return(pno)(t,(function(t,n,i){return e(r,t,n,i)})),r}},function(t,e,r){var n=r(127),i=r(91),o=r(465),a=r(213),s=i((function(t){return o(n(t,1,a,!0))}));t.exports=s},function(t,e,r){var n=r(52),i=r(64),o=r(15),a=nn.isConcatSpreadablevoid 0;t.exports=function(t){return o(t)i(t)!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0return t.call(e);case 1return t.call(e,r[0]);case 2return t.call(e,r[0],r[1]);case 3return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(122),i=r(176),o=r(47),a=ifunction(t,e){return i(t,toString,{configurable!0,enumerable!1,valuen(e),writable!0})}o;t.exports=a},function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var i=r(),o=16-(i-n);if(n=i,o0){if(++e=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(197),i=r(466),o=r(470),a=r(198),s=r(471),u=r(125);t.exports=function(t,e,r){var c=-1,h=i,f=t.length,l=!0,d=[],p=d;if(r)l=!1,h=o;else if(f=200){var g=enulls(t);if(g)return u(g);l=!1,h=a,p=new n}else p=e[]d;tfor(;++cf;){var v=t[c],y=ee(v)v;if(v=r0!==vv0,l&&y==y){for(var m=p.length;m--;)if(p[m]===y)continue t;e&&p.push(y),d.push(v)}else h(p,y,r)(p!==d&&p.push(y),d.push(v))}return d}},function(t,e,r){var n=r(467);t.exports=function(t,e){return!!(null==t0t.length)&&n(t,e,0)-1}},function(t,e,r){var n=r(212),i=r(468),o=r(469);t.exports=function(t,e,r){return e==eo(t,e,r)n(t,i,r)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,r){for(var n=r-1,i=t.length;++ni;)if(t[n]===e)return n;return-1}},function(t,e){t.exports=function(t,e,r){for(var n=-1,i=null==t0t.length;++ni;)if(r(e,t[n]))return!0;return!1}},function(t,e,r){var n=r(186),i=r(472),o=r(125),a=n&&1o(new n([,-0]))[1]==10function(t){return new n(t)}i;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,r){var n=r(90);t.exports=function(t,e){return n(e,(function(e){return t[e]}))}},function(t,e){t.exports=2.1.8},function(t,e,r){var n=r(24),i=r(111);function o(t){return n.map(t.nodes(),(function(e){var r=t.node(e),i=t.parent(e),o={ve};return n.isUndefined(r)(o.value=r),n.isUndefined(i)(o.parent=i),o}))}function a(t){return n.map(t.edges(),(function(e){var r=t.edge(e),i={ve.v,we.w};return n.isUndefined(e.name)(i.name=e.name),n.isUndefined(r)(i.value=r),i}))}t.exports={writefunction(t){var e={options{directedt.isDirected(),multigrapht.isMultigraph(),compoundt.isCompound()},nodeso(t),edgesa(t)};n.isUndefined(t.graph())(e.value=n.clone(t.graph()));return e},readfunction(t){var e=new i(t.options).setGraph(t.value);return n.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),n.each(t.edges,(function(t){e.setEdge({vt.v,wt.w,namet.name},t.value)})),e}}},function(t,e,r){t.exports={componentsr(477),dijkstrar(215),dijkstraAllr(478),findCyclesr(479),floydWarshallr(480),isAcyclicr(481),postorderr(482),preorderr(483),primr(484),tarjanr(217),topsortr(218)}},function(t,e,r){var n=r(24);t.exports=function(t){var e,r={},i=[];function o(i){n.has(r,i)(r[i]=!0,e.push(i),n.each(t.successors(i),o),n.each(t.predecessors(i),o))}return n.each(t.nodes(),(function(t){e=[],o(t),e.length&&i.push(e)})),i}},function(t,e,r){var n=r(215),i=r(24);t.exports=function(t,e,r){return i.transform(t.nodes(),(function(i,o){i[o]=n(t,o,e,r)}),{})}},function(t,e,r){var n=r(24),i=r(217);t.exports=function(t){return n.filter(i(t),(function(e){return e.length11===e.length&&t.hasEdge(e[0],e[0])}))}},function(t,e,r){var n=r(24);t.exports=function(t,e,r){return function(t,e,r){var n={},i=t.nodes();return i.forEach((function(t){n[t]={},n[t][t]={distance0},i.forEach((function(e){t!==e&&(n[t][e]={distanceNumber.POSITIVE_INFINITY})})),r(t).forEach((function(r){var i=r.v===tr.wr.v,o=e(r);n[t][i]={distanceo,predecessort}}))})),i.forEach((function(t){var e=n[t];i.forEach((function(r){var o=n[r];i.forEach((function(r){var n=o[t],i=e[r],a=o[r],s=n.distance+i.distance;sa.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),n}(t,ei,rfunction(e){return t.outEdges(e)})};var i=n.constant(1)},function(t,e,r){var n=r(218);t.exports=function(t){try{n(t)}catch(t){if(t instanceof n.CycleException)return!1;throw t}return!0}},function(t,e,r){var n=r(219);t.exports=function(t,e){return n(t,e,post)}},function(t,e,r){var n=r(219);t.exports=function(t,e){return n(t,e,pre)}},function(t,e,r){var n=r(24),i=r(111),o=r(216);t.exports=function(t,e){var r,a=new i,s={},u=new o;function c(t){var n=t.v===rt.wt.v,i=u.priority(n);if(void 0!==i){var o=e(t);oi&&(s[n]=r,u.decrease(n,o))}}if(0===t.nodeCount())return a;n.each(t.nodes(),(function(t){u.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),u.decrease(t.nodes()[0],0);var h=!1;for(;u.size()0;){if(r=u.removeMin(),n.has(s,r))a.setEdge(r,s[r]);else{if(h)throw new Error(Input graph is not connected +t);h=!0}t.nodeEdges(r).forEach(c)}return a}},function(t,e,r){use strict;var n=r(13),i=r(523),o=r(526),a=r(527),s=r(20).normalizeRanks,u=r(529),c=r(20).removeEmptyRanks,h=r(530),f=r(531),l=r(532),d=r(533),p=r(542),g=r(20),v=r(30).Graph;t.exports=function(t,e){var r=e&&e.debugTimingg.timeg.notime;r(layout,(function(){var e=r(  buildLayoutGraph,(function(){return function(t){var e=new v({multigraph!0,compound!0}),r=O(t.graph());return e.setGraph(n.merge({},m,k(r,y),n.pick(r,b))),n.forEach(t.nodes(),(function(r){var i=O(t.node(r));e.setNode(r,n.defaults(k(i,x),w)),e.setParent(r,t.parent(r))})),n.forEach(t.edges(),(function(r){var i=O(t.edge(r));e.setEdge(r,n.merge({},S,k(i,M),n.pick(i,_)))})),e}(t)}));r(  runLayout,(function(){!function(t,e){e(    makeSpaceForEdgeLabels,(function(){!function(t){var e=t.graph();e.ranksep=2,n.forEach(t.edges(),(function(r){var n=t.edge(r);n.minlen=2,c!==n.labelpos.toLowerCase()&&(TB===e.rankdirBT===e.rankdirn.width+=n.labeloffsetn.height+=n.labeloffset)}))}(t)})),e(    removeSelfEdges,(function(){!function(t){n.forEach(t.edges(),(function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges(r.selfEdges=[]),r.selfEdges.push({ee,labelt.edge(e)}),t.removeEdge(e)}}))}(t)})),e(    acyclic,(function(){i.run(t)})),e(    nestingGraph.run,(function(){h.run(t)})),e(    rank,(function(){a(g.asNonCompoundGraph(t))})),e(    injectEdgeLabelProxies,(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),i={rank(t.node(e.w).rank-n.rank)2+n.rank,ee};g.addDummyNode(t,edge-proxy,i,_ep)}}))}(t)})),e(    removeEmptyRanks,(function(){c(t)})),e(    nestingGraph.cleanup,(function(){h.cleanup(t)})),e(    normalizeRanks,(function(){s(t)})),e(    assignRankMinMax,(function(){!function(t){var e=0;n.forEach(t.nodes(),(function(r){var i=t.node(r);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=n.max(e,i.maxRank))})),t.graph().maxRank=e}(t)})),e(    removeEdgeLabelProxies,(function(){!function(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);edge-proxy===r.dummy&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))}))}(t)})),e(    normalize.run,(function(){o.run(t)})),e(    parentDummyChains,(function(){u(t)})),e(    addBorderSegments,(function(){f(t)})),e(    order,(function(){d(t)})),e(    insertSelfEdges,(function(){!function(t){var e=g.buildLayerMatrix(t);n.forEach(e,(function(e){var r=0;n.forEach(e,(function(e,i){var o=t.node(e);o.order=i+r,n.forEach(o.selfEdges,(function(e){g.addDummyNode(t,selfedge,{widthe.label.width,heighte.label.height,ranko.rank,orderi+ ++r,ee.e,labele.label},_se)})),delete o.selfEdges}))}))}(t)})),e(    adjustCoordinateSystem,(function(){l.adjust(t)})),e(    position,(function(){p(t)})),e(    positionSelfEdges,(function(){!function(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);if(selfedge===r.dummy){var n=t.node(r.e.v),i=n.x+n.width2,o=n.y,a=r.x-i,s=n.height2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{xi+2a3,yo-s},{xi+5a6,yo-s},{xi+a,yo},{xi+5a6,yo+s},{xi+2a3,yo+s}],r.label.x=r.x,r.label.y=r.y}}))}(t)})),e(    removeBorderNodes,(function(){!function(t){n.forEach(t.nodes(),(function(e){if(t.children(e).length){var r=t.node(e),i=t.node(r.borderTop),o=t.node(r.borderBottom),a=t.node(n.last(r.borderLeft)),s=t.node(n.last(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(o.y-i.y),r.x=a.x+r.width2,r.y=i.y+r.height2}})),n.forEach(t.nodes(),(function(e){border===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e(    normalize.undo,(function(){o.undo(t)})),e(    fixupEdgeLabelCoords,(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(n.has(r,x))switch(l!==r.labelpos&&r!==r.labelpos(r.width-=r.labeloffset),r.labelpos){caselr.x-=r.width2+r.labeloffset;break;caserr.x+=r.width2+r.labeloffset}}))}(t)})),e(    undoCoordinateSystem,(function(){l.undo(t)})),e(    translateGraph,(function(){!function(t){var e=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,o=0,a=t.graph(),s=a.marginx0,u=a.marginy0;function c(t){var n=t.x,a=t.y,s=t.width,u=t.height;e=Math.min(e,n-s2),r=Math.max(r,n+s2),i=Math.min(i,a-u2),o=Math.max(o,a+u2)}n.forEach(t.nodes(),(function(e){c(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.has(r,x)&&c(r)})),e-=s,i-=u,n.forEach(t.nodes(),(function(r){var n=t.node(r);n.x-=e,n.y-=i})),n.forEach(t.edges(),(function(r){var o=t.edge(r);n.forEach(o.points,(function(t){t.x-=e,t.y-=i})),n.has(o,x)&&(o.x-=e),n.has(o,y)&&(o.y-=i)})),a.width=r-e+s,a.height=o-i+u}(t)})),e(    assignNodeIntersects,(function(){!function(t){n.forEach(t.edges(),(function(e){var r,n,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points(r=i.points[0],n=i.points[i.points.length-1])(i.points=[],r=a,n=o),i.points.unshift(g.intersectRect(o,r)),i.points.push(g.intersectRect(a,n))}))}(t)})),e(    reversePoints,(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);r.reversed&&r.points.reverse()}))}(t)})),e(    acyclic.undo,(function(){i.undo(t)}))}(e,r)})),r(  updateInputGraph,(function(){!function(t,e){n.forEach(t.nodes(),(function(r){var n=t.node(r),i=e.node(r);n&&(n.x=i.x,n.y=i.y,e.children(r).length&&(n.width=i.width,n.height=i.height))})),n.forEach(t.edges(),(function(r){var i=t.edge(r),o=e.edge(r);i.points=o.points,n.has(o,x)&&(i.x=o.x,i.y=o.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=[nodesep,edgesep,ranksep,marginx,marginy],m={ranksep50,edgesep20,nodesep50,rankdirtb},b=[acyclicer,ranker,rankdir,align],x=[width,height],w={width0,height0},M=[minlen,weight,width,height,labeloffset],S={minlen1,weight1,width0,height0,labeloffset10,labelposr},_=[labelpos];function k(t,e){return n.mapValues(n.pick(t,e),Number)}function O(t){var e={};return n.forEach(t,(function(t,r){e[r.toLowerCase()]=t})),e}},function(t,e,r){var n=r(173);t.exports=function(t){return n(t,5)}},function(t,e,r){var n=r(91),i=r(51),o=r(92),a=r(46),s=Object.prototype,u=s.hasOwnProperty,c=n((function(t,e){t=Object(t);var r=-1,n=e.length,c=n2e[2]void 0;for(c&&o(e[0],e[1],c)&&(n=1);++rn;)for(var h=e[r],f=a(h),l=-1,d=f.length;++ld;){var p=f[l],g=t[p];(void 0===gi(g,s[p])&&!u.call(t,p))&&(t[p]=h[p])}return t}));t.exports=c},function(t,e,r){var n=r(489)(r(490));t.exports=n},function(t,e,r){var n=r(39),i=r(38),o=r(41);t.exports=function(t){return function(e,r,a){var s=Object(e);if(!i(e)){var u=n(r,3);e=o(e),r=function(t){return u(s[t],t,s)}}var c=t(e,r,a);return c-1s[ue[c]c]void 0}}},function(t,e,r){var n=r(212),i=r(39),o=r(491),a=Math.max;t.exports=function(t,e,r){var s=null==t0t.length;if(!s)return-1;var u=null==r0o(r);return u0&&(u=a(s+u,0)),n(t,i(e,3),u)}},function(t,e,r){var n=r(220);t.exports=function(t){var e=n(t),r=e%1;return e==ere-re0}},function(t,e,r){var n=r(25),i=r(55),o=^s+s+$g,a=^[-+]0x[0-9a-f]+$i,s=^0b[01]+$i,u=^0o[0-7]+$i,c=parseInt;t.exports=function(t){if(number==typeof t)return t;if(i(t))return NaN;if(n(t)){var e=function==typeof t.valueOft.valueOf()t;t=n(e)e+e}if(string!=typeof t)return 0===tt+t;t=t.replace(o,);var r=s.test(t);return ru.test(t)c(t.slice(2),r28)a.test(t)NaN+t}},function(t,e,r){var n=r(124),i=r(193),o=r(46);t.exports=function(t,e){return null==ttn(t,i(e),o)}},function(t,e){t.exports=function(t){var e=null==t0t.length;return et[e-1]void 0}},function(t,e,r){var n=r(82),i=r(123),o=r(39);t.exports=function(t,e){var r={};return e=o(e,3),i(t,(function(t,i,o){n(r,i,e(t,i,o))})),r}},function(t,e,r){var n=r(128),i=r(497),o=r(47);t.exports=function(t){return t&&t.lengthn(t,o,i)void 0}},function(t,e){t.exports=function(t,e){return te}},function(t,e,r){var n=r(499),i=r(503)((function(t,e,r){n(t,e,r)}));t.exports=i},function(t,e,r){var n=r(76),i=r(222),o=r(124),a=r(500),s=r(25),u=r(46),c=r(223);t.exports=function t(e,r,h,f,l){e!==r&&o(r,(function(o,u){if(l(l=new n),s(o))a(e,r,u,h,t,f,l);else{var d=ff(c(e,u),o,u+,e,r,l)void 0;void 0===d&&(d=o),i(e,u,d)}}),u)}},function(t,e,r){var n=r(222),i=r(179),o=r(188),a=r(180),s=r(189),u=r(64),c=r(15),h=r(213),f=r(53),l=r(62),d=r(25),p=r(501),g=r(65),v=r(223),y=r(502);t.exports=function(t,e,r,m,b,x,w){var M=v(t,r),S=v(e,r),_=w.get(S);if(_)n(t,r,_);else{var k=xx(M,S,r+,t,e,w)void 0,O=void 0===k;if(O){var E=c(S),j=!E&&f(S),C=!E&&!j&&g(S);k=S,EjCc(M)k=Mh(M)k=a(M)j(O=!1,k=i(S,!0))C(O=!1,k=o(S,!0))k=[]p(S)u(S)(k=M,u(M)k=y(M)d(M)&&!l(M)(k=s(S)))O=!1}O&&(w.set(S,k),b(k,S,m,x,w),w.delete(S)),n(t,r,k)}}},function(t,e,r){var n=r(45),i=r(86),o=r(34),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,h=u.call(Object);t.exports=function(t){if(!o(t)[object Object]!=n(t))return!1;var e=i(t);if(null===e)return!0;var r=c.call(e,constructor)&&e.constructor;returnfunction==typeof r&&r instanceof r&&u.call(r)==h}},function(t,e,r){var n=r(63),i=r(46);t.exports=function(t){return n(t,i(t))}},function(t,e,r){var n=r(91),i=r(92);t.exports=function(t){return n((function(e,r){var n=-1,o=r.length,a=o1r[o-1]void 0,s=o2r[2]void 0;for(a=t.length3&&function==typeof a(o--,a)void 0,s&&i(r[0],r[1],s)&&(a=o3void 0a,o=1),e=Object(e);++no;){var u=r[n];u&&t(e,u,n,a)}return e}))}},function(t,e,r){var n=r(128),i=r(224),o=r(47);t.exports=function(t){return t&&t.lengthn(t,o,i)void 0}},function(t,e,r){var n=r(128),i=r(39),o=r(224);t.exports=function(t,e){return t&&t.lengthn(t,i(e,2),o)void 0}},function(t,e,r){var n=r(31);t.exports=function(){return n.Date.now()}},function(t,e,r){var n=r(508),i=r(511)((function(t,e){return null==t{}n(t,e)}));t.exports=i},function(t,e,r){var n=r(509),i=r(202);t.exports=function(t,e){return n(t,e,(function(e,r){return i(t,r)}))}},function(t,e,r){var n=r(88),i=r(510),o=r(89);t.exports=function(t,e,r){for(var a=-1,s=e.length,u={};++as;){var c=e[a],h=n(t,c);r(h,c)&&i(u,o(c,t),h)}return u}},function(t,e,r){var n=r(81),i=r(89),o=r(83),a=r(25),s=r(66);t.exports=function(t,e,r,u){if(!a(t))return t;for(var c=-1,h=(e=i(e,t)).length,f=h-1,l=t;null!=l&&++ch;){var d=s(e[c]),p=r;if(__proto__===dconstructor===dprototype===d)return t;if(c!=f){var g=l[d];void 0===(p=uu(g,d,l)void 0)&&(p=a(g)go(e[c+1])[]{})}n(l,d,p),l=l[d]}return t}},function(t,e,r){var n=r(221),i=r(210),o=r(211);t.exports=function(t){return o(i(t,void 0,n),t+)}},function(t,e,r){var n=r(513)();t.exports=n},function(t,e,r){var n=r(514),i=r(92),o=r(220);t.exports=function(t){return function(e,r,a){return a&&number!=typeof a&&i(e,r,a)&&(r=a=void 0),e=o(e),void 0===r(r=e,e=0)r=o(r),a=void 0===aer1-1o(a),n(e,r,a,t)}}},function(t,e){var r=Math.ceil,n=Math.max;t.exports=function(t,e,i,o){for(var a=-1,s=n(r((e-t)(i1)),0),u=Array(s);s--;)u[os++a]=t,t+=i;return u}},function(t,e,r){var n=r(127),i=r(516),o=r(91),a=r(92),s=o((function(t,e){if(null==t)return[];var r=e.length;return r1&&a(t,e[0],e[1])e=[]r2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,n(e,1),[])}));t.exports=s},function(t,e,r){var n=r(90),i=r(88),o=r(39),a=r(208),s=r(517),u=r(84),c=r(518),h=r(47),f=r(15);t.exports=function(t,e,r){e=e.lengthn(e,(function(t){return f(t)function(e){return i(e,1===t.lengtht[0]t)}t}))[h];var l=-1;e=n(e,u(o));var d=a(t,(function(t,r,i){return{criterian(e,(function(e){return e(t)})),index++l,valuet}}));return s(d,(function(t,e){return c(t,e,r)}))}},function(t,e){t.exports=function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}},function(t,e,r){var n=r(519);t.exports=function(t,e,r){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,u=r.length;++is;){var c=n(o[i],a[i]);if(c)return i=ucc(desc==r[i]-11)}return t.index-e.index}},function(t,e,r){var n=r(55);t.exports=function(t,e){if(t!==e){var r=void 0!==t,i=null===t,o=t==t,a=n(t),s=void 0!==e,u=null===e,c=e==e,h=n(e);if(!u&&!h&&!a&&tea&&s&&c&&!u&&!hi&&s&&c!r&&c!o)return 1;if(!i&&!a&&!h&&teh&&r&&o&&!i&&!au&&r&&o!s&&o!c)return-1}return 0}},function(t,e,r){var n=r(201),i=0;t.exports=function(t){var e=++i;return n(t)+e}},function(t,e,r){var n=r(81),i=r(522);t.exports=function(t,e){return i(t[],e[],n)}},function(t,e){t.exports=function(t,e,r){for(var n=-1,i=t.length,o=e.length,a={};++ni;){var s=noe[n]void 0;r(a,t[n],s)}return a}},function(t,e,r){use strict;var n=r(13),i=r(524);t.exports={runfunction(t){var e=greedy===t.graph().acycliceri(t,function(t){return function(e){return t.edge(e).weight}}(t))function(t){var e=[],r={},i={};function o(a){n.has(i,a)(i[a]=!0,r[a]=!0,n.forEach(t.outEdges(a),(function(t){n.has(r,t.w)e.push(t)o(t.w)})),delete r[a])}return n.forEach(t.nodes(),o),e}(t);n.forEach(e,(function(e){var r=t.edge(e);t.removeEdge(e),r.forwardName=e.name,r.reversed=!0,t.setEdge(e.w,e.v,r,n.uniqueId(rev))}))},undofunction(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}}))}}},function(t,e,r){var n=r(13),i=r(30).Graph,o=r(525);t.exports=function(t,e){if(t.nodeCount()=1)return[];var r=function(t,e){var r=new i,a=0,s=0;n.forEach(t.nodes(),(function(t){r.setNode(t,{vt,in0,out0})})),n.forEach(t.edges(),(function(t){var n=r.edge(t.v,t.w)0,i=e(t),o=n+i;r.setEdge(t.v,t.w,o),s=Math.max(s,r.node(t.v).out+=i),a=Math.max(a,r.node(t.w).in+=i)}));var c=n.range(s+a+3).map((function(){return new o})),h=a+1;return n.forEach(r.nodes(),(function(t){u(c,h,r.node(t))})),{graphr,bucketsc,zeroIdxh}}(t,ea),c=function(t,e,r){var n,i=[],o=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;n=a.dequeue();)s(t,e,r,n);for(;n=o.dequeue();)s(t,e,r,n);if(t.nodeCount())for(var u=e.length-2;u0;--u)if(n=e[u].dequeue()){i=i.concat(s(t,e,r,n,!0));break}}return i}(r.graph,r.buckets,r.zeroIdx);return n.flatten(n.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=n.constant(1);function s(t,e,r,i,o){var a=o[]void 0;return n.forEach(t.inEdges(i.v),(function(n){var i=t.edge(n),s=t.node(n.v);o&&a.push({vn.v,wn.w}),s.out-=i,u(e,r,s)})),n.forEach(t.outEdges(i.v),(function(n){var i=t.edge(n),o=n.w,a=t.node(o);a.in-=i,u(e,r,a)})),t.removeNode(i.v),a}function u(t,e,r){r.outr.int[r.out-r.in+e].enqueue(r)t[t.length-1].enqueue(r)t[0].enqueue(r)}},function(t,e){function r(){var t={};t._next=t._prev=t,this._sentinel=t}function n(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function i(t,e){if(_next!==t&&_prev!==t)return e}t.exports=r,r.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return n(e),e},r.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&n(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},r.prototype.toString=function(){for(var t=[],e=this._sentinel,r=e._prev;r!==e;)t.push(JSON.stringify(r,i)),r=r._prev;return[+t.join(, )+]}},function(t,e,r){use strict;var n=r(13),i=r(20);t.exports={runfunction(t){t.graph().dummyChains=[],n.forEach(t.edges(),(function(e){!function(t,e){var r,n,o,a=e.v,s=t.node(a).rank,u=e.w,c=t.node(u).rank,h=e.name,f=t.edge(e),l=f.labelRank;if(c===s+1)return;for(t.removeEdge(e),o=0,++s;sc;++o,++s)f.points=[],n={width0,height0,edgeLabelf,edgeObje,ranks},r=i.addDummyNode(t,edge,n,_d),s===l&&(n.width=f.width,n.height=f.height,n.dummy=edge-label,n.labelpos=f.labelpos),t.setEdge(a,r,{weightf.weight},h),0===o&&t.graph().dummyChains.push(r),a=r;t.setEdge(a,u,{weightf.weight},h)}(t,e)}))},undofunction(t){n.forEach(t.graph().dummyChains,(function(e){var r,n=t.node(e),i=n.edgeLabel;for(t.setEdge(n.edgeObj,i);n.dummy;)r=t.successors(e)[0],t.removeNode(e),i.points.push({xn.x,yn.y}),edge-label===n.dummy&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),e=r,n=t.node(e)}))}}},function(t,e,r){use strict;var n=r(93).longestPath,i=r(225),o=r(528);t.exports=function(t){switch(t.graph().ranker){casenetwork-simplexs(t);break;casetight-tree!function(t){n(t),i(t)}(t);break;caselongest-patha(t);break;defaults(t)}};var a=n;function s(t){o(t)}},function(t,e,r){use strict;var n=r(13),i=r(225),o=r(93).slack,a=r(93).longestPath,s=r(30).alg.preorder,u=r(30).alg.postorder,c=r(20).simplify;function h(t){t=c(t),a(t);var e,r=i(t);for(d(r),f(r,t);e=g(r);)y(r,t,e,v(r,t,e))}function f(t,e){var r=u(t,t.nodes());r=r.slice(0,r.length-1),n.forEach(r,(function(r){!function(t,e,r){var n=t.node(r).parent;t.edge(r,n).cutvalue=l(t,e,r)}(t,e,r)}))}function l(t,e,r){var i=t.node(r).parent,o=!0,a=e.edge(r,i),s=0;return a(o=!1,a=e.edge(i,r)),s=a.weight,n.forEach(e.nodeEdges(r),(function(n){var a,u,c=n.v===r,h=cn.wn.v;if(h!==i){var f=c===o,l=e.edge(n).weight;if(s+=fl-l,a=r,u=h,t.hasEdge(a,u)){var d=t.edge(r,h).cutvalue;s+=f-dd}}})),s}function d(t,e){arguments.length2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,r,i,o){var a=r,s=t.node(i);return e[i]=!0,n.forEach(t.neighbors(i),(function(o){n.has(e,o)(r=p(t,e,r,o,i))})),s.low=a,s.lim=r++,os.parent=odelete s.parent,r}function g(t){return n.find(t.edges(),(function(e){return t.edge(e).cutvalue0}))}function v(t,e,r){var i=r.v,a=r.w;e.hasEdge(i,a)(i=r.w,a=r.v);var s=t.node(i),u=t.node(a),c=s,h=!1;s.limu.lim&&(c=u,h=!0);var f=n.filter(e.edges(),(function(e){return h===m(t,t.node(e.v),c)&&h!==m(t,t.node(e.w),c)}));return n.minBy(f,(function(t){return o(e,t)}))}function y(t,e,r,i){var o=r.v,a=r.w;t.removeEdge(o,a),t.setEdge(i.v,i.w,{}),d(t),f(t,e),function(t,e){var r=n.find(t.nodes(),(function(t){return!e.node(t).parent})),i=s(t,r);i=i.slice(1),n.forEach(i,(function(r){var n=t.node(r).parent,i=e.edge(r,n),o=!1;i(i=e.edge(n,r),o=!0),e.node(r).rank=e.node(n).rank+(oi.minlen-i.minlen)}))}(t,e)}function m(t,e,r){return r.low=e.lim&&e.lim=r.lim}t.exports=h,h.initLowLimValues=d,h.initCutValues=f,h.calcCutValue=l,h.leaveEdge=g,h.enterEdge=v,h.exchangeEdges=y},function(t,e,r){var n=r(13);t.exports=function(t){var e=function(t){var e={},r=0;function i(o){var a=r;n.forEach(t.children(o),i),e[o]={lowa,limr++}}return n.forEach(t.children(),i),e}(t);n.forEach(t.graph().dummyChains,(function(r){for(var n=t.node(r),i=n.edgeObj,o=function(t,e,r,n){var i,o,a=[],s=[],u=Math.min(e[r].low,e[n].low),c=Math.max(e[r].lim,e[n].lim);i=r;do{i=t.parent(i),a.push(i)}while(i&&(e[i].lowuce[i].lim));o=i,i=n;for(;(i=t.parent(i))!==o;)s.push(i);return{patha.concat(s.reverse()),lcao}}(t,e,i.v,i.w),a=o.path,s=o.lca,u=0,c=a[u],h=!0;r!==i.w;){if(n=t.node(r),h){for(;(c=a[u])!==s&&t.node(c).maxRankn.rank;)u++;c===s&&(h=!1)}if(!h){for(;ua.length-1&&t.node(c=a[u+1]).minRank=n.rank;)u++;c=a[u]}t.setParent(r,c),r=t.successors(r)[0]}}))}},function(t,e,r){var n=r(13),i=r(20);t.exports={runfunction(t){var e=i.addDummyNode(t,root,{},_root),r=function(t){var e={};return n.forEach(t.children(),(function(r){!function r(i,o){var a=t.children(i);a&&a.length&&n.forEach(a,(function(t){r(t,o+1)}));e[i]=o}(r,1)})),e}(t),o=n.max(n.values(r))-1,a=2o+1;t.graph().nestingRoot=e,n.forEach(t.edges(),(function(e){t.edge(e).minlen=a}));var s=function(t){return n.reduce(t.edges(),(function(e,r){return e+t.edge(r).weight}),0)}(t)+1;n.forEach(t.children(),(function(u){!function t(e,r,o,a,s,u,c){var h=e.children(c);if(!h.length)return void(c!==r&&e.setEdge(r,c,{weight0,minleno}));var f=i.addBorderNode(e,_bt),l=i.addBorderNode(e,_bb),d=e.node(c);e.setParent(f,c),d.borderTop=f,e.setParent(l,c),d.borderBottom=l,n.forEach(h,(function(n){t(e,r,o,a,s,u,n);var i=e.node(n),h=i.borderTopi.borderTopn,d=i.borderBottomi.borderBottomn,p=i.borderTopa2a,g=h!==d1s-u[c]+1;e.setEdge(f,h,{weightp,minleng,nestingEdge!0}),e.setEdge(d,l,{weightp,minleng,nestingEdge!0})})),e.parent(c)e.setEdge(r,f,{weight0,minlens+u[c]})}(t,e,a,s,o,r,u)})),t.graph().nodeRankFactor=a},cleanupfunction(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,n.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},function(t,e,r){var n=r(13),i=r(20);function o(t,e,r,n,o,a){var s={width0,height0,ranka,borderTypee},u=o[e][a-1],c=i.addDummyNode(t,border,s,r);o[e][a]=c,t.setParent(c,n),u&&t.setEdge(u,c,{weight1})}t.exports=function(t){n.forEach(t.children(),(function e(r){var i=t.children(r),a=t.node(r);if(i.length&&n.forEach(i,e),n.has(a,minRank)){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;su;++s)o(t,borderLeft,_bl,r,a,s),o(t,borderRight,_br,r,a,s)}}))}},function(t,e,r){use strict;var n=r(13);function i(t){n.forEach(t.nodes(),(function(e){o(t.node(e))})),n.forEach(t.edges(),(function(e){o(t.edge(e))}))}function o(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjustfunction(t){var e=t.graph().rankdir.toLowerCase();lr!==e&&rl!==ei(t)},undofunction(t){var e=t.graph().rankdir.toLowerCase();bt!==e&&rl!==efunction(t){n.forEach(t.nodes(),(function(e){a(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,a),n.has(r,y)&&a(r)}))}(t);lr!==e&&rl!==e(!function(t){n.forEach(t.nodes(),(function(e){s(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,s),n.has(r,x)&&s(r)}))}(t),i(t))}}},function(t,e,r){use strict;var n=r(13),i=r(534),o=r(535),a=r(536),s=r(540),u=r(541),c=r(30).Graph,h=r(20);function f(t,e,r){return n.map(e,(function(e){return s(t,e,r)}))}function l(t,e){var r=new c;n.forEach(t,(function(t){var i=t.graph().root,o=a(t,i,r,e);n.forEach(o.vs,(function(e,r){t.node(e).order=r})),u(t,r,o.vs)}))}function d(t,e){n.forEach(e,(function(e){n.forEach(e,(function(e,r){t.node(e).order=r}))}))}t.exports=function(t){var e=h.maxRank(t),r=f(t,n.range(1,e+1),inEdges),a=f(t,n.range(e-1,-1,-1),outEdges),s=i(t);d(t,s);for(var u,c=Number.POSITIVE_INFINITY,p=0,g=0;g4;++p,++g){l(p%2ra,p%4=2),s=h.buildLayerMatrix(t);var v=o(t,s);vc&&(g=0,u=n.cloneDeep(s),c=v)}d(t,u)}},function(t,e,r){use strict;var n=r(13);t.exports=function(t){var e={},r=n.filter(t.nodes(),(function(e){return!t.children(e).length})),i=n.max(n.map(r,(function(e){return t.node(e).rank}))),o=n.map(n.range(i+1),(function(){return[]}));var a=n.sortBy(r,(function(e){return t.node(e).rank}));return n.forEach(a,(function r(i){if(n.has(e,i))return;e[i]=!0;var a=t.node(i);o[a.rank].push(i),n.forEach(t.successors(i),r)})),o}},function(t,e,r){use strict;var n=r(13);function i(t,e,r){for(var i=n.zipObject(r,n.map(r,(function(t,e){return e}))),o=n.flatten(n.map(e,(function(e){return n.sortBy(n.map(t.outEdges(e),(function(e){return{posi[e.w],weightt.edge(e).weight}})),pos)})),!0),a=1;ar.length;)a=1;var s=2a-1;a-=1;var u=n.map(new Array(s),(function(){return 0})),c=0;return n.forEach(o.forEach((function(t){var e=t.pos+a;u[e]+=t.weight;for(var r=0;e0;)e%2&&(r+=u[e+1]),u[e=e-11]+=t.weight;c+=t.weightr}))),c}t.exports=function(t,e){for(var r=0,n=1;ne.length;++n)r+=i(t,e[n-1],e[n]);return r}},function(t,e,r){var n=r(13),i=r(537),o=r(538),a=r(539);t.exports=function t(e,r,s,u){var c=e.children(r),h=e.node(r),f=hh.borderLeftvoid 0,l=hh.borderRightvoid 0,d={};f&&(c=n.filter(c,(function(t){return t!==f&&t!==l})));var p=i(e,c);n.forEach(p,(function(r){if(e.children(r.v).length){var i=t(e,r.v,s,u);d[r.v]=i,n.has(i,barycenter)&&(o=r,a=i,n.isUndefined(o.barycenter)(o.barycenter=a.barycenter,o.weight=a.weight)(o.barycenter=(o.barycentero.weight+a.barycentera.weight)(o.weight+a.weight),o.weight+=a.weight))}var o,a}));var g=o(p,s);!function(t,e){n.forEach(t,(function(t){t.vs=n.flatten(t.vs.map((function(t){return e[t]e[t].vst})),!0)}))}(g,d);var v=a(g,u);if(f&&(v.vs=n.flatten([f,v.vs,l],!0),e.predecessors(f).length)){var y=e.node(e.predecessors(f)[0]),m=e.node(e.predecessors(l)[0]);n.has(v,barycenter)(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenterv.weight+y.order+m.order)(v.weight+2),v.weight+=2}return v}},function(t,e,r){var n=r(13);t.exports=function(t,e){return n.map(e,(function(e){var r=t.inEdges(e);if(r.length){var i=n.reduce(r,(function(e,r){var n=t.edge(r),i=t.node(r.v);return{sume.sum+n.weighti.order,weighte.weight+n.weight}}),{sum0,weight0});return{ve,barycenteri.sumi.weight,weighti.weight}}return{ve}}))}},function(t,e,r){use strict;var n=r(13);t.exports=function(t,e){var r={};return n.forEach(t,(function(t,e){var i=r[t.v]={indegree0,in[],out[],vs[t.v],ie};n.isUndefined(t.barycenter)(i.barycenter=t.barycenter,i.weight=t.weight)})),n.forEach(e.edges(),(function(t){var e=r[t.v],i=r[t.w];n.isUndefined(e)n.isUndefined(i)(i.indegree++,e.out.push(r[t.w]))})),function(t){var e=[];function r(t){return function(e){e.merged(n.isUndefined(e.barycenter)n.isUndefined(t.barycenter)e.barycenter=t.barycenter)&&function(t,e){var r=0,n=0;t.weight&&(r+=t.barycentert.weight,n+=t.weight);e.weight&&(r+=e.barycentere.weight,n+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=rn,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function i(e){return function(r){r.in.push(e),0==--r.indegree&&t.push(r)}}for(;t.length;){var o=t.pop();e.push(o),n.forEach(o.in.reverse(),r(o)),n.forEach(o.out,i(o))}return n.map(n.filter(e,(function(t){return!t.merged})),(function(t){return n.pick(t,[vs,i,barycenter,weight])}))}(n.filter(r,(function(t){return!t.indegree})))}},function(t,e,r){var n=r(13),i=r(20);function o(t,e,r){for(var i;e.length&&(i=n.last(e)).i=r;)e.pop(),t.push(i.vs),r++;return r}t.exports=function(t,e){var r=i.partition(t,(function(t){return n.has(t,barycenter)})),a=r.lhs,s=n.sortBy(r.rhs,(function(t){return-t.i})),u=[],c=0,h=0,f=0;a.sort((l=!!e,function(t,e){return t.barycentere.barycenter-1t.barycentere.barycenter1le.i-t.it.i-e.i})),f=o(u,s,f),n.forEach(a,(function(t){f+=t.vs.length,u.push(t.vs),c+=t.barycentert.weight,h+=t.weight,f=o(u,s,f)}));var l;var d={vsn.flatten(u,!0)};h&&(d.barycenter=ch,d.weight=h);return d}},function(t,e,r){var n=r(13),i=r(30).Graph;t.exports=function(t,e,r){var o=function(t){var e;for(;t.hasNode(e=n.uniqueId(_root)););return e}(t),a=new i({compound!0}).setGraph({rooto}).setDefaultNodeLabel((function(e){return t.node(e)}));return n.forEach(t.nodes(),(function(i){var s=t.node(i),u=t.parent(i);(s.rank===es.minRank=e&&e=s.maxRank)&&(a.setNode(i),a.setParent(i,uo),n.forEach(t[r](i),(function(e){var r=e.v===ie.we.v,o=a.edge(r,i),s=n.isUndefined(o)0o.weight;a.setEdge(r,i,{weightt.edge(e).weight+s})})),n.has(s,minRank)&&a.setNode(i,{borderLefts.borderLeft[e],borderRights.borderRight[e]}))})),a}},function(t,e,r){var n=r(13);t.exports=function(t,e,r){var i,o={};n.forEach(r,(function(r){for(var n,a,s=t.parent(r);s;){if((n=t.parent(s))(a=o[n],o[n]=s)(a=i,i=s),a&&a!==s)return void e.setEdge(a,s);s=n}}))}},function(t,e,r){use strict;var n=r(13),i=r(20),o=r(543).positionX;t.exports=function(t){(function(t){var e=i.buildLayerMatrix(t),r=t.graph().ranksep,o=0;n.forEach(e,(function(e){var i=n.max(n.map(e,(function(e){return t.node(e).height})));n.forEach(e,(function(e){t.node(e).y=o+i2})),o+=i+r}))})(t=i.asNonCompoundGraph(t)),n.forEach(o(t),(function(e,r){t.node(r).x=e}))}},function(t,e,r){use strict;var n=r(13),i=r(30).Graph,o=r(20);function a(t,e){var r={};return n.reduce(e,(function(e,i){var o=0,a=0,s=e.length,c=n.last(i);return n.forEach(i,(function(e,h){var f=function(t,e){if(t.node(e).dummy)return n.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),l=ft.node(f).orders;(fe===c)&&(n.forEach(i.slice(a,h+1),(function(e){n.forEach(t.predecessors(e),(function(n){var i=t.node(n),a=i.order;!(aola)i.dummy&&t.node(e).dummyu(r,n,e)}))})),a=h+1,o=l)})),i})),r}function s(t,e){var r={};function i(e,i,o,a,s){var c;n.forEach(n.range(i,o),(function(i){c=e[i],t.node(c).dummy&&n.forEach(t.predecessors(c),(function(e){var n=t.node(e);n.dummy&&(n.orderan.orders)&&u(r,e,c)}))}))}return n.reduce(e,(function(e,r){var o,a=-1,s=0;return n.forEach(r,(function(n,u){if(border===t.node(n).dummy){var c=t.predecessors(n);c.length&&(o=t.node(c[0]).order,i(r,s,u,a,o),s=u,a=o)}i(r,s,r.length,o,e.length)})),r})),r}function u(t,e,r){if(er){var n=e;e=r,r=n}var i=t[e];i(t[e]=i={}),i[r]=!0}function c(t,e,r){if(er){var i=e;e=r,r=i}return n.has(t[e],r)}function h(t,e,r,i){var o={},a={},s={};return n.forEach(e,(function(t){n.forEach(t,(function(t,e){o[t]=t,a[t]=t,s[t]=e}))})),n.forEach(e,(function(t){var e=-1;n.forEach(t,(function(t){var u=i(t);if(u.length)for(var h=((u=n.sortBy(u,(function(t){return s[t]}))).length-1)2,f=Math.floor(h),l=Math.ceil(h);f=l;++f){var d=u[f];a[t]===t&&es[d]&&!c(r,t,d)&&(a[d]=t,a[t]=o[t]=o[d],e=s[d])}}))})),{rooto,aligna}}function f(t,e,r,o,a){var s={},u=function(t,e,r,o){var a=new i,s=t.graph(),u=function(t,e,r){return function(i,o,a){var s,u=i.node(o),c=i.node(a),h=0;if(h+=u.width2,n.has(u,labelpos))switch(u.labelpos.toLowerCase()){casels=-u.width2;break;casers=u.width2}if(s&&(h+=rs-s),s=0,h+=(u.dummyet)2,h+=(c.dummyet)2,h+=c.width2,n.has(c,labelpos))switch(c.labelpos.toLowerCase()){casels=c.width2;break;casers=-c.width2}return s&&(h+=rs-s),s=0,h}}(s.nodesep,s.edgesep,o);return n.forEach(e,(function(e){var i;n.forEach(e,(function(e){var n=r[e];if(a.setNode(n),i){var o=r[i],s=a.edge(o,n);a.setEdge(o,n,Math.max(u(t,e,i),s0))}i=e}))})),a}(t,e,r,a),c=aborderLeftborderRight;function h(t,e){for(var r=u.nodes(),n=r.pop(),i={};n;)i[n]t(n)(i[n]=!0,r.push(n),r=r.concat(e(n))),n=r.pop()}return h((function(t){s[t]=u.inEdges(t).reduce((function(t,e){return Math.max(t,s[e.v]+u.edge(e))}),0)}),u.predecessors.bind(u)),h((function(e){var r=u.outEdges(e).reduce((function(t,e){return Math.min(t,s[e.w]-u.edge(e))}),Number.POSITIVE_INFINITY),n=t.node(e);r!==Number.POSITIVE_INFINITY&&n.borderType!==c&&(s[e]=Math.max(s[e],r))}),u.successors.bind(u)),n.forEach(o,(function(t){s[t]=s[r[t]]})),s}function l(t,e){return n.minBy(n.values(e),(function(e){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return n.forIn(e,(function(e,n){var o=function(t,e){return t.node(e).width}(t,n)2;r=Math.max(e+o,r),i=Math.min(e-o,i)})),r-i}))}function d(t,e){var r=n.values(e),i=n.min(r),o=n.max(r);n.forEach([u,d],(function(r){n.forEach([l,r],(function(a){var s,u=r+a,c=t[u];if(c!==e){var h=n.values(c);(s=l===ai-n.min(h)o-n.max(h))&&(t[u]=n.mapValues(c,(function(t){return t+s})))}}))}))}function p(t,e){return n.mapValues(t.ul,(function(r,i){if(e)return t[e.toLowerCase()][i];var o=n.sortBy(n.map(t,i));return(o[1]+o[2])2}))}t.exports={positionXfunction(t){var e,r=o.buildLayerMatrix(t),i=n.merge(a(t,r),s(t,r)),u={};n.forEach([u,d],(function(o){e=u===orn.values(r).reverse(),n.forEach([l,r],(function(r){r===r&&(e=n.map(e,(function(t){return n.values(t).reverse()})));var a=(u===ot.predecessorst.successors).bind(t),s=h(t,e,i,a),c=f(t,e,s.root,s.align,r===r);r===r&&(c=n.mapValues(c,(function(t){return-t}))),u[o+r]=c}))}));var c=l(t,u);return d(u,c),p(u,t.graph().align)},findType1Conflictsa,findType2Conflictss,addConflictu,hasConflictc,verticalAlignmenth,horizontalCompactionf,alignCoordinatesd,findSmallestWidthAlignmentl,balancep}},function(t,e,r){var n=r(13),i=r(20),o=r(30).Graph;t.exports={debugOrderingfunction(t){var e=i.buildLayerMatrix(t),r=new o({compound!0,multigraph!0}).setGraph({});return n.forEach(t.nodes(),(function(e){r.setNode(e,{labele}),r.setParent(e,layer+t.node(e).rank)})),n.forEach(t.edges(),(function(t){r.setEdge(t.v,t.w,{},t.name)})),n.forEach(e,(function(t,e){var i=layer+e;r.setNode(i,{ranksame}),n.reduce(t,(function(t,e){return r.setEdge(t,e,{styleinvis}),e}))})),r}}},function(t,e){t.exports=0.8.5},function(t,e,r){var n=r(94),i=r(547),o=r(129),a=r(48),s=function(t){var e,r;function n(){return t.apply(this,arguments)this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.execute=function(){return o(this.rootNode,this.options,i)},n}(n),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},function(t,e){function r(t,e,r,n){void 0===n&&(n=[]);var i=this;i.w=t0,i.h=e0,i.y=r0,i.x=0,i.c=n[],i.cs=n.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function n(t,e){var r=function t(e,r){var n=re.ye.x;return e.children.forEach((function(e){n=Math.min(t(e,r),n)})),n}(t,e);!function t(e,r,n){ne.y+=re.x+=r,e.children.forEach((function(e){t(e,r,n)}))}(t,-r,e)}r.fromNode=function(t,e){if(!t)return null;var n=[];return t.children.forEach((function(t){n.push(r.fromNode(t,e))})),enew r(t.height,t.width,t.x,n)new r(t.width,t.height,t.y,n)},t.exports=function(t,e){void 0===e&&(e={});var i=e.isHorizontal;function o(t){0===t.cs(t.el=t,t.er=t,t.msel=t.mser=0)(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function a(t,e,r){for(var n=t.c[e-1],i=n.mod,o=t.c[e],a=o.mod;null!==n&&null!==o;){h(n)r.low&&(r=r.nxt);var f=i+n.prelim+n.w-(a+o.prelim);f0&&(a+=f,s(t,e,r.index,f));var l=h(n),d=h(o);l=d&&null!==(n=c(n))&&(i+=n.mod),l=d&&null!==(o=u(o))&&(a+=o.mod)}!n&&ofunction(t,e,r,n){var i=t.c[0].el;i.tl=r;var o=n-r.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,a)n&&!o&&function(t,e,r,n){var i=t.c[e].er;i.tr=r;var o=n-r.mod-t.c[e].mser;i.mod+=o,i.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,n,i)}function s(t,e,r,n){t.c[e].mod+=n,t.c[e].msel+=n,t.c[e].mser+=n,function(t,e,r,n){if(r!==e-1){var i=e-r;t.c[r+1].shift+=ni,t.c[e].shift-=ni,t.c[e].change-=n-ni}}(t,e,r,n)}function u(t){return 0===t.cst.tlt.c[0]}function c(t){return 0===t.cst.trt.c[t.cs-1]}function h(t){return t.y+t.h}function f(t,e,r){for(;null!==r&&t=r.low;)r=r.nxt;return{lowt,indexe,nxtr}}!function t(e,r,n){void 0===n&&(n=0),r(e.x=n,n+=e.width)(e.y=n,n+=e.height),e.children.forEach((function(e){t(e,r,n)}))}(t,i);var l=r.fromNode(t,i);return function t(e){if(0!==e.cs){t(e.c[0]);for(var r=f(h(e.c[0].el),0,null),n=1;ne.cs;++n){t(e.c[n]);var i=h(e.c[n].er);a(e,n,r),r=f(i,n,r)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)2-t.w2}(e),o(e)}else o(e)}(l),function t(e,r){r+=e.mod,e.x=e.prelim+r,function(t){for(var e=0,r=0,n=0;nt.cs;n++)e+=t.c[n].shift,r+=e+t.c[n].change,t.c[n].mod+=r}(e);for(var n=0;ne.cs;n++)t(e.c[n],r)}(l,0),function t(e,r,n){nr.y=e.xr.x=e.x,e.c.forEach((function(e,i){t(e,r.children[i],n)}))}(l,t,i),n(t,i),t}},function(t,e,r){var n=r(94),i=r(549),o=r(129),a=r(48),s=function(t){var e,r;function n(){return t.apply(this,arguments)this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.execute=function(){return this.rootNode.width=0,o(this.rootNode,this.options,i)},n}(n),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},function(t,e,r){var n=r(48);function i(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);var r=this;r.x=r.y=0,r.leftChild=r.rightChild=null,r.height=0,r.children=e}var o={isHorizontal!0,nodeSep20,nodeSize20,rankSep200,subTreeSep10};t.exports=function(t,e){void 0===e&&(e={}),e=n.assign({},o,e);var r,a=0;var s=function t(e){if(!e)return null;e.width=0,e.depth&&e.deptha&&(a=e.depth);var r=e.children,n=r.length,o=new i(e.height,[]);return r.forEach((function(e,r){var i=t(e);o.children.push(i),0===r&&(o.leftChild=i),r===n-1&&(o.rightChild=i)})),o.originNode=e,o.isLeaf=e.isLeaf(),o}(t);return function t(e){if(e.isLeaf0===e.children.length)e.drawingDepth=a;else{var r=e.children.map((function(e){return t(e)})),n=Math.min.apply(null,r);e.drawingDepth=n-1}return e.drawingDepth}(s),function t(n){n.x=n.drawingDepthe.rankSep,n.isLeaf(n.y=0,r&&(n.y=r.y+r.height+e.nodeSep,n.originNode.parent!==r.originNode.parent&&(n.y+=e.subTreeSep)),r=n)(n.children.forEach((function(e){t(e)})),n.y=(n.leftChild.y+n.rightChild.y)2)}(s),function t(e,r,n){n(r.x=e.x,r.y=e.y)(r.x=e.y,r.y=e.x),e.children.forEach((function(e,i){t(e,r.children[i],n)}))}(s,t,e.isHorizontal),t}},function(t,e,r){var n=r(94),i=r(551),o=r(227),a=r(48),s=[LR,RL,H],u=s[0],c=function(t){var e,r;function n(){return t.apply(this,arguments)this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var r=t.indent,n=void 0===r20r,a=t.dropCap,c=void 0===aa,h=t.directionu;if(h&&-1===s.indexOf(h))throw new TypeError(Invalid direction +h);if(h===s[0])i(e,n,c);else if(h===s[1])i(e,n,c),e.right2left();else if(h===s[2]){var f=o(e,t),l=f.left,d=f.right;i(l,n,c),l.right2left(),i(d,n,c);var p=l.getBoundingBox();d.translate(p.width,0),e.x=d.x-e.width2}return e},n}(n),h={};t.exports=function(t,e){return e=a.assign({},h,e),new c(t,e).execute()}},function(t,e){t.exports=function(t,e,r){var n=null;t.eachNode((function(t){!function(t,e,r,n){if(!n)try{if(t.id===t.parent.children[0].id)return t.x+=rt.depth,void(t.y=ee.y0)}catch(t){}t.x+=rt.depth,t.y=ee.y+e.height0}(t,n,e,r),n=t}))}},function(t,e,r){var n=r(94),i=r(553),o=r(129),a=r(48),s=function(t){var e,r;function n(){return t.apply(this,arguments)this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.execute=function(){return o(this.rootNode,this.options,i)},n}(n),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},function(t,e,r){var n=r(48);var i={getSubTreeSepfunction(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=n.assign({},i,e),t.parent={x0,width0,height0,y0},t.BFTraverse((function(t){t.x=t.parent.x+t.parent.width})),t.parent=null,function t(e,r){var n=0;return e.children.lengthe.children.forEach((function(e){n+=t(e,r)}))n=e.height,e._subTreeSep=r.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,n)+2e._subTreeSep,e.totalHeight}(t,e),t.startY=0,t.y=t.totalHeight2-t.height2,t.eachNode((function(t){var e=t.children,r=e.length;if(r){var n=e[0];if(n.startY=t.startY+t._subTreeSep,1===r)n.y=t.y+t.height2-n.height2;else{n.y=n.startY+n.totalHeight2-n.height2;for(var i=1;ir;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight2-o.height2}}}})),function t(e){var r=e.children,n=r.length;if(n){r.forEach((function(e){t(e)}));var i=r[0],o=r[n-1],a=o.y-i.y+o.height,s=0;if(r.forEach((function(t){s+=t.totalHeight})),ae.height)e.y=i.y+a2-e.height2;else if(1!==r.lengthe.heights){var u=e.y+(e.height-a)2-i.y;r.forEach((function(t){t.translate(0,u)}))}else e.y=(i.y+i.height2+o.y+o.height2)2-e.height2}}(t)}},function(t,e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}t.exports=function(t){return t&&object===r(t)&&function==typeof t.copy&&function==typeof t.fill&&function==typeof t.readUInt8}},function(t,e){function==typeof Object.createt.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor{valuet,enumerable!1,writable!0,configurable!0}})}t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){use strict;r.r(e),r.d(e,registerNode,(function(){return cc})),r.d(e,registerCombo,(function(){return fc})),r.d(e,Graph,(function(){return qo})),r.d(e,TreeGraph,(function(){return Ho})),r.d(e,Util,(function(){return Ca})),r.d(e,registerEdge,(function(){return hc})),r.d(e,Layout,(function(){return fo})),r.d(e,Global,(function(){return Q})),r.d(e,registerLayout,(function(){return dc})),r.d(e,Minimap,(function(){return pc})),r.d(e,Grid,(function(){return gc})),r.d(e,Bundling,(function(){return vc})),r.d(e,Menu,(function(){return yc})),r.d(e,Fisheye,(function(){return mc})),r.d(e,registerBehavior,(function(){return lc})),r.d(e,Algorithm,(function(){return c})),r.d(e,ToolBar,(function(){return bc})),r.d(e,Tooltip,(function(){return xc})),r.d(e,TimeBar,(function(){return wc})),r.d(e,ImageMinimap,(function(){return Mc})),r.d(e,EdgeFilterLens,(function(){return Sc}));var n={};r.r(n),r.d(n,formatPadding,(function(){return j})),r.d(n,cloneEvent,(function(){return C})),r.d(n,isViewportChanged,(function(){return A})),r.d(n,isNaN,(function(){return P})),r.d(n,calculationItemsBBox,(function(){return I})),r.d(n,processParallelEdges,(function(){return T}));var i={};r.r(i),r.d(i,mixColor,(function(){return Z})),r.d(i,getColorsWithSubjectColor,(function(){return $}));var o={};r.r(o),r.d(o,getLineIntersect,(function(){return Bt})),r.d(o,getRectIntersectByPoint,(function(){return Rt})),r.d(o,getCircleIntersectByPoint,(function(){return Lt})),r.d(o,getEllipseIntersectByPoint,(function(){return zt})),r.d(o,applyMatrix,(function(){return Ft})),r.d(o,invertMatrix,(function(){return Yt})),r.d(o,getCircleCenterByPoints,(function(){return Gt})),r.d(o,distance,(function(){return qt})),r.d(o,scaleMatrix,(function(){return Xt})),r.d(o,floydWarshall,(function(){return Vt})),r.d(o,getAdjMatrix,(function(){return Ht})),r.d(o,translate,(function(){return Ut})),r.d(o,move,(function(){return Wt})),r.d(o,scale,(function(){return Zt})),r.d(o,rotate,(function(){return $t})),r.d(o,getDegree,(function(){return Kt})),r.d(o,isPointInPolygon,(function(){return Jt})),r.d(o,intersectBBox,(function(){return te})),r.d(o,isPolygonsIntersect,(function(){return ee})),r.d(o,Line,(function(){return re})),r.d(o,getBBoxBoundLine,(function(){return ne})),r.d(o,itemIntersectByLine,(function(){return oe})),r.d(o,fractionToLine,(function(){return ae})),r.d(o,getPointsCenter,(function(){return se})),r.d(o,squareDist,(function(){return ue})),r.d(o,pointLineSquareDist,(function(){return ce})),r.d(o,isPointsOverlap,(function(){return he})),r.d(o,pointRectSquareDist,(function(){return fe}));var a={};r.r(a),r.d(a,getSpline,(function(){return me})),r.d(a,getControlPoint,(function(){return be})),r.d(a,pointsToPolygon,(function(){return xe})),r.d(a,pathToPoints,(function(){return we})),r.d(a,getClosedSpline,(function(){return Me})),r.d(a,roundedHull,(function(){return Oe})),r.d(a,paddedHull,(function(){return Ee}));var s={};r.r(s),r.d(s,getBBox,(function(){return cr})),r.d(s,getLoopCfgs,(function(){return hr})),r.d(s,getLabelPosition,(function(){return fr})),r.d(s,traverseTree,(function(){return pr})),r.d(s,traverseTreeUp,(function(){return gr})),r.d(s,radialLayout,(function(){return vr})),r.d(s,getLetterWidth,(function(){return yr})),r.d(s,getTextSize,(function(){return mr})),r.d(s,plainCombosToTrees,(function(){return br})),r.d(s,reconstructTree,(function(){return xr})),r.d(s,getComboBBox,(function(){return wr})),r.d(s,getChartRegion,(function(){return Mr}));var u={};r.r(u),r.d(u,default,(function(){return xs})),r.d(u,assign,(function(){return ts})),r.d(u,format,(function(){return ms})),r.d(u,parse,(function(){return bs})),r.d(u,defaultI18n,(function(){return is})),r.d(u,setGlobalDateI18n,(function(){return as})),r.d(u,setGlobalDateMasks,(function(){return ys}));var c={};r.r(c),r.d(c,depthFirstSearch,(function(){return Xu})),r.d(c,breadthFirstSearch,(function(){return Hu})),r.d(c,detectDirectedCycle,(function(){return Qu})),r.d(c,degree,(function(){return Oo})),r.d(c,adjMatrix,(function(){return Po})),r.d(c,floydWarshall,(function(){return Io})),r.d(c,getConnectedComponents,(function(){return Wu})),r.d(c,detectAllCycles,(function(){return Ku})),r.d(c,detectAllDirectedCycle,(function(){return $u})),r.d(c,detectAllUndirectedCycle,(function(){return Zu})),r.d(c,findShortestPath,(function(){return tc})),r.d(c,findAllPath,(function(){return ec})),r.d(c,minimumSpanningTree,(function(){return sc})),r.d(c,getPageRank,(function(){return uc}));var h,f=r(229),l=r(2),d=r.n(l),p=r(7),g={getDefaultCfgfunction(){return{}},getEventsfunction(){return{}},shouldBeginfunction(){return!0},shouldUpdatefunction(){return!0},shouldEndfunction(){return!0},bindfunction(t){var e=this,r=this.events;this.graph=t,drag-canvas!==this.type&&brush-select!==this.type&&lasso-select!==this.typet.get(canvas).set(draggable,!0),d()(r,(function(e,r){t.on(r,e)})),document.addEventListener(visibilitychange,(function(){e.keydown=!1}))},unbindfunction(t){var e=this.events;drag-canvas!==this.type&&brush-select!==this.type&&lasso-select!==this.typet.get(canvas).set(draggable,!1),d()(e,(function(e,r){t.off(r,e)}))},getfunction(t){return this[t]},setfunction(t,e){return this[t]=e,this}},v=function(){function t(){}return t.registerBehavior=function(e,r){if(!r)throw new Error(please specify handler for this behavior +e);var n=Object(p.clone)(g);Object.assign(n,r);var i=function(t){var e=this;Object.assign(this,this.getDefaultCfg(),t);var r=this.getEvents();this.events=null;var n={};r&&(Object(p.each)(r,(function(t,r){n[r]=Object(p.wrapBehavior)(e,t)})),this.events=n)};i.prototype=n,t.types[e]=i},t.hasBehavior=function(e){return!!t.types[e]},t.getBehavior=function(e){return t.types[e]},t.types={},t}();!function(t){t.CLICK=click,t.DBLCLICK=dblclick,t.MOUSEDOWN=mousedown,t.MOUDEUP=mouseup,t.CONTEXTMENU=contextmenu,t.MOUSEENTER=mouseenter,t.MOUSEOUT=mouseout,t.MOUSEOVER=mouseover,t.MOUSEMOVE=mousemove,t.MOUSELEAVE=mouseleave,t.DRAGSTART=dragstart,t.DRAGEND=dragend,t.DRAG=drag,t.DRAGENTER=dragenter,t.DRAGLEAVE=dragleave,t.DRAGOVER=dragover,t.DRAGOUT=dragout,t.DDROP=drop,t.KEYUP=keyup,t.KEYDOWN=keydown,t.WHEEL=wheel,t.FOCUS=focus,t.BLUR=blur,t.TOUCHSTART=touchstart,t.TOUCHMOVE=touchmove,t.TOUCHEND=touchend,t.NODE_CONTEXTMENU=nodecontextmenu,t.NODE_CLICK=nodeclick,t.NODE_DBLCLICK=nodedblclick,t.NODE_MOUSEDOWN=nodemousedown,t.NODE_MOUSEUP=nodemouseup,t.NODE_MOUSEENTER=nodemouseenter,t.NODE_MOUSELEAVE=nodemouseleave,t.NODE_MOUSEMOVE=nodemousemove,t.NODE_MOUSEOUT=nodemouseout,t.NODE_MOUSEOVER=nodemouseover,t.NODE_DROP=nodedrop,t.NODE_DRAGOVER=nodedragover,t.NODE_DRAGENTER=nodedragenter,t.NODE_DRAGLEAVE=nodedragleave,t.NODE_DRAGSTART=nodedragstart,t.NODE_DRAG=nodedrag,t.NODE_DRAGEND=nodedragend,t.COMBO_CONTEXTMENU=combocontextmenu,t.COMBO_CLICK=comboclick,t.COMBO_DBLCLICK=combodblclick,t.COMBO_MOUSEDOWN=combomousedown,t.COMBO_MOUSEUP=combomouseup,t.COMBO_MOUSEENTER=combomouseenter,t.COMBO_MOUSELEAVE=combomouseleave,t.COMBO_MOUSEMOVE=combomousemove,t.COMBO_MOUSEOUT=combomouseout,t.COMBO_MOUSEOVER=combomouseover,t.COMBO_DROP=combodrop,t.COMBO_DRAGOVER=combodragover,t.COMBO_DRAGENTER=combodragenter,t.COMBO_DRAGLEAVE=combodragleave,t.COMBO_DRAGSTART=combodragstart,t.COMBO_DRAG=combodrag,t.COMBO_DRAGEND=combodragend,t.EDGE_CONTEXTMENU=edgecontextmenu,t.EDGE_CLICK=edgeclick,t.EDGE_DBLCLICK=edgedblclick,t.EDGE_MOUSEDOWN=edgemousedown,t.EDGE_MOUSEUP=edgemouseup,t.EDGE_MOUSEENTER=edgemouseenter,t.EDGE_MOUSELEAVE=edgemouseleave,t.EDGE_MOUSEMOVE=edgemousemove,t.EDGE_MOUSEOUT=edgemouseout,t.EDGE_MOUSEOVER=edgemouseover,t.EDGE_DROP=edgedrop,t.EDGE_DRAGOVER=edgedragover,t.EDGE_DRAGENTER=edgedragenter,t.EDGE_DRAGLEAVE=edgedragleave,t.CANVAS_CONTEXTMENU=canvascontextmenu,t.CANVAS_CLICK=canvasclick,t.CANVAS_DBLCLICK=canvasdblclick,t.CANVAS_MOUSEDOWN=canvasmousedown,t.CANVAS_MOUSEUP=canvasmouseup,t.CANVAS_MOUSEENTER=canvasmouseenter,t.CANVAS_MOUSELEAVE=canvasmouseleave,t.CANVAS_MOUSEMOVE=canvasmousemove,t.CANVAS_MOUSEOUT=canvasmouseout,t.CANVAS_MOUSEOVER=canvasmouseover,t.CANVAS_DROP=canvasdrop,t.CANVAS_DRAGENTER=canvasdragenter,t.CANVAS_DRAGLEAVE=canvasdragleave,t.CANVAS_DRAGSTART=canvasdragstart,t.CANVAS_DRAG=canvasdrag,t.CANVAS_DRAGEND=canvasdragend,t.BEFORERENDER=beforerender,t.AFTERRENDER=afterrender,t.BEFOREADDITEM=beforeadditem,t.AFTERADDITEM=afteradditem,t.BEFOREREMOVEITEM=beforeremoveitem,t.AFTERREMOVEITEM=afterremoveitem,t.BEFOREUPDATEITEM=beforeupdateitem,t.AFTERUPDATEITEM=afterupdateitem,t.BEFOREITEMVISIBILITYCHANGE=beforeitemvisibilitychange,t.AFTERITEMVISIBILITYCHANGE=afteritemvisibilitychange,t.BEFOREITEMSTATECHANGE=beforeitemstatechange,t.AFTERITEMSTATECHANGE=afteritemstatechange,t.BEFOREITEMREFRESH=beforeitemrefresh,t.AFTERITEMREFRESH=afteritemrefresh,t.BEFOREITEMSTATESCLEAR=beforeitemstatesclear,t.AFTERITEMSTATESCLEAR=afteritemstatesclear,t.BEFOREMODECHANGE=beforemodechange,t.AFTERMODECHANGE=aftermodechange,t.BEFORELAYOUT=beforelayout,t.AFTERLAYOUT=afterlayout,t.BEFORECREATEEDGE=beforecreateedge,t.AFTERCREATEEDGE=aftercreateedge,t.BEFOREGRAPHREFRESHPOSITION=beforegraphrefreshposition,t.AFTERGRAPHREFRESHPOSITION=aftergraphrefreshposition,t.BEFOREGRAPHREFRESH=beforegraphrefresh,t.AFTERGRAPHREFRESH=aftergraphrefresh,t.BEFOREANIMATE=beforeanimate,t.AFTERANIMATE=afteranimate,t.BEFOREPAINT=beforepaint,t.AFTERPAINT=afterpaint,t.GRAPHSTATECHANGE=graphstatechange,t.AFTERACTIVATERELATIONS=afteractivaterelations,t.NODESELECTCHANGE=nodeselectchange,t.TOOLTIPCHANGE=tooltipchange,t.WHEELZOOM=wheelzoom,t.VIEWPORTCHANGE=viewportchange,t.DRAGNODEEND=dragnodeend,t.STACKCHANGE=stackchange}(h(h={}));var y=r(4),m=r.n(y),b=r(10),x=r.n(b),w=r(11),M=r.n(w),S=r(3),_=r.n(S),k=r(1),O=r(230),E=function(t){function e(e,r){var n=t.call(this,e,r)this;return n.item=r.item,n.canvasX=r.canvasX,n.canvasY=r.canvasY,n.wheelDelta=r.wheelDelta,n.detail=r.detail,n}return Object(k.__extends)(e,t),e}(r.n(O).a),j=function(t){var e=0,r=0,n=0,i=0;if(M()(t))e=r=n=i=t;else if(_()(t)){e=r=n=i=parseInt(t,10)}else m()(t)&&(e=t[0],n=x()(t[1])t[0]t[1],i=x()(t[2])t[0]t[2],r=x()(t[3])nt[3]);return[e,n,i,r]},C=function(t){var e=new E(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},A=function(t){if(!t)return!1;for(var e=[1,0,0,0,1,0,0,0,1],r=0;r9;r++)if(t[r]!==e[r])return!0;return!1},P=function(t){return Number.isNaN(Number(t))},I=function(t){for(var e=10,r=-10,n=10,i=-10,o=0;ot.length;o++){var a=t[o].getBBox(),s=a.minX,u=a.minY,c=a.maxX,h=a.maxY;se&&(e=s),un&&(n=u),cr&&(r=c),hi&&(i=h)}return{xMath.floor(e),yMath.floor(n),widthMath.ceil(r)-Math.floor(e),heightMath.ceil(i)-Math.floor(n),minXe,minYn,maxXr,maxYi}},T=function(t,e){void 0===e&&(e=15);for(var r=t.length,n=2e,i=[top,top-right,right,bottom-right,bottom,bottom-left,left,top-left],o={},a=[],s={},u=0;ur;u++){var c=t[u],h=c.source,f=c.target,l=h+-+f;if(!a[u]){o[l](o[l]=[]),a[u]=!0,o[l].push(c);for(var d=0;dr;d++)if(u!==d){var p=t[d],g=p.source,v=p.target;a[d](h===v&&f===g(o[l].push(p),a[d]=!0,s[g++v++(o[l].length-1)]=!0)h===g&&f===v&&(o[l].push(p),a[d]=!0))}}}for(var y in o)for(var m=o[y],b=m.length,x=0;xb;x++){var w=m[x];if(w.source!==w.target){w.type=quadratic;var M=(x%2==01-1)(s[w.source++w.target++x]-11);w.curveOffset=b%2==1MMath.ceil(x2)nM(Math.floor(x2)n+e)}else w.type=loop,w.loopCfg={positioni[x%8],dist20Math.floor(x8)+50}}return t},N=Math.abs,D=[shift,ctrl,alt,control],B={getDefaultCfgfunction(){return{directionboth,enableOptimize!1,scalableRange0}},getEventsfunction(){return{dragstartonMouseDown,mousedownonMouseDown,dragonMouseMove,dragendonMouseUp,mouseuponMouseUp,canvasclickonMouseUp,keyuponKeyUp,focusonKeyUp,keydownonKeyDown,touchstartonMouseDown,touchmoveonMouseMove,touchendonMouseUp}},updateViewportfunction(t){var e=this.origin,r=+t.clientX,n=+t.clientY;if(!P(r)&&!P(n)){var i=r-e.x,o=n-e.y;x===this.get(direction)o=0y===this.get(direction)&&(i=0),this.origin={xr,yn};var a=this.graph.get(width),s=this.graph.get(height),u=this.graph.get(canvas).getCanvasBBox();(u.minX=a+this.scalableRange&&u.minX+ia+this.scalableRangeu.maxX+this.scalableRange=0&&u.maxX+this.scalableRange+i0)&&(i=0),(u.minY=s+this.scalableRange&&u.minY+os+this.scalableRangeu.maxY+this.scalableRange=0&&u.maxY+this.scalableRange+o0)&&(o=0),this.graph.translate(i,o)}},onMouseDownfunction(t){var e=t.originalEvent;if((!e0===e.button)&&(t.name===h.TOUCHSTART!window!window.eventundefined==typeof windowwindow.event.buttonswindow.event.button)&&!this.keydown&&!t.shape&&(this.origin={xt.clientX,yt.clientY},this.dragging=!1,this.enableOptimize)){for(var r=this.graph,n=r.getEdges(),i=0,o=n.length;io;i++){var a=n[i].get(group).get(children);a&&a.forEach((function(t){t.hide()}))}for(var s=r.getNodes(),u=0,c=s.length;uc;u++)for(var f=0,l=s[u].getContainer().get(children);fl.length;f++){var d=l[f];d.get(isKeyShape)d.hide()}}},onMouseMovefunction(t){var e=this.graph;if(!this.keydown&&!t.shape&&(t=C(t),this.origin)){if(this.dragging)t.type=drag,e.emit(canvasdrag,t);else{if(N(this.origin.x-t.clientX)+N(this.origin.y-t.clientY)10)return;this.shouldBegin.call(this,t)&&(t.type=dragstart,e.emit(canvasdragstart,t),this.dragging=!0)}this.shouldUpdate.call(this,t)&&this.updateViewport(t)}},onMouseUpfunction(t){var e=this.graph;if(!this.keydown&&!t.shape){if(this.enableOptimize){for(var r=e.getEdges(),n=0,i=r.length;ni;n++){var o=r[n].get(group).get(children);o&&o.forEach((function(t){t.show()}))}for(var a=e.getNodes(),s=0,u=a.length;su;s++)for(var c=0,h=a[s].getContainer().get(children);ch.length;c++){var f=h[c];f.get(isKeyShape)f.show()}}this.dragging(t=C(t),this.shouldEnd.call(this,t)&&this.updateViewport(t),t.type=dragend,e.emit(canvasdragend,t),this.endDrag())this.origin=null}},endDragfunction(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDownfunction(t){var e=t.key;e&&(D.indexOf(e.toLowerCase())-1this.keydown=!0this.keydown=!1)},onKeyUpfunction(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},R=r(70),L=r.n(R),z=r(71),F=r.n(z),Y=[{index7,opacity.15},{index6,opacity.25},{index5,opacity.3},{index5,opacity.45},{index5,opacity.65},{index5,opacity.85},{index4,opacity.9},{index3,opacity.95},{index2,opacity.97},{index1,opacity.98}];function G(t,e,r){var n;return(n=Math.round(t.h)=60&&Math.round(t.h)=240rMath.round(t.h)-2eMath.round(t.h)+2erMath.round(t.h)+2eMath.round(t.h)-2e)0n+=360n=360&&(n-=360),n}function q(t,e,r){return 0===t.h&&0===t.st.s((n=rt.s-.16e4===et.s+.16t.s+.05e)1&&(n=1),r&&5===e&&n.1&&(n=.1),n.06&&(n=.06),Number(n.toFixed(2)));var n}function X(t,e,r){var n;return(n=rt.v+.05et.v-.15e)1&&(n=1),Number(n.toFixed(2))}function V(t){for(var e=arguments.length1&&void 0!==arguments[1]arguments[1]{},r=[],n=F()(t),i=5;i0;i-=1){var o=n.toHsv(),a=F()({hG(o,i,!0),sq(o,i,!0),vX(o,i,!0)}).toHexString();r.push(a)}r.push(n.toHexString());for(var s=1;s=4;s+=1){var u=n.toHsv(),c=F()({hG(u,s),sq(u,s),vX(u,s)}).toHexString();r.push(c)}returndark===e.themeY.map((function(t){var n=t.index,i=t.opacity;return F.a.mix(e.backgroundColor#141414,r[n],100i).toHexString()}))r}var H={red#F5222D,volcano#FA541C,orange#FA8C16,gold#FAAD14,yellow#FADB14,lime#A0D911,green#52C41A,cyan#13C2C2,blue#1890FF,geekblue#2F54EB,purple#722ED1,magenta#EB2F96,grey#666666},U={},W={};Object.keys(H).forEach((function(t){U[t]=V(H[t]),U[t].primary=U[t][5],W[t]=V(H[t],{themedark,backgroundColor#141414}),W[t].primary=W[t][5]}));U.red,U.volcano,U.gold,U.orange,U.yellow,U.lime,U.green,U.cyan,U.blue,U.geekblue,U.purple,U.magenta,U.grey;var Z=function(t,e,r){var n=L()(t),i=L()(e);return L()([(1-r)n.color[0]+ri.color[0],(1-r)n.color[1]+ri.color[1],(1-r)n.color[2]+ri.color[2]]).rgb()},$=function(t,e,r,n){void 0===e&&(e=#fff),void 0===r&&(r=default),void 0===n&&(n=rgb(150, 150, 150));var i=Z(e,t,.05).rgb().toString(),o=Z(e,n,.02).rgb().toString(),a=Z(e,n,.05).rgb().toString(),s=Z(e,n,.1).rgb().toString(),u=Z(e,n,.2).rgb().toString(),c=Z(e,n,.3).rgb().toString(),h=V(t,{themer,backgroundColore}),f=L()(t).hex().toLowerCase(),l=h.indexOf(f),d=t;return-1!==l&&(d=h[l+1]),{mainStroket,mainFillZ(e,t,.1).rgb().toString(),activeStroket,activeFilli,inactiveStrokeZ(e,t,.4).rgb().toString(),inactiveFilli,selectedStroket,selectedFille,highlightStroked,highlightFillZ(e,t,.2).rgb().toString(),disableStrokec,disableFilla,edgeMainStrokec,edgeActiveStroket,edgeInactiveStrokeu,edgeSelectedStroket,edgeHighlightStroket,edgeDisableStrokes,comboMainStrokec,comboMainFillo,comboActiveStroket,comboActiveFilli,comboInactiveStrokec,comboInactiveFillo,comboSelectedStroket,comboSelectedFillo,comboHighlightStroked,comboHighlightFillo,comboDisableStrokeu,comboDisableFilla}},K=$(rgb(95, 149, 255),rgb(255, 255, 255)),Q={version3.8.5,rootContainerClassNameroot-container,nodeContainerClassNamenode-container,edgeContainerClassNameedge-container,comboContainerClassNamecombo-container,customGroupContainerClassNamecustom-group-container,delegateContainerClassNamedelegate-container,defaultLoopPositiontop,nodeLabel{style{fill#000,fontSize12,textAligncenter,textBaselinemiddle},offset4},defaultNode{typecircle,style{lineWidth1,strokeK.mainStroke,fillK.mainFill},size20,colorK.mainStroke,linkPoints{size8,lineWidth1,fillK.activeFill,strokeK.activeStroke}},nodeStateStyles{active{fillK.activeFill,strokeK.activeStroke,lineWidth2,shadowColorK.mainStroke,shadowBlur10},selected{fillK.selectedFill,strokeK.selectedStroke,lineWidth4,shadowColorK.selectedStroke,shadowBlur10,text-shape{fontWeight500}},highlight{fillK.highlightFill,strokeK.highlightStroke,lineWidth2,text-shape{fontWeight500}},inactive{fillK.inactiveFill,strokeK.inactiveStroke,lineWidth1},disable{fillK.disableFill,strokeK.disableStroke,lineWidth1}},edgeLabel{style{fillrgb(0, 0, 0),textAligncenter,textBaselinemiddle,fontSize12}},defaultEdge{typeline,size1,style{strokeK.edgeMainStroke,lineAppendWidth2},colorK.edgeMainStroke},edgeStateStyles{active{strokeK.edgeActiveStroke,lineWidth1},selected{strokeK.edgeSelectedStroke,lineWidth2,shadowColorK.edgeSelectedStroke,shadowBlur10,text-shape{fontWeight500}},highlight{strokeK.edgeHighlightStroke,lineWidth2,text-shape{fontWeight500}},inactive{strokeK.edgeInactiveStroke,lineWidth1},disable{strokeK.edgeDisableStroke,lineWidth1}},comboLabel{style{fillrgb(0, 0, 0),textBaselinemiddle,fontSize12},refY10,refX10},defaultCombo{typecircle,style{fillK.comboMainFill,lineWidth1,strokeK.comboMainStroke,r5,width20,height10},size[20,5],colorK.comboMainStroke,padding[25,20,15,20]},comboStateStyles{active{strokeK.comboActiveStroke,lineWidth1,fillK.comboActiveFill},selected{strokeK.comboSelectedStroke,lineWidth2,fillK.comboSelectedFill,shadowColorK.comboSelectedStroke,shadowBlur10,text-shape{fontWeight500}},highlight{strokeK.comboHighlightStroke,lineWidth2,fillK.comboHighlightFill,text-shape{fontWeight500}},inactive{strokeK.comboInactiveStroke,fillK.comboInactiveFill,lineWidth1},disable{strokeK.comboDisableStroke,fillK.comboDisableFill,lineWidth1}},delegateStyle{fill#F3F9FF,fillOpacity.5,stroke#1890FF,strokeOpacity.9,lineDash[5,5]},textWaterMarkerConfig{width150,height100,compatible!1,text{x0,y60,lineHeight20,rotate20,fontSize14,fontFamilyMicrosoft YaHei,fillrgba(0, 0, 0, 0.1),baselineMiddle}},imageWaterMarkerConfig{width150,height130,compatible!1,image{x0,y0,width30,height20,rotate0}},waterMarkerImagehttpsgw.alipayobjects.comossprodantvassetsimagelogo-with-text-73b8a.svg},J={getDefaultCfgfunction(){return{updateEdge!0,delegateStyle{},enableDelegate!1,onlyChangeComboSize!1,comboActiveState,selectedStateselected}},getEventsfunction(){return{nodedragstartonDragStart,nodedragonDrag,nodedragendonDragEnd,combodragenteronDragEnter,combodragleaveonDragLeave,combodroponDropCombo,nodedroponDropNode,canvasdroponDropCanvas}},validationCombofunction(t){return!(!this.origin!tt.destroyed)&&combo===t.getType()},onDragStartfunction(t){var e=this;if(this.shouldBegin.call(this,t)){var r=t.item;if(r&&!r.destroyed&&!r.hasLocked()){r.getContainer().set(capture,!1);var n=t.target;if(n)if(n.get(isAnchorPoint))return;var i=this.graph;this.targets=[],this.targetCombo=null;var o=i.findAllByState(node,this.selectedState),a=r.get(id);0===o.filter((function(t){var e=t.get(id);return a===e})).lengththis.targets.push(r)o.length1o.forEach((function(t){t.hasLocked()e.targets.push(t)}))this.targets.push(r);var s=[];this.targets.forEach((function(t){s.push(Object(p.clone)(t.getModel()))})),this.set(beforeDragNodes,s),this.origin={xt.x,yt.y},this.point={},this.originPoint={}}}},onDragfunction(t){var e=this;this.origin&&this.shouldUpdate(this,t)&&(this.get(enableDelegate)this.updateDelegate(t)this.targets.map((function(r){e.update(r,t)})))},onDragEndfunction(t){if(this.origin&&this.shouldEnd.call(this,t)){var e=t.item;if(e)e.getContainer().set(capture,!0);this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(t);var r=this.graph;if(r.get(enabledStack)){var n={before{nodesthis.get(beforeDragNodes),edges[],combos[]},after{nodes[],edges[],combos[]}};this.targets.forEach((function(t){n.after.nodes.push(t.getModel())})),r.pushStack(update,Object(p.clone)(n))}r.emit(dragnodeend,{itemsthis.targets,targetItemnull}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombofunction(t){var e=t.item;if(this.validationCombo(e)){this.updatePositions(t);var r=this.graph;if(this.comboActiveState&&r.setItemState(e,this.comboActiveState,!1),this.targetCombo=e,this.onlyChangeComboSize)r.updateCombos();else{var n=e.getModel();this.targets.map((function(t){t.getModel().comboId!==n.id&&r.updateComboTree(t,n.id)})),r.updateCombo(e)}r.emit(dragnodeend,{itemsthis.targets,targetItemthis.targetCombo})}},onDropCanvasfunction(t){var e=this.graph;this.targets&&0!==this.targets.length&&(this.updatePositions(t),this.onlyChangeComboSizee.updateCombos()this.targets.map((function(t){t.getModel().comboId&&e.updateComboTree(t)})))},onDropNodefunction(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.updatePositions(t);var r=this.graph,n=e.getModel().comboId;if(n){var i=r.findById(n);this.comboActiveState&&r.setItemState(i,this.comboActiveState,!1),this.targets.map((function(t){var e=t.getModel();n!==e.comboId&&r.updateComboTree(t,n)})),r.updateCombo(i)}else this.targets.map((function(t){t.getModel().comboId&&r.updateComboTree(t)}));r.emit(dragnodeend,{itemsthis.targets,targetIteme})}},onDragEnterfunction(t){var e=t.item;if(this.validationCombo(e)){var r=this.graph;this.comboActiveState&&r.setItemState(e,this.comboActiveState,!0)}},onDragLeavefunction(t){var e=t.item;if(this.validationCombo(e)){var r=this.graph;this.comboActiveState&&r.setItemState(e,this.comboActiveState,!1)}},updatePositionsfunction(t){var e=this;this.targets&&0!==this.targets.length&&this.get(enableDelegate)&&this.targets.map((function(r){return e.update(r,t)}))},updatefunction(t,e){var r=this.origin,n=t.get(model),i=t.get(id);this.point[i](this.point[i]={xn.x0,yn.y0});var o={xe.x-r.x+this.point[i].x,ye.y-r.y+this.point[i].y};this.get(updateEdge)this.graph.updateItem(t,o,!1)t.updatePosition(o)},updateDelegatefunction(t){this.graph;if(this.delegateRect){var e=t.x-this.origin.x+this.originPoint.minX,r=t.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({xe,yr})}else{var n=this.graph.get(group),i=Object(p.deepMix)({},Q.delegateStyle,this.delegateStyle),o=this.calculationGroupPosition(t),a=o.x,s=o.y,u=o.width,c=o.height,h=o.minX,f=o.minY;this.originPoint={xa,ys,widthu,heightc,minXh,minYf},this.delegateRect=n.addShape(rect,{attrsObject(k.__assign)({widthu,heightc,xa,ys},i),namerect-delegate-shape}),this.delegateRect.set(capture,!1)}},calculationGroupPositionfunction(t){var e=this.graph.findAllByState(node,this.selectedState);0===e.length&&e.push(t.item);for(var r=10,n=-10,i=10,o=-10,a=0;ae.length;a++){var s=e[a].getBBox(),u=s.minX,c=s.minY,h=s.maxX,f=s.maxY;ur&&(r=u),ci&&(i=c),hn&&(n=h),fo&&(o=f)}return{xMath.floor(r),yMath.floor(i),widthMath.ceil(n)-Math.floor(r),heightMath.ceil(o)-Math.floor(i),minXr,minYi}}},tt=Math.min,et=Math.max,rt=Math.abs,nt=[drag,shift,ctrl,alt,control],it={getDefaultCfgfunction(){return{brushStyle{fill#EEF6FF,fillOpacity.4,stroke#DDEEFE,lineWidth1},onSelectfunction(){},onDeselectfunction(){},selectedStateselected,triggershift,includeEdges!0,selectedEdges[],selectedNodes[]}},getEventsfunction(){return nt.indexOf(this.trigger.toLowerCase())-1(this.trigger=shift,console.warn(Behavior brush-select  trigger  'drag''shift''ctrl'  'alt')),drag===this.trigger{dragstartonMouseDown,dragonMouseMove,dragendonMouseUp,canvasclickclearStates}{dragstartonMouseDown,dragonMouseMove,dragendonMouseUp,canvasclickclearStates,keyuponKeyUp,keydownonKeyDown}},onMouseDownfunction(t){var e=t.item,r=this.brush;e(drag===this.triggerthis.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),r(r=this.createBrush()),this.originPoint={xt.canvasX,yt.canvasY},r.attr({width0,height0}),r.show(),this.dragging=!0)},onMouseMovefunction(t){this.dragging&&(drag===this.triggerthis.keydown)&&this.updateBrush(t)},onMouseUpfunction(t){this.graph;(this.brushthis.dragging)&&(drag===this.triggerthis.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(t),this.dragging=!1)},clearStatesfunction(){var t=this.graph,e=this.selectedState,r=t.findAllByState(node,e),n=t.findAllByState(edge,e);r.forEach((function(r){return t.setItemState(r,e,!1)})),n.forEach((function(r){return t.setItemState(r,e,!1)})),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit(nodeselectchange,{selectedItems{nodes[],edges[]},select!1})},getSelectedNodesfunction(t){var e=this,r=this.graph,n=this.originPoint,i=this.shouldUpdate,o=this.selectedState,a={xt.x,yt.y},s=r.getPointByCanvas(n.x,n.y),u=tt(a.x,s.x),c=et(a.x,s.x),h=tt(a.y,s.y),f=et(a.y,s.y),l=[],d=[];r.getNodes().forEach((function(t){var e=t.getBBox();if(e.centerX=u&&e.centerX=c&&e.centerY=h&&e.centerY=f&&i(t,select)){l.push(t);var n=t.getModel();d.push(n.id),r.setItemState(t,o,!0)}}));var p=[];this.includeEdges&&l.forEach((function(t){t.getOutEdges().forEach((function(t){var n=t.getModel(),o=n.source,a=n.target;d.includes(o)&&d.includes(a)&&i(t,select)&&(p.push(t),r.setItemState(t,e.selectedState,!0))}))})),this.selectedEdges=p,this.selectedNodes=l,this.onSelect&&this.onSelect(l,p),r.emit(nodeselectchange,{selectedItems{nodesl,edgesp},select!0})},createBrushfunction(){var t=this.graph.get(canvas).addShape(rect,{attrsthis.brushStyle,capture!1,namebrush-shape});return this.brush=t,t},updateBrushfunction(t){var e=this.originPoint;this.brush.attr({widthrt(t.canvasX-e.x),heightrt(t.canvasY-e.y),xtt(t.canvasX,e.x),ytt(t.canvasY,e.y)})},onKeyDownfunction(t){var e=t.key;if(e){var r=this.trigger.toLowerCase(),n=e.toLowerCase();this.keydown=n===rcontrol===n&&ctrl===rctrl===n&&control===r}},onKeyUpfunction(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},ot=[shift,ctrl,alt,control],at={getDefaultCfgfunction(){return{multiple!0,triggershift,selectedStateselected}},getEventsfunction(){return ot.indexOf(this.trigger.toLowerCase())-1(this.trigger=shift,console.warn(Behavior brush-select  trigger  'drag''shift''ctrl'  'alt')),this.multiple{nodeclickonClick,comboclickonClick,canvasclickonCanvasClick,keyuponKeyUp,keydownonKeyDown}{nodeclickonClick,comboclickonClick,canvasclickonCanvasClick}},onClickfunction(t){var e=this,r=t.item;if(r&&!r.destroyed){var n=r.getType(),i=this,o=i.graph,a=i.keydown,s=i.multiple,u=i.shouldUpdate;if(i.shouldBegin.call(this,t)){if(!a!s){var c=o.findAllByState(n,this.selectedState);d()(c,(function(t){t!==r&&o.setItemState(t,e.selectedState,!1)}))}if(r.hasState(this.selectedState)){u.call(this,t)&&o.setItemState(r,this.selectedState,!1);var h=o.findAllByState(node,this.selectedState),f=o.findAllByState(combo,this.selectedState);o.emit(nodeselectchange,{targetr,selectedItems{nodesh,combosf},select!1})}else{u.call(this,t)&&o.setItemState(r,this.selectedState,!0);h=o.findAllByState(node,this.selectedState),f=o.findAllByState(combo,this.selectedState);o.emit(nodeselectchange,{targetr,selectedItems{nodesh,combosf},select!0})}}}},onCanvasClickfunction(){var t=this,e=this.graph,r=e.findAllByState(node,this.selectedState);d()(r,(function(r){e.setItemState(r,t.selectedState,!1)}));var n=e.findAllByState(combo,this.selectedState);d()(n,(function(r){e.setItemState(r,t.selectedState,!1)})),e.emit(nodeselectchange,{selectedItems{nodes[],edges[],combos[]},select!1})},onKeyDownfunction(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()control===e.toLowerCase()this.keydown=!0this.keydown=!1)},onKeyUpfunction(){this.keydown=!1}},st=r(16);st.translate=function(t,e,r){var n=new Array(9);return st.fromTranslation(n,r),st.multiply(t,n,e)},st.rotate=function(t,e,r){var n=new Array(9);return st.fromRotation(n,r),st.multiply(t,n,e)},st.scale=function(t,e,r){var n=new Array(9);return st.fromScaling(n,r),st.multiply(t,n,e)},st.transform=function(t,e){for(var r=[].concat(t),n=0,i=e.length;ni;n++){var o=e[n];switch(o[0]){casetst.translate(r,r,[o[1],o[2]]);break;casesst.scale(r,r,[o[1],o[2]]);break;caserst.rotate(r,r,o[1])}}return r};var ut=st,ct=r(26),ht=r(0);ct.angle=function(t,e){var r=ct.dot(t,e)(ct.length(t)ct.length(e));return Math.acos(Object(ht.clamp)(r,-1,1))},ct.direction=function(t,e){return t[0]e[1]-e[0]t[1]},ct.angleTo=function(t,e,r){var n=ct.angle(t,e),i=ct.direction(t,e)=0;return ri2Math.PI-nnin2Math.PI-n},ct.vertical=function(t,e,r){return r(t[0]=e[1],t[1]=-1e[0])(t[0]=-1e[1],t[1]=e[0]),t};var ft=ct,lt=r(131),dt=function(t,e){var r=tObject(ht.clone)(t)[1,0,0,0,1,0,0,0,1];return Object(ht.each)(e,(function(t){switch(t[0]){casetut.translate(r,r,[t[1],t[2]]);break;casesut.scale(r,r,[t[1],t[2]]);break;caserut.rotate(r,r,t[1]);break;casemut.multiply(r,r,t[1]);break;defaultreturn!1}})),r},pt={getDefaultCfgfunction(){return{sensitivity2,minZoomvoid 0,maxZoomvoid 0,enableOptimize!1,optimizeZoom.7,fixSelectedItems{fixAll!1,fixLineWidth!1,fixLabel!1,fixStateselected}}},getEventsfunction(){var t=this.fixSelectedItems;return t.fixState(t.fixState=selected),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{wheelonWheel,touchstartonTouchStart,touchmoveonTouchMove,touchendonTouchEnd}},onTouchStartfunction(t){var e=t.originalEvent.touches,r=e[0],n=e[1];t.preventDefault(),n&&(this.startPoint={pageXr.pageX,pageYr.pageY},this.moveable=!0,n&&(this.endPoint={pageXn.pageX,pageYn.pageY}),this.originScale=this.currentScale1)},onTouchMovefunction(t){if(this.moveable){t.preventDefault();var e=t.originalEvent.touches,r=e[0],n=e[1];if(n){this.endPoint(this.endPoint={pageXn.pageX,pageYn.pageY});var i=function(t,e){return Math.hypot(e.x-t.x,e.y-t.y)},o=i({xr.pageX,yr.pageY},{xn.pageX,yn.pageY})i({xthis.startPoint.pageX,ythis.startPoint.pageY},{xthis.endPoint.pageX,ythis.endPoint.pageY}),a=this.originScaleo;this.currentScale=a;var s=this.get(minZoom)this.graph.get(minZoom);if(!(a(this.get(maxZoom)this.graph.get(maxZoom))as)){var u=this.graph.get(canvas).getPointByClient(t.clientX,t.clientY);this.graph.zoomTo(a,{xu.x,yu.y}),this.graph.emit(wheelzoom,t)}}}},onTouchEndfunction(){this.moveable=!1,this.endPoint=null},onWheelfunction(t){var e=this,r=this.graph,n=this.fixSelectedItems;if(this.shouldUpdate.call(this,t)){t.preventDefault();var i,o=r.get(canvas).getPointByClient(t.clientX,t.clientY),a=this.get(sensitivity),s=r.getZoom();i=s(t.wheelDelta01-.05a1(1-.05a));var u=this.get(minZoom)r.get(minZoom);if(!(i(this.get(maxZoom)r.get(maxZoom))iu)){if(this.get(enableOptimize)){var c=this.get(optimizeZoom),h=this.get(optimized),f=r.getNodes(),l=r.getEdges(),d=f.length,p=l.length;if(!h){for(var g=0;gd;g++){if(!(k=f[g]).destroyed)for(var v=(U=k.get(group).get(children)).length,y=0;yv;y++){(D=U[y]).destoryedD.get(isKeyShape)D.hide()}}for(var m=0;mp;m++)for(v=(U=(H=l[m]).get(group).get(children)).length,y=0;yv;y++){(D=U[y]).hide()}this.set(optimized,!0)}clearTimeout(this.get(timeout));var b=setTimeout((function(){var t=r.getZoom();if(e.get(optimized)){e.set(optimized,!1);for(var n=0;nd;n++){var i=f[n],o=(u=i.get(group).get(children)).length;if(tc)i.getKeyShape().show();else for(var a=0;ao;a++){(g=u[a]).get(visible)g.show()}}for(var s=0;sp;s++){var u,h=l[s];o=(u=h.get(group).get(children)).length;if(tc)h.getKeyShape().show();else for(a=0;ao;a++){var g;(g=u[a]).get(visible)g.show()}}}}),500);this.set(timeout,b)}if(s=1){var x=void 0,w=void 0;if(n.fixAlln.fixLineWidthn.fixLabel){x=r.findAllByState(node,n.fixState),w=r.findAllByState(edge,n.fixState);for(var M=si,S=x.length,_=0;_S;_++){var k,O=(k=x[_]).getContainer(),E=k.getModel(),j=k.getOriginStyle(),C=k.getStateStyle(n.fixState),A=k.get(shapeFactory).getShape(E.shapeE.type).getStateStyle(n.fixState,k)[n.fixState];if(n.fixAll){if(i=1){var P=Object(ht.clone)(O.getMatrix());P(P=[1,0,0,0,1,0,0,0,1]);var I=k.getModel(),T=I.x,N=I.y;ut.translate(P,P,[-T,-N]),ut.scale(P,P,[M,M]),ut.translate(P,P,[T,N]),O.setMatrix(P)}}else for(v=(U=O.get(children)).length,y=0;yv;y++){var D=U[y],B=void 0,R=void 0;if(n.fixLabel)if(text===D.get(type)){B=D.attr(fontSize)12;var L=C[D.get(name)],z=A[D.get(name)],F=LL.fontSize12,Y=zz.fontSize12,G=FY12;if(i=1&&D.attr(fontSize,Gi),R)break}if(n.fixLineWidth&&D.get(isKeyShape)){R=D.attr(lineWidth)0;var q=C.lineWidthA.lineWidthj.lineWidth0;if(i=1&&D.attr(lineWidth,qi),B)break}}}for(var X=w.length,V=0;VX;V++){var H,U=(O=(H=w[V]).getContainer()).get(children);for(E=H.getModel(),C=H.getStateStyle(n.fixState),A=H.get(shapeFactory).getShape(E.shapeE.type).getStateStyle(n.fixState,H)[n.fixState],v=U.length,y=0;yv;y++){D=U[y],B=void 0,R=void 0;if(n.fixLabeln.fixAll)if(text===D.get(type)){B=D.attr(fontSize)12;L=C[D.get(name)],z=A[D.get(name)],F=LL.fontSize12,Y=zz.fontSize12,G=FY12;if(i=1&&D.attr(fontSize,Gi),R)break}if((n.fixLineWidthn.fixAll)&&D.get(isKeyShape)){R=D.attr(lineWidth)0;q=C.lineWidthA.lineWidth1;if(i=1&&D.attr(lineWidth,qi),B)break}}}}}r.zoomTo(i,{xo.x,yo.y}),r.emit(wheelzoom,t)}}}},gt=r(5),vt=r.n(gt),yt=r(8),mt=r.n(yt),bt={onMouseEnterfunction(t){var e=t.item;this.currentTarget=e,this.showTooltip(t),this.graph.emit(tooltipchange,{itemt.item,actionshow})},onMouseMovefunction(t){this.shouldUpdate(t)this.currentTarget&&t.item===this.currentTarget&&this.updatePosition(t)this.hideTooltip()},onMouseLeavefunction(t){this.shouldEnd(t)&&(this.hideTooltip(),this.graph.emit(tooltipchange,{itemthis.currentTarget,actionhide}),this.currentTarget=null)},showTooltipfunction(t){var e=this.container;if(t.item&&!t.item.destroyed){e(e=this.createTooltip(this.graph.get(canvas)),this.container=e);var r=this.formatText(t.item.get(model),t);e.innerHTML=r,vt()(this.container,{visibilityvisible}),this.updatePosition(t)}},hideTooltipfunction(){vt()(this.container,{visibilityhidden})},updatePositionfunction(t){var e=this.get(shouldBegin),r=this.width,n=this.height,i=this.container,o=this.graph;if(e(t)){var a=o.getPointByClient(t.clientX,t.clientY),s=o.getCanvasByPoint(a.x,a.y),u=s.x,c=s.y,h=i.getBoundingClientRect();ur2u-=h.widthu+=this.offset,cn2c-=h.heightc+=this.offset;var f=u+px,l=c+px;vt()(this.container,{leftf,topl,visibilityvisible})}else vt()(i,{visibilityhidden})},createTooltipfunction(t){var e=t.get(el);e.style.position=relative;var r=mt()('div class=g6-tooltip g6-'+this.item+'-tooltipdiv');return e.parentNode.appendChild(r),vt()(r,{positionabsolute,visibilityvisible}),this.width=t.get(width),this.height=t.get(height),this.container=r,this.graph.get(tooltips).push(r),r}},xt=Object(k.__assign)({getDefaultCfgfunction(){return{itemnode,offset12,formatTextfunction(t){return t.label}}},getEventsfunction(){return{nodemouseenteronMouseEnter,nodemouseleaveonMouseLeave,nodemousemoveonMouseMove,afterremoveitemonMouseLeave}}},bt),wt=Object(k.__assign)({getDefaultCfgfunction(){return{itemedge,offset12,formatTextfunction(t){returnsource +t.source+ target +t.target}}},getEventsfunction(){return{edgemouseenteronMouseEnter,edgemouseleaveonMouseLeave,edgemousemoveonMouseMove,afterremoveitemonMouseLeave}}},bt),Mt=r(12),St=r.n(Mt),_t={getDefaultCfgfunction(){return{delegate!0,delegateStyle{},delegateShapes{},delegateShapeBBoxs{}}},getEventsfunction(){return{dragstartonDragStart,dragonDrag,dragendonDragEnd,canvasmouseleaveonOutOfRange}},onDragStartfunction(t){var e=this.graph,r=t.target.get(groupId);if(r){var n=e.get(customGroupControll),i=n.customGroup,o=i[r].nodeGroup;this.targetGroup=o,this.mouseOrigin={xt.x,yt.y};for(var a=e.save().groups,s=null,u=0;ua.length;u++){var c=a[u];if(r===c.id){s=c.parentId;break}}if(s){var h=i[s].nodeGroup;n.setGroupStyle(h.get(keyShape),hover)}}},onDragfunction(t){this.mouseOrigin&&this.updateDelegate(t)},onDragEndfunction(t){var e=this.graph,r=t.target.get(groupId);if(this.delegateShapes[r]&&(this.delegateShapeBBox=this.delegateShapes[r].getBBox(),this.delegateShapes[r].remove(),delete this.delegateShapes[r]),this.delegateShapeBBox){var n=e.get(customGroupControll),i=this.delegateShapeBBoxs[r];n.updateGroup(r,i,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegatefunction(t){var e=this.graph,r=t.target.get(groupId),n=this.targetGroup.get(keyShape),i=this.delegateShapes[r],o=n.getBBox(),a=n.get(type);if(i){var s=this.mouseOrigin,u=this.shapeOrigin,c=t.x-s.x,h=t.y-s.y,f=c+u.x,l=h+u.y;i.attr({xf,yl}),this.delegateShapeBBoxs[r]=i.getBBox()}else{var d=e.get(delegateGroup),p=o.x,g=o.y,v=o.width,y=o.height,m=Object(k.__assign)({widthv,heighty},St()({},Q.delegateStyle,this.delegateStyle));if(circle===a){var b=vyv2y2,x=p+b,w=g+b;i=d.addShape(circle,{attrsObject(k.__assign)({xx,yw,rb},m),namecircle-delegate-shape}),this.shapeOrigin={xx,yw}}else i=d.addShape(rect,{attrsObject(k.__assign)({xp,yg},m),namerect-delegate-shape}),this.shapeOrigin={xp,yg};this.delegateShapes[r]=i,this.delegateShapeBBoxs[r]=i.getBBox()}},onOutOfRangefunction(t){var e=this,r=this.graph.get(canvas).get(el),n=function(i){i.target!==r&&(e.onDragEnd(t),document.body.removeEventListener(mouseup,n,!0))};this.mouseOrigin&&document.body.addEventListener(mouseup,n,!0)}},kt=document.body,Ot={getDefaultCfgfunction(){return{updateEdge!0,delegate!0,delegateStyle{},maxMultiple1.1,minMultiple1}},getEventsfunction(){return{nodedragstartonDragStart,nodedragonDrag,nodedragendonDragEnd,canvasmouseleaveonOutOfRange,dragoveronDragOver,dragleaveonDragLeave}},onDragOverfunction(t){var e=this.graph,r=t.target.get(groupId);if(r&&this.origin){var n=e.get(customGroupControll),i=n.getDeletageGroupById(r);if(i){var o=i.nodeGroup.get(keyShape);this.inGroupId=r,n.setGroupStyle(o,hover)}}},onDragLeavefunction(t){var e=this.graph,r=t.target.get(groupId);if(r&&this.origin){var n=e.get(customGroupControll),i=n.getDeletageGroupById(r);if(i){var o=i.nodeGroup.get(keyShape);n.setGroupStyle(o,default)}}r(this.inGroupId=null)},onDragStartfunction(t){var e=this.graph;if(this.shouldBegin.call(this,t)){var r=t.item;this.target=r;var n=r.getModel().groupId;if(n){var i=e.get(customGroupControll),o=i.getDeletageGroupById(n);if(o){var a=o.nodeGroup.get(keyShape);i.setGroupStyle(a,hover),this.inGroupId=n}}this.origin={xt.x,yt.y},this.point={},this.originPoint={}}},onDragfunction(t){if(this.origin&&this.get(shouldUpdate).call(this,t)){this.update(this.target,t,!0);var e=t.item,r=this.graph,n=e.getModel().groupId;if(n){var i=r.get(customGroupControll),o=i.getDeletageGroupById(n);if(o){var a=o.nodeGroup.get(keyShape);this.inGroupId!==ni.setGroupStyle(a,default)i.setGroupStyle(a,hover)}}}},onDragEndfunction(t){if(this.origin&&this.shouldEnd.call(this,t)){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var e=this.target.get(delegateShape);e&&(e.remove(),this.target.set(delegateShape,null))}this.target&&this.update(this.target,t),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(t)}},setCurrentGroupStylefunction(t){var e=this.graph,r=t.item,n=r.getModel(),i=n.groupId,o=n.id,a=e.get(customGroupControll),s=a.customGroup,u=e.get(groupNodes);if(this.inGroupId&&i){if(!(w=s[i].nodeGroup))return;var c=w.get(keyShape),h=r.getBBox(),f=c.getBBox(),l=h.centerX,d=h.centerY,p=f.minX,g=f.minY,v=f.maxX,y=f.maxY;if(!(lvthis.maxMultiple&&lpthis.minMultiple&&dythis.maxMultiple&&dgthis.minMultiple)this.inGroupId!==i){var m=u[i];u[i]=m.filter((function(t){return t!==o})),a.dynamicChangeGroupSize(t,w,c),delete n.groupId}if(this.inGroupId!==i){if(!(x=s[this.inGroupId].nodeGroup))return;var b=x.get(keyShape);-1===u[this.inGroupId].indexOf(o)&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,a.dynamicChangeGroupSize(t,x,b)}a.setGroupStyle(c,default)}else if(this.inGroupId&&!i){var x;if(!(x=s[this.inGroupId].nodeGroup))return;c=x.get(keyShape);-1===u[this.inGroupId].indexOf(o)&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,a.dynamicChangeGroupSize(t,x,c)}else if(!this.inGroupId&&i){var w;if(Object.keys(u).forEach((function(t){var e=u[t];u[t]=e.filter((function(t){return t!==o}))})),!(w=s[i].nodeGroup))return;c=w.get(keyShape);a.dynamicChangeGroupSize(t,w,c),delete n.groupId}this.inGroupId=null},onOutOfRangefunction(t){var e=this,r=e.graph.get(canvas).get(el);e.origin&&kt.addEventListener(mouseup,(function n(i){i.target!==r&&(t.item=e.target,e.onDragEnd(t),document.body.removeEventListener(mouseup,n,!0))}),!0)},updatefunction(t,e,r){var n=this.origin,i=t.get(model),o=t.get(id);this.point[o](this.point[o]={xi.x,yi.y});var a=e.x-n.x+this.point[o].x,s=e.y-n.y+this.point[o].y;if(r)this.updateDelegate(e,a,s);else{var u={xa,ys};this.get(updateEdge)this.graph.updateItem(t,u)(t.updatePosition(u),this.graph.paint())}},updateDelegatefunction(t,e,r){var n=this.graph,i=t.item,o=n.get(groupType),a=i.get(keyShape).getBBox();if(!this.shape){var s=n.get(delegateGroup),u=St()({},Q.delegateStyle,this.delegateStyle);this.target&&(this.shape=s.addShape(rect,{attrsObject(k.__assign)({widtha.width,heighta.height,xe-a.width2,yr-a.height2},u),namedelegate-shape}),this.target.set(delegateShape,this.shape)),this.shape.set(capture,!1)}this.target&&(circle===othis.shape.attr({xe-a.width2,yr-a.height2})rect===o&&this.shape.attr({xe,yr}))}},Et=[click,dblclick],jt={getDefaultCfgfunction(){return{triggerdblclick}},getEventsfunction(){var t,e;return Et.includes(this.trigger)e=this.trigger(e=dblclick,console.warn(Behavior collapse-expand-group  trigger  'click'  'dblclick')),(t={})[+e]=onGroupClick,t},onGroupClickfunction(t){var e=t.target,r=this.graph,n=e.get(groupId);n&&r.get(customGroupControll).collapseExpandGroup(n)}},Ct=[click,dblclick],At={getDefaultCfgfunction(){return{triggerclick,onChangefunction(){}}},getEventsfunction(){var t,e;return Ct.includes(this.trigger)e=this.trigger(e=click,console.warn(Behavior collapse-expand  trigger  'click'  'dblclick')),(t={})[node+e]=onNodeClick,t.touchstart=onNodeClick,t},onNodeClickfunction(t){var e=t.item,r=this.graph.findDataById(e.get(id));if(r){var n=r.children;if(n&&0!==n.length){var i=!r.collapsed;if(this.shouldBegin(t,i)&&(r.collapsed=i,e.getModel().collapsed=i,this.graph.emit(itemcollapsed,{itemt.item,collapsedi}),this.shouldUpdate(t,i))){try{this.onChange(e,i)}catch(t){console.warn(G6  3.0.4  item.getModel() (3.2.0),t)}this.graph.layout()}}}}},Pt=function(t,e){if(!1!==e(t)&&t){var r=t.get(combos);if(0===r.length)return!1;Object(p.each)(r,(function(t){Pt(t,e)}))}},It={getDefaultCfgfunction(){return{enableDelegate!1,delegateStyle{},onlyChangeComboSize!1,activeState,selectedStateselected}},getEventsfunction(){return{combodragstartonDragStart,combodragonDrag,combodragendonDragEnd,combodroponDrop,nodedroponNodeDrop,combodragenteronDragEnter,combodragleaveonDragLeave}},validationCombofunction(t){var e=t.item;return!(!ee.destroyed)&&(!!this.shouldUpdate(this,t)&&combo===e.getType())},onDragStartfunction(t){var e=this,r=this.graph,n=t.item;if(this.validationCombo(t)){this.targets=[];var i=r.findAllByState(combo,this.selectedState),o=n.get(id);0===i.filter((function(t){var e=t.get(id);return o===e})).lengththis.targets.push(n)this.targets=i,this.activeState&&this.targets.map((function(t){var n=t.getModel();if(n.parentId){var i=r.findById(n.parentId);i&&r.setItemState(i,e.activeState,!0)}})),this.point={},this.originPoint={},this.origin={xt.x,yt.y},this.currentItemChildCombos=[],Pt(n,(function(t){if(t.destroyed)return!1;var r=t.getModel();return e.currentItemChildCombos.push(r.id),!0}))}},onDragfunction(t){var e=this;if(this.origin&&this.validationCombo(t))if(this.enableDelegate)this.updateDelegate(t);else{if(this.activeState){var r=this.graph,n=t.item,i=n.getModel(),o=r.getCombos(),a=n.getBBox(),s=a.centerX,u=a.centerY,c=a.width;o.filter((function(t){var r=t.getModel();return i.parentId,r.id!==i.id&&!e.currentItemChildCombos.includes(r.id)})).map((function(t){var n=t.getBBox(),i=n.centerX,o=n.centerY,a=n.width,h=s-i,f=u-o,l=2Math.sqrt(hh+ff);c+a-l.8cr.setItemState(t,e.activeState,!0)r.setItemState(t,e.activeState,!1)}))}Object(p.each)(this.targets,(function(r){e.updateCombo(r,t)}))}},updatePositionsfunction(t){var e=this;this.enableDelegate&&Object(p.each)(this.targets,(function(r){e.updateCombo(r,t)}))},onDropfunction(t){var e=this,r=t.item;if(r&&this.targets&&!r.destroyed){this.updatePositions(t);var n=this.graph,i=r.getModel();this.targets.map((function(t){t.getModel().parentId!==i.id(e.activeState&&n.setItemState(r,e.activeState,!1),e.onlyChangeComboSizen.updateCombo(t)n.updateComboTree(t,i.id))n.updateCombo(r)})),this.end(r,t),this.endComparison=!0}},onNodeDropfunction(t){var e=this;if(this.targets&&0!==this.targets.length){this.updatePositions(t);var r,n=this.graph,i=t.item.getModel().comboId;if(i){if(this.activeState){var o=n.findById(i);n.setItemState(o,this.activeState,!1)}this.targets.map((function(t){e.onlyChangeComboSizen.updateCombo(t)i!==t.getID()&&(r=n.findById(i),i!==t.getModel().parentId&&n.updateComboTree(t,i))}))}else this.targets.map((function(t){e.onlyChangeComboSizen.updateCombo(t)t.getModel().comboId&&n.updateComboTree(t)}));this.endComparison=!0,this.end(r,t)}},onDragEnterfunction(t){if(this.origin&&this.validationCombo(t)){var e=t.item,r=this.graph;this.activeState&&r.setItemState(e,this.activeState,!0)}},onDragLeavefunction(t){if(this.origin&&this.validationCombo(t)){var e=t.item,r=this.graph;this.activeState&&r.setItemState(e,this.activeState,!1)}},onDragEndfunction(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.updatePositions(t);var r=this.getParentCombo(e.getModel().parentId),n=this.graph;r&&this.activeState&&n.setItemState(r,this.activeState,!1),this.end(void 0,t)}},endfunction(t,e){var r=this;if(this.origin){var n=this.graph;if(this.delegateShape)n.get(delegateGroup).clear(),this.delegateShape=null;t&&this.activeState&&n.setItemState(t,this.activeState,!1),tthis.targets.map((function(t){r.onlyChangeComboSizen.updateCombo(t)n.updateComboTree(t)})),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traversefunction(t,e){var r=this;if(!1!==e(t)&&t){var n=t.get(combos);Object(p.each)(n,(function(t){r.traverse(t,e)}));var i=t.get(nodes);Object(p.each)(i,(function(t){r.traverse(t,e)}))}},updateCombofunction(t,e){var r=this;this.traverse(t,(function(t){return!t.destroyed&&(r.updateSignleItem(t,e),!0)}))},updateSignleItemfunction(t,e){var r=this.origin,n=this.graph,i=t.getModel(),o=t.get(id);this.point[o](this.point[o]={xi.x,yi.y});var a=e.x-r.x+this.point[o].x,s=e.y-r.y+this.point[o].y;n.updateItem(t,{xa,ys})},getParentCombofunction(t){var e=this.graph;if(t){var r=e.findById(t);if(r)return r}},updateDelegatefunction(t){var e=this.graph;if(this.delegateShape){var r=t.x-this.origin.x+this.originPoint.minX,n=t.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({xr,yn})}else{var i=e.get(delegateGroup),o=null,a=(o=this.targets.length1I(this.targets)this.targets[0].getBBox()).x,s=o.y,u=o.width,c=o.height,h=o.minX,f=o.minY;this.originPoint={xa,ys,widthu,heightc,minXh,minYf};var l=Object(k.__assign)(Object(k.__assign)({},Q.delegateStyle),this.delegateStyle);this.delegateShape=i.addShape(rect,{attrsObject(k.__assign)({widtho.width,heighto.height,xo.x,yo.y},l),namecombo-delegate-shape})}}},Tt=[click,dblclick],Nt={getDefaultCfgfunction(){return{triggerdblclick,relayout!0}},getEventsfunction(){var t,e;return Tt.includes(this.trigger)e=this.trigger(e=dblclick,console.warn(Behavior collapse-expand-group  trigger  'click'  'dblclick')),(t={})[combo+e]=onComboClick,t},onComboClickfunction(t){var e=t.item,r=this.graph,n=this.relayout;if(e&&!e.destroyed&&combo===e.getType()){var i=e.getModel().id;i&&(r.collapseExpandCombo(i),n&&r.get(layout)r.layout()r.refreshPositions())}}},Dt=function(t,e,r){return t=e&&t=r},Bt=function(t,e,r,n){var i=r.x-t.x,o=r.y-t.y,a=e.x-t.x,s=e.y-t.y,u=n.x-r.x,c=n.y-r.y,h=ac-su,f=null;if(hh.001(aa+ss)(uu+cc)){var l=(ic-ou)h,d=(is-oa)h;Dt(l,0,1)&&Dt(d,0,1)&&(f={xt.x+la,yt.y+ls})}return f},Rt=function(t,e){var r=t.x,n=t.y,i=t.width,o=t.height,a=[],s={xr+i2,yn+o2};a.push({xr,yn}),a.push({xr+i,yn}),a.push({xr+i,yn+o}),a.push({xr,yn+o}),a.push({xr,yn});for(var u=null,c=1;ca.length&&!(u=Bt(a[c-1],a[c],s,e));c++);return u},Lt=function(t,e){var r=t.x,n=t.y,i=t.r,o=e.x-r,a=e.y-n;if(Math.sqrt(oo+aa)i)return null;var s=Math.sign(o),u=Math.sign(a),c=Math.atan(ao);return{xr+Math.abs(iMath.cos(c))s,yn+Math.abs(iMath.sin(c))u}},zt=function(t,e){var r=t.rx,n=t.ry,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=Math.atan2(sn,ar);return u0&&(u+=2Math.PI),{xi+rMath.cos(u),yo+nMath.sin(u)}},Ft=function(t,e,r){void 0===r&&(r=1);var n=[t.x,t.y,r];return e&&!isNaN(e[0])(e=[1,0,0,0,1,0,0,0,1]),lt.transformMat3(n,n,e),{xn[0],yn[1]}},Yt=function(t,e,r){void 0===r&&(r=1),e&&!isNaN(e[0])(e=[1,0,0,0,1,0,0,0,1]);var n=ut.invert([],e);n(n=[1,0,0,0,1,0,0,0,1]);var i=[t.x,t.y,r];return lt.transformMat3(i,i,n),{xi[0],yi[1]}},Gt=function(t,e,r){var n=t.x-e.x,i=t.y-e.y,o=t.x-r.x,a=t.y-r.y,s=(t.xt.x-e.xe.x-e.ye.y+t.yt.y)2,u=(t.xt.x-r.xr.x-r.yr.y+t.yt.y)2,c=io-na;return{x-(as-iu)c,y-(nu-os)c}},qt=function(t,e){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(rr+nn)},Xt=function(t,e){var r=[];return t.forEach((function(t){var n=[];t.forEach((function(t){n.push(te)})),r.push(n)})),r},Vt=function(t){for(var e=[],r=t.length,n=0;nr;n+=1){e[n]=[];for(var i=0;ir;i+=1)n===ie[n][i]=00!==t[n][i]&&t[n][i]e[n][i]=t[n][i]e[n][i]=10}for(var o=0;or;o+=1)for(n=0;nr;n+=1)for(i=0;ir;i+=1)e[n][i]e[n][o]+e[o][i]&&(e[n][i]=e[n][o]+e[o][i]);return e},Ht=function(t,e){var r=t.nodes,n=t.edges,i=[],o={};if(!r)throw new Error(invalid nodes data!);return r&&r.forEach((function(t,e){o[t.id]=e;i.push([])})),n&&n.forEach((function(t){var r=t.source,n=t.target,a=o[r],s=o[n];i[a][s]=1,e(i[s][a]=1)})),i},Ut=function(t,e){t.translate(e.x,e.y)},Wt=function(t,e){var r=t.getMatrix();r(r=[1,0,0,0,1,0,0,0,1]);var n=t.getCanvasBBox(),i=e.x-n.minX,o=e.y-n.minY,a=dt(r,[[t,i,o]]);t.setMatrix(a)},Zt=function(t,e){var r=t.getMatrix();r(r=[1,0,0,0,1,0,0,0,1]);var n=e;m()(e)(n=[e,e]),m()(e)&&1===e.length&&(n=[e[0],e[0]]),r=dt(r,[[s,n[0],n[1]]]),t.setMatrix(r)},$t=function(t,e){var r=t.getMatrix();r(r=[1,0,0,0,1,0,0,0,1]),r=dt(r,[[r,e]]),t.setMatrix(r)},Kt=function(t,e,r){for(var n=[],i=0;it;i++)n[i]=0;return r.forEach((function(t){t.source&&(n[e[t.source]]+=1),t.target&&(n[e[t.target]]+=1)})),n};function Qt(t,e,r){return(r[0]-t[0])(e[1]-t[1])==(e[0]-t[0])(r[1]-t[1])&&Math.min(t[0],e[0])=r[0]&&r[0]=Math.max(t[0],e[0])&&Math.min(t[1],e[1])=r[1]&&r[1]=Math.max(t[1],e[1])}var Jt=function(t,e,r){var n=!1,i=t.length;function o(t){return Math.abs(t)1e-60t0-11}if(i=2)return!1;for(var a=0;ai;a++){var s=t[a],u=t[(a+1)%i];if(Qt(s,u,[e,r]))return!0;o(s[1]-r)0!=o(u[1]-r)0&&o(e-(r-s[1])(s[0]-u[0])(s[1]-u[1])-s[0])0&&(n=!n)}return n},te=function(t,e){return!(e.minXt.maxXe.maxXt.minXe.minYt.maxYe.maxYt.minY)},ee=function(t,e){var r=function(t){var e=t.map((function(t){return t[0]})),r=t.map((function(t){return t[1]}));return{minXMath.min.apply(null,e),maxXMath.max.apply(null,e),minYMath.min.apply(null,r),maxYMath.max.apply(null,r)}},n=function(t){for(var e=[],r=t.length,n=0;nr-1;n++){var i=t[n],o=t[n+1];e.push({from{xi[0],yi[1]},to{xo[0],yo[1]}})}if(e.length1){var a=t[0],s=t[r-1];e.push({from{xs[0],ys[1]},to{xa[0],ya[1]}})}return e};if(t.length2e.length2)return!1;var i=r(t),o=r(e);if(!te(i,o))return!1;var a=!1;if(Object(ht.each)(e,(function(e){if(Jt(t,e[0],e[1]))return a=!0,!1})),a)return!0;if(Object(ht.each)(t,(function(t){if(Jt(e,t[0],t[1]))return a=!0,!1})),a)return!0;var s=n(t),u=n(e),c=!1;return Object(ht.each)(u,(function(t){if(function(t,e){var r=!1;return Object(ht.each)(t,(function(t){if(Bt(t.from,t.to,e.from,e.to))return r=!0,!1})),r}(s,t))return c=!0,!1})),c},re=function(){function t(t,e,r,n){this.x1=t,this.y1=e,this.x2=r,this.y2=n}return t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2);return{xt,ye,minXt,minYe,maxXr,maxYn,widthr-t,heightn-e}},t}(),ne=function(t,e){return{top[t.minX,t.minY,t.maxX,t.minY],left[t.minX,t.minY,t.minX,t.maxY],bottom[t.minX,t.maxY,t.maxX,t.maxY],right[t.maxX,t.minY,t.maxX,t.maxY]}[e]},ie=function(t,e){var r=(e.x2-e.x1)(t.y1-e.y1)-(e.y2-e.y1)(t.x1-e.x1),n=(t.x2-t.x1)(t.y1-e.y1)-(t.y2-t.y1)(t.x1-e.x1),i=(e.y2-e.y1)(t.x2-t.x1)-(e.x2-e.x1)(t.y2-t.y1);if(i){var o=ri,a=ni;if(o=0&&o=1&&a=0&&a=1)return o}return Number.POSITIVE_INFINITY},oe=function(t,e){for(var r=[top,left,bottom,right],n=t.getBBox(),i=0,o=[],a=0;a4;a++){var s=ne(n,r[a]),u=s[0],c=s[1],h=s[2],f=s[3];o[a]=Bt({xe.x1,ye.y1},{xe.x2,ye.y2},{xu,yc},{xh,yf}),o[a]&&(i+=1)}return[o,i]},ae=function(t,e){for(var r=[top,left,bottom,right],n=t.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a4;a++){var s=ne(n,r[a]),u=s[0],c=s[1],h=s[2],f=s[3],l=ie(e,new re(u,c,h,f));(l=Math.abs(l-.5))=0&&l=1&&(o+=1,i=lili)}return 0===o-1i},se=function(t){var e=0,r=0;if(t.length0){for(var n=0,i=t;ni.length;n++){var o=i[n];e+=o.x,r+=o.y}e=t.length,r=t.length}return{xe,yr}},ue=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},ce=function(t,e){var r,n=e.x1,i=e.y1,o=e.x2-n,a=e.y2-i,s=t.x-n,u=t.y-i,c=so+ua;r=c=0(c=(s=o-s)o+(u=a-u)a)=00cc(oo+aa);var h=ss+uu-r;return h0&&(h=0),h},he=function(t,e,r){return void 0===r&&(r=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)Math.pow(r,2)},fe=function(t,e){var r=t.xe.x,n=t.xe.x+e.width,i=t.ye.y+e.height,o=t.ye.y;if(!(rnio))return 0;if(i&&!r&&!n)return Math.pow(e.y+e.height-t.y,2);if(o&&!r&&!n)return Math.pow(t.y-e.y,2);if(r&&!i&&!o)return Math.pow(e.x-t.x,2);if(n&&!i&&!o)return Math.pow(e.x+e.width-t.x,2);var a=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),s=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return aa+ss};function le(t,e){for(var r=[],n=0,i=t.length;i-2!en;n+=2){var o=[{x+t[n-2],y+t[n-1]},{x+t[n],y+t[n+1]},{x+t[n+2],y+t[n+3]},{x+t[n+4],y+t[n+5]}];eni-4===no[3]={x+t[0],y+t[1]}i-2===n&&(o[2]={x+t[0],y+t[1]},o[3]={x+t[2],y+t[3]})o[0]={x+t[i-2],y+t[i-1]}i-4===no[3]=o[2]n(o[0]={x+t[n],y+t[n+1]}),r.push([C,(-o[0].x+6o[1].x+o[2].x)6,(-o[0].y+6o[1].y+o[2].y)6,(o[1].x+6o[2].x-o[3].x)6,(o[1].y+6o[2].y-o[3].y)6,o[2].x,o[2].y])}return r}r(95);var de=tnvfr ????????????????u2028u2029,pe=new RegExp(([a-z])[+de+,]((-d.d(e[-+]d+)[+de+],[+de+])+),ig),ge=new RegExp((-d.d(e[-+]d+))[+de+],[+de+],ig);function ve(t){if(!t)return null;if(m()(t))return t;var e={a7,c6,o2,h1,l2,m2,r4,q4,s4,t2,v1,u3,z0},r=[];return String(t).replace(pe,(function(t,n,i){var o=[],a=n.toLowerCase();if(i.replace(ge,(function(t,e){e&&o.push(+e)})),m===a&&o.length2&&(r.push([n].concat(o.splice(0,2))),a=l,n=m===nlL),o===a&&1===o.length&&r.push([n,o[0]]),r===a)r.push([n].concat(o));else for(;o.length=e[a]&&(r.push([n].concat(o.splice(0,e[a]))),e[a]););return})),r}r(67),r(68);var ye=function(t,e){return t&&et.replace({([^{}]+)}g,(function(t,r){if(===t.charAt(0))return t.slice(1);var n=e[r];return 0===n&&(n=0),n}))t},me=function(t){var e=[];if(t.length2)throw new Error(point length must largn than 2, now it's +t.length);for(var r=0,n=t;rn.length;r++){var i=n[r],o=i.x,a=i.y;e.push(o),e.push(a)}var s=le(e);return s.unshift([M,t[0].x,t[0].y]),s},be=function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i={x(1-r)t.x+re.x,y(1-r)t.y+re.y},o=[];ft.normalize(o,[e.x-t.x,e.y-t.y]),0===o.length&&(o=[0,0]);var a=[-o[1]n,o[0]n];return i.x+=a[0],i.y+=a[1],i},xe=function(t,e){var r=t.length;if(!r)return;for(var n=,i=0;ir;i++){var o=t[i];n+=ye(0===iM{x} {y}L{x} {y},o)}return e&&(n+=Z),n},we=function(t){var e=[];return t.forEach((function(t){if(A!==t[0])for(var r=1;rt.length;r+=2)e.push([t[r],t[r+1]]);else{var n=t.length;e.push([t[n-2],t[n-1]])}})),e},Me=function(t){if(t.length2)throw new Error(point length must largn than 2, now it's +t.length);var e=t[0],r=t[1],n=t[t.length-1],i=t[t.length-2];t.unshift(n),t.unshift(i),t.push(e),t.push(r);for(var o=[],a=1;at.length-2;a+=1){var s=t[a-1].x,u=t[a-1].y,c=t[a].x,h=t[a].y,f=t[a+1].x,l=t[a+1].y,d=c+(f-s)6,p=h+(l-u)6,g=f-((a!==t.length-2t[a+2].xf)-c)6,v=l-((a!==t.length-2t[a+2].yl)-h)6;o.push([C,d,p,g,v,f,l])}return o.unshift([M,n.x,n.y]),o},Se=function(t,e){return ft.scale([],ft.normalize([],t),e)},_e=function(t,e){var r=[t[1]-e[1],e[0]-t[0]],n=Math.sqrt(r[0]r[0]+r[1]r[1]);if(0===n)throw new Error(p0 should not be equal to p1);return[r[0]n,r[1]n]},ke=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function Oe(t,e){if(!tt.length1)return;if(1===t.length)return function(t){var r=[t[0][0],t[0][1]-e],n=[t[0][0],t[0][1]+e];returnM +r+ A +e+,+e+,0,0,0,+n+ A +e+,+e+,0,0,0,+r}(t);if(2===t.length)return function(t){var r=ft.scale([],_e(t[0],t[1]),e),n=ft.scale([],r,-1),i=ft.add([],t[0],r),o=ft.add([],t[1],r),a=ft.add([],t[1],n),s=ft.add([],t[0],n);returnM +i+ L +o+ A +[e,e,0,0,0,a].join(,)+ L +s+ A +[e,e,0,0,0,i].join(,)}(t);for(var r=new Array(t.length),n=0;nr.length;++n){var i=0===nt[t.length-1]t[n-1],o=t[n],a=ft.scale([],_e(i,o),e);r[n]=[ft.add([],i,a),ft.add([],o,a)]}var s=A +[e,e,0,0,0,].join(,);return(r=r.map((function(t,e){var n=;return 0===e&&(n=M +r[r.length-1][1]+ ),n+=s+t[0]+ L +t[1]}))).join( )}function Ee(t,e){var r,n,i,o=t.length;if(!to1)return;if(1===o)return n=[(r=t)[0][0],r[0][1]-e],i=[r[0][0],r[0][1]+e],M +n+ A +[e,e,0,0,0,i].join(,)+ A +[e,e,0,0,0,n].join(,);if(2===o)return function(t){var r=ke(t[0],t[1]),n=Se(r,e),i=ft.add([],t[0],ft.scale([],n,-1)),o=ft.add([],t[1],n),a=1.2e,s=Se(ft.normalize([],r),a),u=ft.scale([],s,-1),c=ft.add([],i,u),h=ft.add([],o,u),f=ft.add([],i,s);returnM +i+ C +[c,h,o].join(,)+ S +[f,i].join(,)+ Z}(t);for(var a=t.map((function(e,r){var n=t[(r+1)%o];return{pe,vft.normalize([],ke(e,n))}})),s=0;sa.length;++s){var u=s0s-1o-1,c=ft.normalize([],ft.add([],a[u].v,ft.scale([],a[s].v,-1)));a[s].p=ft.add([],a[s].p,ft.scale([],c,e))}return a.map((function(t){var e=t.p;return{xe[0],ye[1]}}))}var je=[drag,shift,ctrl,alt,control],Ce=[click,drag],Ae=[shift,ctrl,control,alt,meta,void 0],Pe=[shift,ctrl,alt,control],Ie={drag-canvasB,zoom-canvaspt,drag-nodeJ,activate-relations{getDefaultCfgfunction(){return{triggermouseenter,activeStateactive,inactiveStateinactive,resetSelected!1,shouldUpdatefunction(){return!0}}},getEventsfunction(){returnmouseenter===this.get(trigger){nodemouseentersetAllItemStates,nodemouseleaveclearActiveState}{nodeclicksetAllItemStates,canvasclickclearAllItemStates}},setAllItemStatesfunction(t){var e=t.item,r=this.graph;if(this.item=e,this.shouldUpdate(t.item,{eventt,actionactivate})){for(var n=this.activeState,i=this.inactiveState,o=r.getNodes(),a=r.getEdges(),s=o.length,u=a.length,c=0;cs;c++){var h=o[c],f=h.hasState(selected);this.resetSelected&&f&&r.setItemState(h,selected,!1),r.setItemState(h,n,!1),i&&r.setItemState(h,i,!0)}for(c=0;cu;c++){var l=a[c];r.setItemState(l,n,!1),i&&r.setItemState(l,i,!0)}i&&r.setItemState(e,i,!1),r.setItemState(e,n,!0);var d=e.getEdges(),p=d.length;for(c=0;cp;c++){var g=void 0;g=(l=d[c]).getSource()===el.getTarget()l.getSource(),i&&r.setItemState(g,i,!1),r.setItemState(g,n,!0),r.setItemState(l,i,!1),r.setItemState(l,n,!0),l.toFront()}r.emit(afteractivaterelations,{itemt.item,actionactivate})}},clearActiveStatefunction(t){var e=this.get(graph);if(this.shouldUpdate(t.item,{eventt,actiondeactivate})){var r=this.activeState,n=this.inactiveState,i=e.get(autoPaint);e.setAutoPaint(!1);for(var o=e.getNodes(),a=e.getEdges(),s=o.length,u=a.length,c=0;cs;c++){var h=o[c];e.clearItemStates(h,[r,n])}for(c=0;cu;c++){var f=a[c];e.clearItemStates(f,[r,n,deactivate])}e.paint(),e.setAutoPaint(i),e.emit(afteractivaterelations,{itemt.itemthis.get(item),actiondeactivate})}},clearAllItemStatesfunction(t){var e=this.graph;if(this.shouldUpdate(t.item,{eventt,actiondeactivate})){for(var r=this.activeState,n=this.inactiveState,i=e.getNodes(),o=e.getEdges(),a=i.length,s=o.length,u=0;ua;u++){var c=i[u];e.clearItemStates(c,[r,n])}for(u=0;us;u++){var h=o[u];e.clearItemStates(h,[r,n,deactivate])}e.emit(afteractivaterelations,{itemt.itemthis.get(item),actiondeactivate})}}},brush-selectit,click-selectat,lasso-select{getDefaultCfgfunction(){return{delegateStyle{fill#EEF6FF,fillOpacity.4,stroke#DDEEFE,lineWidth1},onSelectfunction(){},onDeselectfunction(){},selectedStateselected,triggershift,includeEdges!0,selectedEdges[],selectedNodes[]}},getEventsfunction(){return je.indexOf(this.trigger.toLowerCase())-1(this.trigger=shift,console.warn(Behavior lasso-select  trigger  'drag''shift''ctrl'  'alt')),drag===this.trigger{dragstartonDragStart,dragonDragMove,dragendonDragEnd,canvasclickclearStates}{dragstartonDragStart,dragonDragMove,dragendonDragEnd,keyuponKeyUp,keydownonKeyDown,canvasclickclearStates}},onDragStartfunction(t){var e=this.lasso;t.item(drag===this.triggerthis.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),e(e=this.createLasso()),this.dragging=!0,this.originPoint={xt.x,yt.y},this.points.push(this.originPoint),e.show())},onDragMovefunction(t){this.dragging&&(drag===this.triggerthis.keydown)&&(this.points.push({xt.x,yt.y}),this.updateLasso(t))},onDragEndfunction(t){(this.lassothis.dragging)&&(drag===this.triggerthis.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPathfunction(){var t=this.points,e=[];return t.length&&(t.forEach((function(t,r){0===re.push([M,t.x,t.y])e.push([L,t.x,t.y])})),e.push([L,t[0].x,t[0].y])),e},clearStatesfunction(){var t=this.graph,e=this.selectedState,r=t.findAllByState(node,e),n=t.findAllByState(edge,e);r.forEach((function(r){return t.setItemState(r,e,!1)})),n.forEach((function(r){return t.setItemState(r,e,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit(nodeselectchange,{selectedItems{nodes[],edges[]},select!1})},getSelectedItemsfunction(){var t=this,e=this.graph,r=this.shouldUpdate,n=this.points.map((function(t){return[e.getCanvasByPoint(t.x,t.y).x,e.getCanvasByPoint(t.x,t.y).y]})),i=this.selectedState,o=[],a=[];e.getNodes().forEach((function(t){if(function(t,e){var r,n=t.getKeyShape();if(path===t.get(type))r=we(n.attr(path));else{var i=n.getCanvasBBox();r=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return ee(e,r)}(t,n)&&r(t,select)){o.push(t);var s=t.getModel();a.push(s.id),e.setItemState(t,i,!0)}}));var s=[];this.includeEdges&&o.forEach((function(n){n.getOutEdges().forEach((function(n){var i=n.getModel(),o=i.source,u=i.target;a.includes(o)&&a.includes(u)&&r(n,select)&&(s.push(n),e.setItemState(n,t.selectedState,!0))}))})),this.selectedEdges=s,this.selectedNodes=o,this.onSelect&&this.onSelect(o,s),e.emit(nodeselectchange,{selectedItems{nodeso,edgess},select!0})},createLassofunction(){var t=this.graph.get(delegateGroup).addShape(path,{attrsObject(k.__assign)({path[]},this.delegateStyle),capture!1,namelasso-shape});return this.lasso=t,this.points=[],t},updateLassofunction(t){this.lasso.attr({paththis.getLassoPath()})},onKeyDownfunction(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()this.keydown=!0this.keydown=!1)},onKeyUpfunction(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},tooltipxt,edge-tooltipwt,drag-group_t,drag-node-with-groupOt,collapse-expand-groupjt,collapse-expandAt,drag-comboIt,collapse-expand-comboNt,create-edge{getDefaultCfgfunction(){return{triggerclick,keyvoid 0,edgeConfig{}}},getEventsfunction(){var t;return Ce.indexOf(this.trigger.toLowerCase())-1(this.trigger=click,console.warn(Behavior create-edge  trigger  'click''drag')),this.key&&-1===Ae.indexOf(this.key.toLowerCase())&&(this.trigger=void 0,console.warn(Behavior create-edge  key  'shift''ctrl''alt''control' undefined)),drag===this.triggert={nodedragstartonClick,combodragstartonClick,dragupdateEndPoint,nodedroponClick,combodroponClick,dragendonDragEnd}click===this.trigger&&(t={nodeclickonClick,mousemoveupdateEndPoint,edgeclickcancelCreating,canvasclickcancelCreating,comboclickonClick}),this.key&&(t.keydown=onKeyDown,t.keyup=onKeyUp),t},onDragEndfunction(t){if(!this.keythis.keydown){var e=t.item;e&&e.getID()!==this.source&&node===e.getType()this.cancelCreating({itemthis.edge,xt.x,yt.y})}},onClickfunction(t){if(!this.keythis.keydown){var e=t.item,r=this.graph,n=e.getModel();if(this.addingEdge&&this.edge){if(!this.shouldEnd.call(this,t))return;var i={targetn.id};this.source===n.id&&(i.type=loop),r.emit(beforecreateedge,{}),r.updateItem(this.edge,i),r.emit(aftercreateedge,{edgethis.edge}),this.edge.getKeyShape().set(capture,!0),this.edge=null,this.addingEdge=!1}else{if(!this.shouldBegin.call(this,t))return;this.edge=r.addItem(edge,Object(k.__assign)({sourcen.id,targetn.id},this.edgeConfig),!1),this.source=n.id,this.addingEdge=!0,this.edge.getKeyShape().set(capture,!1)}}},updateEndPointfunction(t){if(!this.keythis.keydown){var e={xt.x,yt.y};this.graph.findById(this.source)this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{targete},!1)this.addingEdge=!1}},cancelCreatingfunction(t){if(!this.keythis.keydown){var e=this.graph,r=t.item;if(this.addingEdge&&t.target&&t.target.isCanvas&&t.target.isCanvas())return e.removeItem(this.edge,!1),this.edge=null,void(this.addingEdge=!1);if(this.addingEdge&&this.edge===r){var n=!0;if(!e.get(groupByTypes))for(var i=t.x,o=t.y,a=e.getNodes(),s=a.length,u=0;us;u++){var c=a[u],h=c.getModel(),f=c.getBBox();if(i=f.maxX&&i=f.minX&&o=f.maxY&&o=f.minY){if(!this.shouldEnd.call(this,{xt.x,yt.y,canvasXt.canvasX,canvasYt.canvasY,clientXt.clientX,clientYt.clientY,itemc}))return;e.emit(beforecreateedge,{}),e.updateItem(this.edge,{targeth.id}),e.emit(aftercreateedge,{edgethis.edge}),n=!1;break}}n&&e.removeItem(this.edge,!1),this.edge=null,this.addingEdge=!1}}},onKeyDownfunction(t){var e=t.key;e&&(e.toLowerCase()===this.key.toLowerCase()this.keydown=!0this.keydown=!1)},onKeyUpfunction(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}},shortcuts-call{getDefaultCfgfunction(){return{triggerctrl,combinedKey1,functionNamefitView,functionParams[]}},getEventsfunction(){return Pe.indexOf(this.trigger.toLowerCase())-1(this.trigger=ctrl,console.warn(Behavior shortcuts-fit-view  trigger  '+this.trigger+'  'drag''shift''ctrl'  'alt')),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyuponKeyUp,keydownonKeyDown}},onKeyDownfunction(t){var e=t.key;if(e){var r=this.trigger.toLowerCase(),n=e.toLowerCase();this.triggerKeydown(this.triggerKeydown=n===rcontrol===n&&ctrl===rctrl===n&&control===r);var i=this.graph;if(!i[this.functionName])return console.warn(Behavior shortcuts-fit-view  functionName  '+this.functionName+'  Graph ),{};if(!this.triggerKeydownthis.combinedKey){var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===ocontrol===n&&ctrl===octrl===n&&control===o)&&(this.functionParams&&this.functionParams.lengthi[this.functionName].apply(i,this.functionParams)i[this.functionName]())}else this.functionParams&&this.functionParams.lengthi[this.functionName].apply(i,this.functionParams)i[this.functionName]()}},onKeyUpfunction(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}}};d()(Ie,(function(t,e){v.registerBehavior(e,t)}));var Te=v,Ne=r(99),De=r(36),Be=r.n(De),Re=r(42),Le=r.n(Re),ze=r(22),Fe=r(69),Ye=r.n(Fe),Ge=function(){function t(t){this.graph=t,this.destroyed=!1,this.modes=t.get(modes){default[]},this.formatModes(),this.mode=t.get(defaultMode)default,this.currentBehaves=[],this.setMode(this.mode)}return t.prototype.formatModes=function(){var t=this.modes;d()(t,(function(t){d()(t,(function(e,r){_()(e)&&(t[r]={typee})}))}))},t.prototype.setBehaviors=function(t){var e,r=this.graph,n=this.modes[t],i=[];d()(n[],(function(t){var n=v.getBehavior(t.type);n&&(e=new n(t))&&(e.bind(r),i.push(e))})),this.currentBehaves=i},t.mergeBehaviors=function(t,e){return d()(e,(function(e){t.indexOf(e)0&&(_()(e)&&(e={typee}),t.push(e))})),t},t.filterBehaviors=function(t,e){var r=[];return t.forEach((function(t){var n=;n=_()(t)tt.type,e.indexOf(n)0&&r.push(t)})),r},t.prototype.setMode=function(t){var e=this.modes,r=this.graph,n=t;e[n]&&(r.emit(beforemodechange,{modet}),d()(this.currentBehaves,(function(t){t.unbind(r)})),this.setBehaviors(n),r.emit(aftermodechange,{modet}),this.mode=t)},t.prototype.getMode=function(){return this.mode},t.prototype.manipulateBehaviors=function(e,r,n){var i,o=this;if(i=m()(e)e[e],m()(r))return d()(r,(function(e){o.modes[e]o.modes[e]=nt.mergeBehaviors(o.modes[e][],i)t.filterBehaviors(o.modes[e][],i)n&&(o.modes[e]=i)})),this;var a=r;return r(a=this.mode),this.modes[a]n&&(this.modes[a]=i),this.modes[a]=nt.mergeBehaviors(this.modes[a][],i)t.filterBehaviors(this.modes[a][],i),this.setMode(this.mode),this},t.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},t}(),qe=function(){function t(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}return t.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,r=this.graph.get(width),n=e.get(height);return{x(r-t[1]-t[3])2+t[3],y(n-t[0]-t[2])2+t[0]}},t.prototype.fitCenter=function(){var t=this.graph,e=t.get(group);e.resetMatrix();var r=e.getCanvasBBox();if(0!==r.width&&0!==r.height){var n=this.getViewCenter(),i=r.x+r.width2,o=r.y+r.height2;t.translate(n.x-i,n.y-o)}},t.prototype.fitView=function(){var t=this.graph,e=this.getFormatPadding(),r=t.get(width),n=t.get(height),i=t.get(group);i.resetMatrix();var o=i.getCanvasBBox();if(0!==o.width&&0!==o.height){var a=this.getViewCenter(),s=o.x+o.width2,u=o.y+o.height2;t.translate(a.x-s,a.y-u);var c=(r-e[1]-e[3])o.width,h=(n-e[0]-e[2])o.height,f=c;ch&&(f=h),t.zoom(f,a)}},t.prototype.getFormatPadding=function(){var t=this.graph.get(fitViewPadding);return j(t)},t.prototype.focusPoint=function(t,e,r){var n=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),a=this.graph.get(group).getMatrix();if(a(a=[1,0,0,0,1,0,0,0,1]),e){var s=(o.x-t.x)a[0],u=(o.y-t.y)a[4],c=0,h=0,f=0,l=0;this.graph.get(canvas).animate((function(t){f=st,l=ut,n.graph.translate(f-c,l-h),c=f,h=l}),Object(k.__assign)({},r))}else this.graph.translate((o.x-t.x)a[0],(o.y-t.y)a[4])},t.prototype.getPointByCanvas=function(t,e){var r=this.graph.get(group).getMatrix();return r(r=[1,0,0,0,1,0,0,0,1]),Yt({xt,ye},r)},t.prototype.getPointByClient=function(t,e){var r=this.graph.get(canvas).getPointByClient(t,e);return this.getPointByCanvas(r.x,r.y)},t.prototype.getClientByPoint=function(t,e){var r=this.graph.get(canvas),n=this.getCanvasByPoint(t,e),i=r.getClientByPoint(n.x,n.y);return{xi.x,yi.y}},t.prototype.getCanvasByPoint=function(t,e){var r=this.graph.get(group).getMatrix();return r(r=[1,0,0,0,1,0,0,0,1]),Ft({xt,ye},r)},t.prototype.focus=function(t,e,r){_()(t)&&(t=this.graph.findById(t));var n=t.get(group).getMatrix();n(n=[1,0,0,0,1,0,0,0,1]),t&&this.focusPoint({xn[6],yn[7]},e,r)},t.prototype.changeSize=function(t,e){var r=this.graph;if(!M()(t)!M()(e))throw Error(invalid canvas width & height, please make sure width & height type is number);r.set({widtht,heighte}),r.get(canvas).changeSize(t,e),r.get(plugins).forEach((function(n){if(n.get(gridContainer)){var i=r.get(minZoom);vt()(n.get(container),{widtht+px,heighte+px}),vt()(n.get(gridContainer),{widthti+px,heightei+px,left0,top0})}}))},t.prototype.destroy=function(){this.graph=null,this.destroyed=!1},t}(),Xe=r(57),Ve=r.n(Xe),He=r(50),Ue=r.n(He),We=function(){function t(t){this.preItem=null,this.graph=t,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return t.prototype.initEvents=function(){var t=this.graph,e=this.extendEvents,r=t.get(canvas),n=r.get(el),i=Ue()(this,onCanvasEvents),o=Ue()(this,onExtendEvents),a=Ue()(this,onWheelEvent);r.on(,i),this.canvasHandler=i,e.push(Ve()(n,DOMMouseScroll,a)),e.push(Ve()(n,mousewheel,a)),undefined!=typeof window&&(e.push(Ve()(window,keydown,o)),e.push(Ve()(window,keyup,o)),e.push(Ve()(window,focus,o)))},t.getItemRoot=function(t){for(;t&&!t.get(item);)t=t.get(parent);return t},t.prototype.onCanvasEvents=function(e){var r=this.graph,n=r.get(canvas),i=e.target,o=e.type;e.canvasX=e.x,e.canvasY=e.y;var a={xe.canvasX,ye.canvasY},s=r.get(group).getMatrix();if(s(s=[1,0,0,0,1,0,0,0,1]),A(s)&&(a=r.getPointByClient(e.clientX,e.clientY)),e.x=a.x,e.y=a.y,e.currentTarget=r,i===n)returnmousemove===o&&this.handleMouseMove(e,canvas),e.target=n,e.item=null,r.emit(o,e),void r.emit(canvas+o,e);var u=t.getItemRoot(i);if(u){var c=u.get(item);if(!c.destroyed){var h=c.getType();if(e.target=i,e.item=c,e.canvasX===e.x&&e.canvasY===e.y){var f=r.getCanvasByPoint(e.x,e.y);e.canvasX=f.x,e.canvasY=f.y}r.emit(o,e),e.name&&!e.name.includes()r.emit(h++o,e)r.emit(e.name,e),dragstart===o&&(this.dragging=!0),dragend===o&&(this.dragging=!1),mousemove===o&&this.handleMouseMove(e,h)}}else r.emit(o,e)},t.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},t.prototype.onWheelEvent=function(t){x()(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit(wheel,t)},t.prototype.handleMouseMove=function(t,e){var r=this.graph,n=this.preItem,i=r.get(canvas),o=t.target===inullt.item;t=C(t),n&&n!==o&&!n.destroyed&&(t.item=n,this.emitCustomEvent(n.getType(),mouseleave,t),this.dragging&&this.emitCustomEvent(n.getType(),dragleave,t)),o&&n!==o&&(t.item=o,this.emitCustomEvent(e,mouseenter,t),this.dragging&&this.emitCustomEvent(e,dragenter,t)),this.preItem=o},t.prototype.emitCustomEvent=function(t,e,r){r.type=e,this.graph.emit(t++e,r)},t.prototype.destroy=function(){var t=this.graph,e=this.canvasHandler,r=this.extendEvents;t.get(canvas).off(,e),d()(r,(function(t){t.remove()})),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},t}(),Ze=r(98),$e=r.n(Ze),Ke=r(35),Qe=r.n(Ke),Je=r(49),tr=r.n(Je),er=r(130),rr=r.n(er),nr={ .3329986572265625,a.5589996337890625,A.6569992065429687,b.58599853515625,B.6769989013671875,c.5469985961914062,C.7279998779296875,d.58599853515625,D.705999755859375,e.554998779296875,E.63699951171875,f.37299957275390627,F.5769989013671875,g.5909988403320312,G.7479995727539063,h.555999755859375,H.7199996948242188,i.255999755859375,I.23699951171875,j.26699981689453123,J.5169998168945312,k.5289993286132812,K.6899993896484375,l.23499908447265624,L.5879989624023437,m.854998779296875,M.8819992065429687,n.5589996337890625,N.7189987182617188,o.58599853515625,O.7669998168945312,p.58599853515625,P.6419998168945312,q.58599853515625,Q.7669998168945312,r.3649993896484375,R.6759994506835938,s.504998779296875,S.6319992065429687,t.354998779296875,T.6189987182617187,u.5599990844726562,U.7139999389648437,v.48199920654296874,V.6389999389648438,w.754998779296875,W.929998779296875,x.5089996337890625,X.63699951171875,y.4959991455078125,Y.66199951171875,z.48699951171875,Z.6239990234375,0.6,1.40099945068359377,2.6,3.6,4.6,5.6,6.6,7.5469985961914062,8.6,9.6,[.3329986572265625,].3329986572265625,,.26399993896484375,..26399993896484375,;.26399993896484375,.26399993896484375,{.3329986572265625,}.3329986572265625,.5,.19499969482421875,=.604998779296875,+.604998779296875,-.604998779296875,_.5,`.3329986572265625, ~.8329986572265625,!.3329986572265625,@.8579986572265625,#.6,$.6,%.9699996948242188,^.517999267578125,&.7259994506835937,.505999755859375,(.3329986572265625,).3329986572265625,.604998779296875,.604998779296875,.5,.53699951171875},ir=Math.PI,or=Math.sin,ar=Math.cos,sr=or(ir8),ur=ar(ir8),cr=function(t,e){var r=t.getBBox(),n={xr.minX,yr.minY},i={xr.maxX,yr.maxY};if(e){var o=e.getMatrix();o(o=[1,0,0,0,1,0,0,0,1]),n=Ft(n,o),i=Ft(i,o)}var a=n.x,s=n.y,u=i.x,c=i.y;return{xa,ys,minXa,minYs,maxXu,maxYc,widthu-a,heightc-s}},hr=function(t){var e=t.sourceNodet.targetNode,r=e.get(group).getMatrix();r(r=[1,0,0,0,1,0,0,0,1]);var n=e.getKeyShape().getBBox(),i=t.loopCfg{},o=i.dist2Math.max(n.width,n.height),a=i.positionQ.defaultLoopPosition,s=[r[6],r[7]],u=[t.startPoint.x,t.startPoint.y],c=[t.endPoint.x,t.endPoint.y],h=n.height2,f=n.height2,l=hsr,d=hur,p=fsr,g=fur;if(u[0]===c[0]&&u[1]===c[1]){switch(a){casetopu=[s[0]-l,s[1]-d],c=[s[0]+p,s[1]-g];break;casetop-righth=n.height2,f=n.width2,u=[s[0]+(l=hsr),s[1]-(d=hur)],c=[s[0]+(g=fur),s[1]-(p=fsr)];break;caserighth=n.width2,f=n.width2,u=[s[0]+(d=hur),s[1]-(l=hsr)],c=[s[0]+(g=fur),s[1]+(p=fsr)];break;casebottom-righth=n.width2,f=n.height2,u=[s[0]+(d=hur),s[1]+(l=hsr)],c=[s[0]+(p=fsr),s[1]+(g=fur)];break;casebottomh=n.height2,f=n.height2,u=[s[0]+(l=hsr),s[1]+(d=hur)],c=[s[0]-(p=fsr),s[1]+(g=fur)];break;casebottom-lefth=n.height2,f=n.width2,u=[s[0]-(l=hsr),s[1]+(d=hur)],c=[s[0]-(g=fur),s[1]+(p=fsr)];break;caselefth=n.width2,f=n.width2,u=[s[0]-(d=hur),s[1]+(l=hsr)],c=[s[0]-(g=fur),s[1]-(p=fsr)];break;casetop-lefth=n.width2,f=n.height2,u=[s[0]-(d=hur),s[1]-(l=hsr)],c=[s[0]-(p=fsr),s[1]-(g=fur)];break;defaulth=n.width2,f=n.width2,u=[s[0]-(l=hsr),s[1]-(d=hur)],c=[s[0]+(p=fsr),s[1]-(g=fur)]}if(!1===i.clockwise){var v=[u[0],u[1]];u=[c[0],c[1]],c=[v[0],v[1]]}}var y=[u[0]-s[0],u[1]-s[1]],m=(h+o)h,b=(f+o)f;!1===i.clockwise&&(m=(f+o)f,b=(h+o)h);var x=ft.scale([],y,m),w=[s[0]+x[0],s[1]+x[1]],M=[c[0]-s[0],c[1]-s[1]],S=ft.scale([],M,b),_=[s[0]+S[0],s[1]+S[1]];return t.startPoint={xu[0],yu[1]},t.endPoint={xc[0],yc[1]},t.controlPoints=[{xw[0],yw[1]},{x_[0],y_[1]}],t},fr=function(t,e,r,n,i){var o=[],a=t.getPoint(e);if(null===a)return{x0,y0,angle0};if(e1e-4)o=t.getStartTangent().reverse();else if(e.9999)o=t.getEndTangent();else{var s=t.getPoint(e+1e-4);o.push([a.x,a.y]),o.push([s.x,s.y])}var u=Math.atan2(o[1][1]-o[0][1],o[1][0]-o[0][0]);if(u0&&(u+=2ir),r&&(a.x+=ar(u)r,a.y+=or(u)r),n){var c=u-ir2;u.5ir&&u1.5ir&&(c-=ir),a.x+=ar(c)n,a.y+=or(c)n}var h={xa.x,ya.y,angleu};return i(u.5ir&&u1.5ir&&(u-=ir),Object(k.__assign)({rotateu},h))h},lr=function(t,e){if(!1===e(t))return!1;if(t&&t.children)for(var r=t.children.length-1;r=0;r--)if(!lr(t.children[r],e))return!1;return!0},dr=function(t,e){if(t&&t.children)for(var r=t.children.length-1;r=0;r--)if(!dr(t.children[r],e))return;return!1!==e(t)},pr=function(t,e){function==typeof e&&lr(t,e)},gr=function(t,e){function==typeof e&&dr(t,e)},vr=function(t,e){var r={x10,y10},n={x-10,y-10},i=x,o=y;e&&[V,TB,BT].indexOf(e)=0&&(o=x,i=y);var a=0;pr(t,(function(t){return a++,t.xn.x&&(n.x=t.x),t.xr.x&&(r.x=t.x),t.yn.y&&(n.y=t.y),t.yr.y&&(r.y=t.y),!0}));var s=2ira,u=n[o]-r[o];return 0===upr(t,(function(e){var n=(e[o]-r[o])u(2ir-s)+s,a=Math.abs(x===ie.x-t.xe.y-t.y);return e.x=aMath.cos(n),e.y=aMath.sin(n),!0})),t},yr=function(t,e){return e(nr[t]1)},mr=function(t,e){var r=0,n=new RegExp([-]+);return t.split().forEach((function(t){n.test(t)r+=er+=yr(t,e)})),[r,e]},br=function(t,e){var r=[],n={},i={};t.forEach((function(t){i[t.id]=t})),t.forEach((function(t,e){var o=Object(ht.clone)(t);o.itemType=combo,o.children=void 0,o.parentId===o.id(console.warn(The parentId for combo +o.id+ can not be the same as the combo's id),delete o.parentId)o.parentId&&!i[o.parentId]&&(console.warn(The parent combo for combo +o.id+ does not exist!),delete o.parentId);var a=n[o.id];if(a){if(o.children=a.children,n[o.id]=o,!(a=o).parentId)return void r.push(a);var s=n[a.parentId];if(s)s.childrens.children.push(o)s.children=[o];else{var u={ida.parentId,children[a]};n[a.parentId]=u,n[o.id]=o}}else{if(Object(ht.isString)(t.parentId))if(u=n[t.parentId])u.childrenu.children.push(o)u.children=[o],n[o.id]=o;else{var c={idt.parentId,children[o]};n[c.id]=c,n[o.id]=o}else r.push(o),n[o.id]=o}}));var o={};return(e[]).forEach((function(t){o[t.id]=t;var e=n[t.comboId];if(e){var r={idt.id,comboIdt.comboId};e.childrene.children.push(r)e.children=[r],r.itemType=node,n[t.id]=r}})),r.forEach((function(t){t.depth=0,lr(t,(function(t){var e,r=n[t.id].itemType;e=node===rn[t.comboId]n[t.parentId],t.depth=enode===re.depth+1e.depth+20;var i=o[t.id];return i&&(i.depth=t.depth),!0}))})),r},xr=function(t,e,r){var n,i=t,o={root{childrent}},a=!1,s=root;(t[]).forEach((function(t){if(!a)return t.id===e(n=t,combo===t.itemTypen.parentId=rn.comboId=r,void(a=!0))void pr(t,(function(t){return o[t.id]={childrent.children},i=o[t.parentIdt.comboIdroot].children,!t!t.removed&&e!==t.id!i(s=t.parentIdt.comboIdroot,n=t,combo===t.itemTypen.parentId=rn.comboId=r,a=!0,!1)}))}));var u=(i=o[s].children)i.indexOf(n)-1;if(u-1&&i.splice(u,1),a(n={ide,itemTypenode,comboIdr},o[e]={childrenvoid 0}),e){var c=!1;if(r){var h=0;(t[]).forEach((function(t){cpr(t,(function(t){return r!==t.id(c=!0,t.childrent.children.push(n)t.children=[n],h=t.depth,node===n.itemTypen.depth=h+2n.depth=h+1,!1)}))}))}else r&&cnode===n.itemTypet.push(n);var f=n.depth;pr(n,(function(t){returnnode===t.itemTypef+=2f+=1,t.depth=f,!0}))}return t},wr=function(t,e){var r={minX10,minY10,maxX-10,maxY-10,xvoid 0,yvoid 0,widthvoid 0,heightvoid 0,centerXvoid 0,centerYvoid 0};return t&&0!==t.length(t.forEach((function(t){var n=e.findById(t.id);if(n&&n.isVisible()){n.set(bboxCanvasCache,void 0);var i=n.getCanvasBBox();i.x&&r.minXi.minX&&(r.minX=i.minX),i.y&&r.minYi.minY&&(r.minY=i.minY),i.x&&r.maxXi.maxX&&(r.maxX=i.maxX),i.y&&r.maxYi.maxY&&(r.maxY=i.maxY)}})),r.x=(r.minX+r.maxX)2,r.y=(r.minY+r.maxY)2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)2,r.centerY=(r.minY+r.maxY)2,Object.keys(r).forEach((function(t){r[t]!==10&&r[t]!==-10(r[t]=void 0)})),r)r},Mr=function(t){var e=t.group,r=t.height,n=t.width,i=t.x,o=t.y,a=e.get(canvas),s=a.get(width),u=a.get(height),c={start{x0,y0},end{x0,y0}};return c.start.x=is,c.start.y=ou,c.end.x=(i+n)s,c.end.y=(o+r)u,c};function Sr(t){if(string!=typeof t)return t;var e=function(t){if(string!=typeof t)return t;try{return JSON.parse(t.trim())}catch(e){return t.trim()}},r=e(t);if(string!=typeof r)return r;for(var n=function(t){return t[t.length-1]},i=t.trim(),o=[],a=[],s=function(){for(var t=[],e=0;earguments.length;e++)t[e]=arguments[e];return t.some((function(t){return n(a)===t}))},u=null,c=0,h=;ci.length;){var f=i[c],l=s('',');if(lf.trim()){var d====i[c-1],p=s(}),g=s(]),v=s(,),y=n(o);if(l)if(n(a)!==fd)h+=f;else{a.pop();var m=e(h);y.push(m),u=m,h=}else if(g&&,===f)h&&(y.push(e(h)),h=);else if(p&&===f)a.push(,),h&&(y.push(h),h=);else if(v&&,===f)h&&(y.push(e(h)),h=),a.pop();else if(}===f&&(pv)){h&&(y.push(e(h)),h=),v&&a.pop();for(var b={},x=1;xy.length;x+=2)b[y[x-1]]=y[x];o.pop(),o.length&&n(o).push(b),a.pop(),u=b}else]===f&&g(h&&(y.push(e(h)),h=),o.pop(),o.length&&n(o).push(y),a.pop(),u=y){===f(o.push([]),a.push(}))[===f(o.push([]),a.push(]))''===fa.push('')'===fa.push(')h+=f;c+=1}else c+=1}return uh}function _r(t,e){var r;void 0===e&&(e={x0,y0});var n=Object(k.__assign)({x0,y0,width0,height0},e);if(null===(r=t.children)void 0===rvoid 0r.length){var i=t.attrs,o=void 0===i{}i,a=o.marginTop,s=Object(k.__assign)({},e);a&&(s.y+=a);for(var u=0;ut.children.length;u++){t.children[u].attrs.key=(o.keyroot)+ -+u+ ;var c=_r(t.children[u],s);if(c.bbox){var h=c.bbox;inline===c.attrs.nexts.x+=c.bbox.widths.y+=c.bbox.height,h.width+h.xn.width&&(n.width=h.width+h.x),h.height+h.yn.height&&(n.height=h.height+h.y)}}}return t.bbox=function(t,e,r){var n,i,o=t.attrs,a=void 0===o{}o,s={xe.x0,ye.y0,widthr.width0,heightr.height0};switch(t.type){casemakercasecirclea.r&&(i=2a.r,n=2a.r);break;casetexta.text&&(i=mr(a.text,a.fontSize12)[0],n=16,s.y+=n,s.height=n,s.width=i,t.attrs=Object(k.__assign)({fontSize12,fill#000},a));break;defaulta.width&&(i=a.width),a.height&&(n=a.height)}return n=0&&(s.height=n),i=0&&(s.width=i),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(t,e,n),t.attrs=Object(k.__assign)(Object(k.__assign)({},t.attrs),t.bbox),t}function kr(t){var e={},r=function(e){var r=function(t){return function(e){for(var r=t.length,n=[],i=0,o=;ir;)if({===t[i]&&{===t[i+1])n.push(o),o=,i+=2;else if(}===t[i]&&}===t[i+1]){if(n.length){var a=n.pop();o=rr()(e,o,a.endsWith(=)'{'+o+'}'o),n.push(a+o)}i+=2,o=}else o+=t[i],i+=1;return n.push(o),n.map((function(t,e){return n[e-1]&&n[e-1].endsWith(=)'{'+t+'}'t})).join()}}(function==typeof tt(e)t)(e),n=document.createElement(div);n.innerHTML=r;var i=_r(function t(e,r){var n={},i=e.getAttributeNames&&e.getAttributeNames()[],o=e.children&&Array.from(e.children).map((function(e){return t(e,r)})),a={},s=e.tagNamee.tagName.toLowerCase()group;returntext===s&&(n.text=e.innerText),a.type=s,img===s&&(a.type=image),Array.from(i).forEach((function(t){var r=t.split(-).reduce((function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})),i=e.getAttribute(t);try{if(style===rattrs===r){var o=Sr(i);n=Object(k.__assign)(Object(k.__assign)({},n),o)}else a[r]=Sr(i)}catch(t){if(style===r)throw t;a[r]=i}})),a.attrs=n,r&&r.style&&a.name&&object==typeof r.style[a.name]&&(a.attrs=Object(k.__assign)(Object(k.__assign)({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=Object(k.__assign)(Object(k.__assign)({},a.attrs),r.style)),o.length&&(a.children=o),a}(n.children[0],e));return n.remove(),i};return{drawfunction(t,n){var i=r(t),o=n,a=function(t){var e=t.attrs,r=void 0===e{}e,i=t.bbox,s=t.type,u=t.children,c=Object(k.__rest)(t,[attrs,bbox,type,children]);if(group!==t.type){var h=n.addShape(t.type,Object(k.__assign)({attrsr,origin{bboxi,types,childrenu}},c));t.keyshape&&(o=h)}t.children&&t.children.forEach((function(t){return a(t)}))};return a(i),e[t.id]=[i],o},updatefunction(t,n){e[t.id](e[t.id]=[]);var i=n.getContainer(),o=i.get(children),a=r(t),s=function t(e,r){var n,i,o,a,s=(e{}).type,u=((null==rvoid 0r.attrs){}).key;if(u&&e&&(e.attrs.key=u),!e&&r)return{actiondelete,valr,types,keyu};if(e&&!r)return{actionadd,vale,types};if(!e&&!r)return{actionsame,types};var c=[];if((null===(n=e.children)void 0===nvoid 0n.length)0(null===(i=r.children)void 0===ivoid 0i.length)0)for(var h=Math.max(null===(o=e.children)void 0===ovoid 0o.length,null===(a=r.children)void 0===avoid 0a.length),f=r.children[],l=e.children[],d=0;dh;d+=1)c.push(t(l[d],f[d]));var p=Object.keys(r.attrs),g=Object.keys(e.attrs);return r.type!==e.type{actionrestructure,nowTargete,formerTargetr,keyu,childrenc}p.filter((function(t){returnchildren!==t})).some((function(t){return e.attrs[t]!==r.attrs[t]!g.includes(t)})){actionchange,vale,childrenc,types,keyu}{actionsame,childrenc,types,keyu}}(a,e[t.id].pop()),u=function(t){var e;group!==t.type&&i.addShape(t.type,{attrst.attrs}),(null===(e=t.children)void 0===evoid 0e.length)&&t.children.map((function(t){return u(t)}))},c=function(t){var e,r=o.find((function(e){return e.attrs.key===t.attrs.key}));r&&i.removeChild(r),(null===(e=t.children)void 0===evoid 0e.length)&&t.children.map((function(t){return c(t)}))},h=function(t){var e=t.key;if(group!==t.type){var r=o.find((function(t){return t.attrs.key===e}));switch(t.action){casechangeif(r){var i=t.val.keyshapen.getOriginStyle(){};r.attr(Object(k.__assign)(Object(k.__assign)({},i),t.val.attrs))}break;caseaddu(t.val);break;casedeletec(t.val);break;caserestructurec(t.formerTarget),u(t.nowTarget)}}t.children&&t.children.forEach((function(t){return h(t)}))};h(s),e[t.id].push(a)},getAnchorPointsfunction(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Or={};function Er(t){return Or[t](Or[t]=Object(ht.upperFirst)(t)),Or[t]}var jr={defaultShapeTypedefaultType,classNamenull,getShapefunction(t){return this[t]this[this.defaultShapeType]},drawfunction(t,e,r){var n=this.getShape(t),i=n.draw(e,r);return n.afterDraw&&n.afterDraw(e,r,i),i},baseUpdatefunction(t,e,r){var n=this.getShape(t);n.update&&n.update(e,r),n.afterUpdate&&n.afterUpdate(e,r)},setStatefunction(t,e,r,n){this.getShape(t).setState(e,r,n)},shouldUpdatefunction(t){return!!this.getShape(t).update},getControlPointsfunction(t,e){return this.getShape(t).getControlPoints(e)},getAnchorPointsfunction(t,e){return this.getShape(t).getAnchorPoints(e)}},Cr={options{},drawfunction(t,e){return this.drawShape(t,e)},drawShapefunction(){},afterDrawfunction(){},afterUpdatefunction(){},setStatefunction(){},getControlPointsfunction(t){return t.controlPoints},getAnchorPointsfunction(t){var e=this.options.anchorPoints;return t.anchorPointse}},Ar=function(){function t(){}return t.registerFactory=function(e,r){var n=Er(e),i=jr,o=Object(k.__assign)(Object(k.__assign)({},i),r);return t[n]=o,o.className=n,o},t.getFactory=function(e){return t[Er(e)]},t.registerNode=function(e,r,n){var i,o=t.Node;if(string==typeof rfunction==typeof r){var a=kr(r);i=Object(k.__assign)(Object(k.__assign)({},o.getShape(single-node)),a)}else if(r.jsx){a=kr(r.jsx);i=Object(k.__assign)(Object(k.__assign)(Object(k.__assign)({},o.getShape(single-node)),a),r)}else{var s=no.getShape(n)Cr;i=Object(k.__assign)(Object(k.__assign)({},s),r)}return i.type=e,i.itemType=node,o[e]=i,i},t.registerEdge=function(e,r,n){var i=t.Edge,o=ni.getShape(n)Cr,a=Object(k.__assign)(Object(k.__assign)({},o),r);return a.type=e,a.itemType=edge,i[e]=a,a},t.registerCombo=function(e,r,n){var i=t.Combo,o=ni.getShape(n)Cr,a=Object(k.__assign)(Object(k.__assign)({},o),r);return a.type=e,a.itemType=combo,i[e]=a,a},t}(),Pr=Ar;Ar.registerFactory(node,{defaultShapeTypecircle}),Ar.registerFactory(edge,{defaultShapeTypeline}),Ar.registerFactory(combo,{defaultShapeTypecircle});var Ir=function(){function t(t){this._cfg={},this.destroyed=!1;var e={idvoid 0,typeitem,model{},groupvoid 0,animate!1,visible!0,locked!1,event!0,keyShapevoid 0,states[]};this._cfg=Object.assign(e,this.getDefaultCfg(),t);var r=this.get(model),n=r.id,i=this.get(type);n(n=Object(ht.uniqueId)(i),this.get(model).id=n),this.set(id,n);var o=t.group;o&&(o.set(item,this),o.set(id,n)),this.init(),this.draw();var a=r.shaper.type(edge===ilinecircle),s=this.get(shapeFactory);if(s&&s[a]){var u=s[a].options;if(u&&u.stateStyles){var c=this.get(styles)r.stateStyles;c=Object(ht.deepMix)({},u.stateStyles,c),this.set(styles,c)}}}return t.prototype.calculateBBox=function(){var t=this.get(keyShape),e=this.get(group),r=cr(t,e);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)2,r.centerY=(r.minY+r.maxY)2,r},t.prototype.calculateCanvasBBox=function(){var t=this.get(keyShape),e=this.get(group),r=cr(t,e);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)2,r.centerY=(r.minY+r.maxY)2,r},t.prototype.drawInner=function(){var t=this.get(shapeFactory),e=this.get(group),r=this.get(model);e.clear();var n=r.visible;if(void 0===nnthis.changeVisibility(n),t){this.updatePosition(r);var i=this.getShapeCfg(r),o=i.shapei.type,a=t.draw(o,i,e);a&&(this.set(keyShape,a),a.set(isKeyShape,!0),a.set(draggable,!0)),this.setOriginStyle(),this.set(currentShape,o),this.restoreStates(t,o)}},t.prototype.setOriginStyle=function(t){var e={},r=this.get(group).get(children),n=this.getKeyShape(),i=this;Object(ht.each)(r,(function(t){var r=t.get(name);if(r)e[r]=i.getShapeStyleByName(r);else{var o=n.get(name),a=i.getShapeStyleByName();oe[o]=aObject.assign(e,a)}}));var o=this.getOriginStyle(),a={};a=tObject(ht.deepMix)({},o,e,t.style,{labelCfgt.labelCfg})Object(ht.deepMix)({},o,e),i.set(originStyle,a)},t.prototype.restoreStates=function(t,e){var r=this,n=r.get(states);Object(ht.each)(n,(function(n){t.setState(e,n,!0,r)}))},t.prototype.init=function(){var t=Pr.getFactory(this.get(type));this.set(shapeFactory,t)},t.prototype.get=function(t){return this._cfg[t]},t.prototype.set=function(t,e){Object(ht.isPlainObject)(t)this._cfg=Object(k.__assign)(Object(k.__assign)({},this._cfg),t)this._cfg[t]=e},t.prototype.getDefaultCfg=function(){return{}},t.prototype.clearCache=function(){this.set(bboxCache,null),this.set(bboxCanvasCache,null)},t.prototype.beforeDraw=function(){},t.prototype.afterDraw=function(){},t.prototype.afterUpdate=function(){},t.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},t.prototype.getShapeStyleByName=function(t){var e=this.get(group),r=this.getKeyShape();if(t&&(r=e.find((function(e){return e.get(name)===t}))),r){var n={};return Object(ht.each)(r.attr(),(function(t,e){img!==e&&(n[e]=t)})),n}return{}},t.prototype.getShapeCfg=function(t){var e=this.get(styles);if(e){var r=t;return r.style=Object(k.__assign)(Object(k.__assign)({},e),t.style),r}return t},t.prototype.getStateStyle=function(t){var e=this.get(styles);return e&&e[t]},t.prototype.getOriginStyle=function(){return this.get(originStyle)},t.prototype.getCurrentStatesStyle=function(){var t=this,e={};return Object(ht.each)(t.getStates(),(function(r){e=Object.assign(e,t.getStateStyle(r))})),e},t.prototype.setState=function(t,e){var r=this.get(states),n=this.get(shapeFactory),i=t,o=t;Object(ht.isString)(e)&&(i=t++e,o=t+);var a=r;if(Object(ht.isBoolean)(e)){var s=r.indexOf(o);if(e){if(s-1)return;r.push(i)}else s-1&&r.splice(s,1)}else if(Object(ht.isString)(e)){var u=r.filter((function(t){return t.includes(o)}));u.length0&&this.clearStates(u),(a=a.filter((function(t){return!t.includes(o)}))).push(i),this.set(states,a)}if(n){var c=this.get(model),h=c.shapec.type;n.setState(h,t,e,this)}},t.prototype.clearStates=function(t){var e=this,r=e.getStates(),n=e.get(shapeFactory),i=e.get(model),o=i.shapei.type;t(t=r),Object(ht.isString)(t)&&(t=[t]);var a=r.filter((function(e){return-1===t.indexOf(e)}));e.set(states,a),t.forEach((function(t){n.setState(o,t,!1,e)}))},t.prototype.getContainer=function(){return this.get(group)},t.prototype.getKeyShape=function(){return this.get(keyShape)},t.prototype.getModel=function(){return this.get(model)},t.prototype.getType=function(){return this.get(type)},t.prototype.getID=function(){return this.get(id)},t.prototype.isItem=function(){return!0},t.prototype.getStates=function(){return this.get(states)},t.prototype.hasState=function(t){return this.getStates().indexOf(t)=0},t.prototype.refresh=function(){var t=this.get(model);this.updatePosition(t),this.updateShape(),this.afterUpdate(),this.clearCache()},t.prototype.isOnlyMove=function(t){return!1},t.prototype.update=function(t){var e=this.get(model),r=e.visible,n=t.visible;r!==n&&void 0!==n&&this.changeVisibility(n);var i=e.x,o=e.y;t.x=isNaN(t.x)e.xt.x,t.y=isNaN(t.y)e.yt.y;var a=this.get(styles);if(t.stateStyles){var s=t.stateStyles;Object(ht.mix)(a,s),delete t.stateStyles}Object.assign(e,t),this.isOnlyMove(t)this.updatePosition(t)(i===t.x&&o===t.ythis.updatePosition(t),this.updateShape()),this.afterUpdate(),this.clearCache()},t.prototype.updateShape=function(){var t=this.get(shapeFactory),e=this.get(model),r=e.shapee.type;if(t.shouldUpdate(r)&&r===this.get(currentShape)){var n=this.getShapeCfg(e);t.baseUpdate(r,n,this)}else this.draw();this.setOriginStyle(e),this.restoreStates(t,r)},t.prototype.updatePosition=function(t){var e=this.get(model),r=Object(ht.isNil)(t.x)e.xt.x,n=Object(ht.isNil)(t.y)e.yt.y,i=this.get(group);Object(ht.isNil)(r)Object(ht.isNil)(n)(i.resetMatrix(),Ut(i,{xr,yn}),e.x=r,e.y=n,this.clearCache())},t.prototype.getBBox=function(){var t=this.get(bboxCache);return t(t=this.calculateBBox(),this.set(bboxCache,t)),t},t.prototype.getCanvasBBox=function(){var t=this.get(bboxCanvasCache);return t(t=this.calculateCanvasBBox(),this.set(bboxCanvasCache,t)),t},t.prototype.toFront=function(){this.get(group).toFront()},t.prototype.toBack=function(){this.get(group).toBack()},t.prototype.show=function(){this.changeVisibility(!0)},t.prototype.hide=function(){this.changeVisibility(!1)},t.prototype.changeVisibility=function(t){var e=this.get(group);te.show()e.hide(),this.set(visible,t)},t.prototype.isVisible=function(){return this.get(visible)},t.prototype.enableCapture=function(t){var e=this.get(group);e&&e.set(capture,t)},t.prototype.destroy=function(){if(!this.destroyed){var t=this.get(animate),e=this.get(group);t&&e.stopAnimate(),this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0}},t}(),Tr={sourcestart,targetend},Nr=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{typeedge,sourceNodenull,targetNodenull,startPointnull,endPointnull,linkCenter!1}},e.prototype.setEnd=function(t,e){var r=Tr[t]+Point,n=t+Node,i=this.get(n);i&&!i.destroyed&&i.removeEdge(this),Object(ht.isPlainObject)(e)(this.set(r,e),this.set(n,null))(e.addEdge(this),this.set(n,e),this.set(r,null))},e.prototype.getLinkPoint=function(t,e,r){var n=Tr[t]+Point,i=t+Node,o=this.get(n);if(!o){var a=this.get(i),s=t+Anchor,u=this.getPrePoint(t,r),c=e[s];Object(ht.isNil)(c)(o=a.getLinkPointByAnchor(c)),o=oa.getLinkPoint(u),Object(ht.isNil)(o.index)this.set(t+AnchorIndex,o.index)}return o},e.prototype.getPrePoint=function(t,e){if(e&&e.length)return e[source===t0e.length-1];var r=source===ttargetsource;return this.getEndPoint(r)},e.prototype.getEndPoint=function(t){var e=t+Node,r=Tr[t]+Point,n=this.get(e);return nn.get(model)this.get(r)},e.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint(source),r=this.getEndPoint(target),n=this.get(shapeFactory),i=t.shapet.type;return n.getControlPoints(i,{startPointe,endPointr})},e.prototype.getEndCenter=function(t){var e=t+Node,r=Tr[t]+Point,n=this.get(e);if(n){var i=n.getBBox();return{xi.centerX,yi.centerY}}return this.get(r)},e.prototype.init=function(){t.prototype.init.call(this),this.setSource(this.get(source)),this.setTarget(this.get(target))},e.prototype.getShapeCfg=function(e){var r=this.get(linkCenter),n=t.prototype.getShapeCfg.call(this,e);if(r)n.startPoint=this.getEndCenter(source),n.endPoint=this.getEndCenter(target);else{var i=n.controlPointsthis.getControlPointsByCenter(n);n.startPoint=this.getLinkPoint(source,e,i),n.endPoint=this.getLinkPoint(target,e,i)}return n.sourceNode=this.get(sourceNode),n.targetNode=this.get(targetNode),n},e.prototype.getModel=function(){var t=this.get(model),e=this.get(sourceNode),r=this.get(targetNode);return edelete t.sourceNodet.source=this.get(startPoint),rdelete t.targetNodet.target=this.get(endPoint),Object(ht.isString)(t.source)Object(ht.isPlainObject)(t.source)(t.source=t.source.getID()),Object(ht.isString)(t.target)Object(ht.isPlainObject)(t.target)(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd(source,t),this.set(source,t)},e.prototype.setTarget=function(t){this.setEnd(target,t),this.set(target,t)},e.prototype.getSource=function(){return this.get(source)},e.prototype.getTarget=function(){return this.get(target)},e.prototype.updatePosition=function(){},e.prototype.update=function(t){var e=this.get(model),r=e.visible,n=t.visible;r!==n&&void 0!==n&&this.changeVisibility(n);var i=this.get(styles);if(t.stateStyles){var o=t.stateStyles;Object(ht.mix)(i,o),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},e.prototype.destroy=function(){var e=this.get(sourceNode),r=this.get(targetNode);e&&!e.destroyed&&e.removeEdge(this),r&&!r.destroyed&&r.removeEdge(this),t.prototype.destroy.call(this)},e}(Ir),Dr=r(17),Br=r.n(Dr),Rr=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getNearestPoint=function(t,e){for(var r=0,n=t[0],i=qt(t[0],e),o=0;ot.length;o++){var a=t[o],s=qt(a,e);si&&(n=a,i=s,r=o)}return n.anchorIndex=r,n},e.prototype.getDefaultCfg=function(){return{typenode,edges[]}},e.prototype.getEdges=function(){return this.get(edges)},e.prototype.getInEdges=function(){var t=this;return this.get(edges).filter((function(e){return e.get(target)===t}))},e.prototype.getOutEdges=function(){var t=this;return this.get(edges).filter((function(e){return e.get(source)===t}))},e.prototype.getNeighbors=function(t){var e=this,r=this.get(edges);if(target===t){return r.filter((function(t){return t.getSource()===e})).map((function(t){return t.getTarget()}))}if(source===t){return r.filter((function(t){return t.getTarget()===e})).map((function(t){return t.getSource()}))}return r.map((function(t){return t.getSource()===et.getTarget()t.getSource()}))},e.prototype.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},e.prototype.getLinkPoint=function(t){var e,r,n=this.get(keyShape).get(type),i=this.get(type),o=this.getBBox();combo===i(e=(o.maxX+o.minX)2,r=(o.maxY+o.minY)2)(e=o.centerX,r=o.centerY);var a,s=this.getAnchorPoints();switch(n){casecirclea=Lt({xe,yr,ro.width2},t);break;caseellipsea=zt({xe,yr,rxo.width2,ryo.height2},t);break;defaulta=Rt(o,t)}var u=a;return s.length&&(u(u=t),u=this.getNearestPoint(s,u)),u(u={xe,yr}),u},e.prototype.getAnchorPoints=function(){var t=this.get(anchorPointsCache);if(!t){t=[];var e=this.get(shapeFactory),r=this.getBBox(),n=this.get(model),i=this.getShapeCfg(n),o=n.shapen.type,a=e.getAnchorPoints(o,i)[];d()(a,(function(e,n){var i=Br()({xr.minX+e[0]r.width,yr.minY+e[1]r.height},e[2],{indexn});t.push(i)})),this.set(anchorPointsCache,t)}return t},e.prototype.addEdge=function(t){this.get(edges).push(t)},e.prototype.lock=function(){this.set(locked,!0)},e.prototype.unlock=function(){this.set(locked,!1)},e.prototype.hasLocked=function(){return this.get(locked)},e.prototype.removeEdge=function(t){var e=this.getEdges(),r=e.indexOf(t);r-1&&e.splice(r,1)},e.prototype.clearCache=function(){this.set(bboxCache,null),this.set(anchorPointsCache,null)},e.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!x()(t.x),r=!x()(t.y),n=Object.keys(t);return 1===n.length&&(er)2===n.length&&e&&r},e}(Ir),Lr=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{typecombo,nodes[],edges[],combos[]}},e.prototype.getShapeCfg=function(t){var e=this.get(styles),r=this.get(bbox);if(e&&r){var n=t,i={rMath.hypot(r.height,r.width)2Q.defaultCombo.size[0]2,widthr.widthQ.defaultCombo.size[0],heightr.heightQ.defaultCombo.size[1]};n.style=Object(k.__assign)(Object(k.__assign)(Object(k.__assign)({},e),t.style),i);var o=t.paddingQ.defaultCombo.padding;return M()(o)(i.r+=o,i.width+=2o,i.height+=2o)(i.r+=o[0],i.width+=o[1]+o[3]2o[1],i.height+=o[0]+o[2]2o[0]),this.set(sizeCache,i),n}return t},e.prototype.calculateCanvasBBox=function(){var t=this.get(keyShape),e=this.get(group),r=cr(t,e);r.x=r.minX,r.y=r.minY,r.centerX=(r.minX+r.maxX)2,r.centerY=(r.minY+r.maxY)2;var n=this.get(sizeCache);n(circle===t.get(type)(r.width=2n.r,r.height=2n.r)(r.width=n.width,r.height=n.height),r.minX=r.centerX-r.width2,r.minY=r.centerY-r.height2,r.maxX=r.centerX+r.width2,r.maxY=r.centerY+r.height2)(r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)2,r.centerY=(r.minY+r.maxY)2);return r},e.prototype.getChildren=function(){return{nodesthis.getNodes(),combosthis.getCombos()}},e.prototype.getNodes=function(){return this.get(nodes)},e.prototype.getCombos=function(){return this.get(combos)},e.prototype.addChild=function(t){switch(t.getType()){casenodethis.addNode(t);break;casecombothis.addCombo(t);break;defaultreturn console.warn(Only node or combo items are allowed to be added into a combo),!1}return!0},e.prototype.addCombo=function(t){return this.get(combos).push(t),!0},e.prototype.addNode=function(t){return this.get(nodes).push(t),!0},e.prototype.removeChild=function(t){switch(t.getType()){casenodethis.removeNode(t);break;casecombothis.removeCombo(t);break;defaultreturn console.warn(Only node or combo items are allowed to be added into a combo),!1}return!0},e.prototype.removeCombo=function(t){if(t){var e=this.getCombos(),r=e.indexOf(t);return r-1&&(e.splice(r,1),!0)}},e.prototype.removeNode=function(t){if(t){var e=this.getNodes(),r=e.indexOf(t);return r-1&&(e.splice(r,1),!0)}},e.prototype.isOnlyMove=function(t){return!1},e.prototype.getBBox=function(){return this.set(bboxCanvasCache,null),this.calculateCanvasBBox()},e.prototype.clearCache=function(){this.set(bboxCache,null),this.set(bboxCanvasCache,null),this.set(anchorPointsCache,null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get(animate),e=this.get(group);t&&e.stopAnimate(),this.clearCache(),this.set(sizeCache,null),this.set(bbox,null),e.remove(),this._cfg=null,this.destroyed=!0}},e}(Rr),zr=Object.hasOwnProperty,Fr=function(){function t(t){this.graph=t,this.destroyed=!1}return t.prototype.addItem=function(t,e){var r=this,n=this.graph,i=vedge===tedget,o=n.get(i+Group)n.get(group),a=tr()(i),s=null,u=n.get(i+tr()(stateStyles)){},c=n.get(default+a);e.stateStyles&&(u=e.stateStyles);var h=n.get(i+Mapper);if(h){var f=h(e);f.stateStyles&&(u=f.stateStyles,delete f.stateStyles),e=St()({},c,e,f)}else c&&d()(c,(function(t,r){zr.call(e,r)(Qe()(t)e[r]=$e()(t)e[r]=c[r])}));if(e.shape&&!e.type&&console.warn(shape  type ),n.emit(beforeadditem,{typet,modele}),edge===tvedge===t){var l=void 0,p=void 0;if(l=e.source,p=e.target,l&&_()(l)&&(l=n.findById(l)),p&&_()(p)&&(p=n.findById(p)),!l!p)return void console.warn(The source or target node of edge +e.id+ does not exist!);l.getType&&combo===l.getType()&&(e.isComboEdge=!0,n.updateCombo(l)),p.getType&&combo===p.getType()&&(e.isComboEdge=!0,n.updateCombo(p)),s=new Nr({modele,sourcel,targetp,stylesu,linkCentern.get(linkCenter),groupo.addGroup()})}else if(node===t)s=new Rr({modele,stylesu,groupo.addGroup()});else if(combo===t){var g=e.children,v=wr(g,n);e.x=v.xe.x100Math.random(),e.y=v.ye.y100Math.random();var y=o.addGroup();y.setZIndex(e.depth);var m=(s=new Lr({modele,stylesu,bboxv,groupy})).getModel();(g[]).forEach((function(t){var e=n.findById(t.id);s.addChild(e),t.depth=m.depth+2})),e.collapsed&&setTimeout((function(){n.collapseCombo(s),r.updateCombo(s,[])}),250)}if(s)return n.get(t+s).push(s),n.get(itemMap)[s.get(id)]=s,n.emit(afteradditem,{items,modele}),s},t.prototype.updateItem=function(t,e){var r=this.graph;if(_()(t)&&(t=r.findById(t)),t&&!t.destroyed){var n=;t.getType&&(n=t.getType());var i=r.get(n+Mapper),o=t.getModel();if(i){var a=i(St()({},o,e)),s=St()({},o,a,e);a.stateStyles&&(t.set(styles,s.stateStyles),delete s.stateStyles),d()(s,(function(t,r){e[r]=t}))}else d()(e,(function(t,r){o[r]&&Qe()(t)&&!m()(t)&&(e[r]=Object(k.__assign)(Object(k.__assign)({},o[r]),e[r]))}));if(r.emit(beforeupdateitem,{itemt,cfge}),edge===n){if(e.source){var u=e.source;_()(u)&&(u=r.findById(u)),t.setSource(u)}if(e.target){var c=e.target;_()(c)&&(c=r.findById(c)),t.setTarget(c)}}if(t.update(e),node===ncombo===n){var h=t.getEdges();d()(h,(function(t){t.refresh()}))}r.emit(afterupdateitem,{itemt,cfge})}},t.prototype.updateCombo=function(t,e){var r=this.graph;if(_()(t)&&(t=r.findById(t)),t&&!t.destroyed){var n=wr(e,r);t.set(bbox,n),t.update({xn.x,yn.y});for(var i=t.getEdges()[],o=i.length,a=0;ao;a++){var s=i[a];null==ss.refresh()}}},t.prototype.collapseCombo=function(t){var e=this.graph;_()(t)&&(t=e.findById(t));var r=t.getChildren();r.nodes.forEach((function(t){e.hideItem(t)})),r.combos.forEach((function(t){e.hideItem(t)}))},t.prototype.expandCombo=function(t){var e=this.graph;_()(t)&&(t=e.findById(t));var r=t.getChildren();r.nodes.forEach((function(t){e.showItem(t)})),r.combos.forEach((function(t){t.getModel().collapsedt.show()e.showItem(t)}))},t.prototype.removeItem=function(t){var e=this,r=this.graph;if(_()(t)&&(t=r.findById(t)),t&&!t.destroyed){var n=$e()(t.getModel());r.emit(beforeremoveitem,{itemn});var i=;t.getType&&(i=t.getType());var o=r.get(i+s),a=o.indexOf(t);if(a-1&&o.splice(a,1),edge===i){var s=r.get(v+i+s),u=s.indexOf(t);u-1&&s.splice(u,1)}var c=t.get(id);delete r.get(itemMap)[c];var h=r.get(comboTrees),f=t.get(id);if(node===i){var l=t.getModel().comboId;if(h){var d=h,p=!1;h.forEach((function(t){ppr(t,(function(t){if(t.id===f&&d){var e=d.indexOf(t);return d.splice(e,1),p=!0,!1}return d=t.children,!0}))}))}for(var g=(b=t.getEdges()).length-1;g=0;g--)r.removeItem(b[g],!1);l&&r.updateCombo(l)}else if(combo===i){var v,y=t.getModel().parentId,m=!1;(h[]).forEach((function(t){mpr(t,(function(t){return t.id!==f(v=t,m=!0,!1)}))})),v.removed=!0,v&&v.children&&v.children.forEach((function(t){e.removeItem(t.id)}));var b;for(g=(b=t.getEdges()).length;g=0;g--)r.removeItem(b[g],!1);y&&r.updateCombo(y)}t.destroy(),r.emit(afterremoveitem,{itemn})}},t.prototype.setItemState=function(t,e,r){var n=this.graph,i=e;_()(r)&&(i=e++r),t.hasState(i)===r_()(r)&&t.hasState(i)(n.emit(beforeitemstatechange,{itemt,statei,enabledr}),t.setState(e,r),n.autoPaint(),n.emit(afteritemstatechange,{itemt,statei,enabledr}))},t.prototype.priorityState=function(t,e){var r=this.graph,n=t;_()(t)&&(n=r.findById(t)),this.setItemState(n,e,!1),this.setItemState(n,e,!0)},t.prototype.clearItemStates=function(t,e){var r=this.graph;_()(t)&&(t=r.findById(t)),r.emit(beforeitemstatesclear,{itemt,statese}),t.clearStates(e),r.emit(afteritemstatesclear,{itemt,statese})},t.prototype.refreshItem=function(t){var e=this.graph;_()(t)&&(t=e.findById(t)),e.emit(beforeitemrefresh,{itemt}),t.refresh(),e.emit(afteritemrefresh,{itemt})},t.prototype.addCombos=function(t,e){var r=this,n=this.graph;(t[]).forEach((function(t){gr(t,(function(t){var n;return e.forEach((function(e){e.id===t.id&&(e.children=t.children,e.depth=t.depth,n=e)})),n&&r.addItem(combo,n),!0}))}));var i=n.get(comboGroup);i&&i.sort()},t.prototype.changeItemVisibility=function(t,e){var r=this,n=this.graph;if(_()(t)&&(t=n.findById(t)),t){if(n.emit(beforeitemvisibilitychange,{itemt,visiblee}),t.changeVisibility(e),t.getType&&node===t.getType()){var i=t.getEdges();d()(i,(function(t){(!et.get(source).isVisible()&&t.get(target).isVisible())&&r.changeItemVisibility(t,e)}))}else if(t.getType&&combo===t.getType()){var o=n.get(comboTrees),a=t.get(id),s=[],u=!1;(o[]).forEach((function(t){ut.children&&0!==t.children.length&&pr(t,(function(t){return t.id!==a(s=t.children,u=!0,!1)}))})),s.forEach((function(t){var i=n.findById(t.id);r.changeItemVisibility(i,e)}));i=t.getEdges();d()(i,(function(t){(!et.get(source).isVisible()&&t.get(target).isVisible())&&r.changeItemVisibility(t,e)}))}return n.emit(afteritemvisibilitychange,{itemt,visiblee}),t}console.warn(The item to be shown or hidden does not exist!)},t.prototype.destroy=function(){this.graph=null,this.destroyed=!0},t}(),Yr=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return t.prototype.init=function(t){this.nodes=t.nodes[],this.edges=t.edges[],this.combos=t.combos[]},t.prototype.execute=function(){},t.prototype.layout=function(t){this.init(t),this.execute()},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){Br()(this,t)},t.prototype.destroy=function(){this.positions=null,this.nodes=null,this.edges=null,this.destroyed=!0},t}(),Gr={registerLayoutfunction(t,e,r){if(void 0===r&&(r=Yr),!e)throw new Error(please specify handler for this layout +t);var n=function(t){function r(r){var n=t.call(this)this,i=n,o={},a=i.getDefaultCfg();return Br()(o,a,e,r),d()(o,(function(t,e){i[e]=t})),n}return Object(k.__extends)(r,t),r}(r);Gr[t]=n}},qr=Gr;function Xr(t,e){return t.degreee.degree-1t.degreee.degree10}var Vr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.radius=null,e.startRadius=null,e.endRadius=null,e.startAngle=0,e.endAngle=2Math.PI,e.clockwise=!0,e.divisions=1,e.ordering=null,e.angleRatio=1,e.nodes=[],e.edges=[],e.nodeMap={},e.degrees=[],e.width=300,e.height=300,e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],radiusnull,startRadiusnull,endRadiusnull,startAngle0,endAngle2Math.PI,clockwise!0,divisions1,orderingnull,angleRatio1}},e.prototype.execute=function(){var t=this.nodes,e=this.edges,r=t.length,n=this.center;if(0!==r){if(1===r)return t[0].x=n[0],void(t[0].y=n[1]);var i=this.radius,o=this.startRadius,a=this.endRadius,s=this.divisions,u=this.startAngle,c=this.endAngle,h=(c-u)r,f={};t.forEach((function(t,e){f[t.id]=e})),this.nodeMap=f;var l=Kt(t.length,f,e);this.degrees=l,this.widthundefined==typeof window(this.width=window.innerWidth),this.heightundefined==typeof window(this.height=window.innerHeight),ioa!o&&ao=ao&&!a&&(a=o)i=this.heightthis.widththis.width2this.height2;var d=hthis.angleRatio;this.astep=d;var p=this.ordering,g=[];g=topology===pthis.topologyOrdering()topology-directed===pthis.topologyOrdering(!0)degree===pthis.degreeOrdering()t;for(var v=this.clockwise,y=Math.ceil(rs),m=0;mr;++m){var b=i;bnull===onull===a(b=o+m(a-o)(r-1)),b(b=10+100m(r-1));var x=u+m%yd+2Math.PIsMath.floor(my);v(x=c-m%yd-2Math.PIsMath.floor(my)),g[m].x=n[0]+Math.cos(x)b,g[m].y=n[1]+Math.sin(x)b,g[m].weight=l[m]}}},e.prototype.topologyOrdering=function(t){void 0===t&&(t=!1);var e=this.degrees,r=this.edges,n=this.nodes,i=Object(ht.clone)(n),o=this.nodeMap,a=[i[0]],s=[n[0]],u=[],c=n.length;u[0]=!0,function(t,e,r,n){t.forEach((function(e,r){t[r].children=[],t[r].parent=[]})),ne.forEach((function(e){var n=0;e.source&&(n=r[e.source]);var i=0;e.target&&(i=r[e.target]),t[n].children.push(t[i].id),t[i].parent.push(t[n].id)}))e.forEach((function(e){var n=0;e.source&&(n=r[e.source]);var i=0;e.target&&(i=r[e.target]),t[n].children.push(t[i].id),t[i].children.push(t[n].id)}))}(i,r,o,t);var h=0;return i.forEach((function(t,f){if(0!==f)if(f!==c-1&&e[f]===e[f+1]&&!function(t,e,r){for(var n=r.length,i=0;in;i++)if(t.id===r[i].source&&e.id===r[i].targete.id===r[i].source&&t.id===r[i].target)return!0;return!1}(a[h],t,r)!0===u[f]){for(var l=a[h].children,d=!1,p=0;pl.length;p++){var g=o[l[p]];if(e[g]===e[f]&&!0!==u[g]){a.push(i[g]),s.push(n[o[i[g].id]]),u[g]=!0,d=!0;break}}for(var v=0;!d&&(u[v](a.push(i[v]),s.push(n[o[i[v].id]]),u[v]=!0,d=!0),++v!==c););}else a.push(t),s.push(n[o[t.id]]),u[f]=!0,h++})),s},e.prototype.degreeOrdering=function(){var t=this.nodes,e=[],r=this.degrees;return t.forEach((function(t,n){t.degree=r[n],e.push(t)})),e.sort(Xr),e},e}(Yr),Hr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.nodeSize=30,e.minNodeSpacing=10,e.preventOverlap=!1,e.equidistant=!1,e.startAngle=1.5Math.PI,e.clockwise=!0,e.sortBy=degree,e.nodes=[],e.edges=[],e.width=300,e.height=300,e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],nodeSize30,minNodeSpacing10,preventOverlap!1,sweepvoid 0,equidistant!1,startAngle1.5Math.PI,clockwise!0,maxLevelDiffvoid 0,sortBydegree}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges,n=e.length,i=t.center;if(0!==n){if(1===n)return e[0].x=i[0],void(e[0].y=i[1]);var o,a=[];o=m()(t.nodeSize)Math.max(t.nodeSize[0],t.nodeSize[1])t.nodeSize,e.forEach((function(t){a.push(t);var e=o;m()(t.size)e=Math.max(t.size[0],t.size[1])Object(ht.isNumber)(t.size)&&(e=t.size),o=Math.max(o,e)})),t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight),t.clockwise=void 0!==t.counterclockwise!t.counterclockwiset.clockwise;var s={},u={};if(a.forEach((function(t,e){s[t.id]=t,u[t.id]=e})),!(degree!==t.sortBy&&_()(t.sortBy)&&void 0!==a[0][t.sortBy](t.sortBy=degree,Object(ht.isNumber)(e[0].degree)))){var c=Kt(e.length,u,r);a.forEach((function(t,e){t.degree=c[e]}))}a.sort((function(e,r){return r[t.sortBy]-e[t.sortBy]})),t.maxValueNode=a[0],t.maxLevelDiff=t.maxLevelDifft.maxValueNode[t.sortBy]4;var h=[[]],f=h[0];a.forEach((function(e){if(f.length0){var r=Math.abs(f[0][t.sortBy]-e[t.sortBy]);t.maxLevelDiff&&r=t.maxLevelDiff&&(f=[],h.push(f))}f.push(e)}));var l=o+t.minNodeSpacing;if(!t.preventOverlap){var d=h.length0&&h[0].length1,p=(Math.min(t.width,t.height)2-l)(h.length+(d10));l=Math.min(l,p)}var g=0;if(h.forEach((function(e){var r=t.sweep;void 0===r&&(r=2Math.PI-2Math.PIe.length);var n=e.dTheta=rMath.max(1,e.length-1);if(e.length1&&t.preventOverlap){var i=Math.cos(n)-Math.cos(0),o=Math.sin(n)-Math.sin(0),a=Math.sqrt(ll(ii+oo));g=Math.max(a,g)}e.r=g,g+=l})),t.equidistant){for(var v=0,y=0,b=0;bh.length;b++){var x=h[b].r-y;v=Math.max(v,x)}y=0,h.forEach((function(t,e){0===e&&(y=t.r),t.r=y,y+=v}))}h.forEach((function(e){var r=e.dTheta,n=e.r;e.forEach((function(e,o){var a=t.startAngle+(t.clockwise1-1)ro;e.x=i[0]+nMath.cos(a),e.y=i[1]+nMath.sin(a)}))}))}},e}(Yr),Ur=r(134),Wr=r.n(Ur),Zr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.rankdir=TB,e.nodesep=50,e.ranksep=50,e.controlPoints=!1,e.sortByCombo=!1,e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{rankdirTB,alignvoid 0,nodeSizevoid 0,nodesepFuncvoid 0,ranksepFuncvoid 0,nodesep50,ranksep50,controlPoints!1}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.nodeSize,n=t.rankdir;if(e){var i,o=t.edges[],a=new Wr.a.graphlib.Graph;i=rm()(r)function(){return r}function(){return[r,r]}function(t){return t.sizem()(t.size)t.size[t.size,t.size][40,40]};var s,u=$r(t.nodesepFunc,t.nodesep,50),c=$r(t.ranksepFunc,t.ranksep,50);LR!==n&&RL!==n(u=$r(t.ranksepFunc,t.ranksep,50),c=$r(t.nodesepFunc,t.nodesep,50)),a.setDefaultEdgeLabel((function(){return{}})),a.setGraph(t),e.forEach((function(t){var e=i(t),r=c(t),n=u(t),o=e[0]+2n,s=e[1]+2r;a.setNode(t.id,{widtho,heights})})),o.forEach((function(t){a.setEdge(t.source,t.target,{weightt.weight1})})),Wr.a.layout(a),a.nodes().forEach((function(t){s=a.node(t);var r=e.findIndex((function(e){return e.id===t}));e[r].x=s.x,e[r].y=s.y})),a.edges().forEach((function(e){s=a.edge(e);var r=o.findIndex((function(t){return t.source===e.v&&t.target===e.w}));t.controlPoints&&loop!==o[r].type&&loop!==o[r].shape&&(o[r].controlPoints=s.points.slice(1,s.points.length-1))})),t.sortByCombo&&t.sortLevel(comboId)}},e.prototype.sortLevel=function(t){var e=this.nodes,r={};e.forEach((function(t){r[t.y](r[t.y]={yt.y,nodes[]}),r[t.y].nodes.push(t)})),Object.keys(r).forEach((function(e){var n=r[e].nodes,i=n.length,o={};if(n.forEach((function(t){var e=t.comboId;o[e](o[e]={x0,y0,count0}),o[e].x+=t.x,o[e].y+=t.y,o[e].count++})),Object.keys(o).forEach((function(t){o[t].x=o[t].count,o[t].y=o[t].count})),1!==i){var a=n.sort((function(t,e){return t.x-e.x})),s=a[0].x,u=(a[i-1].x-s)(i-1);n.sort((function(e,r){var n=e[t]undefined,i=r[t]undefined;return ni-1ni10})).forEach((function(t,e){t.x=s+eu}))}}))},e}(Yr);function $r(t,e,r){return t(Object(ht.isNumber)(e)function(){return e}function(){return r})}function Kr(t,e,r,n){if(isNaN(e)isNaN(r))return t;var i,o,a,s,u,c,h,f,l,d=t._root,p={datan},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e=(o=(g+y)2))g=oy=o,(h=r=(a=(v+m)2))v=am=a,i=d,!(d=d[f=h1c]))return i[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&r===u)return p.next=d,ii[f]=pt._root=p,t;do{i=ii[f]=new Array(4)t._root=new Array(4),(c=e=(o=(g+y)2))g=oy=o,(h=r=(a=(v+m)2))v=am=a}while((f=h1c)==(l=(u=a)1s=o));return i[l]=d,i[f]=p,t}var Qr=function(t,e,r,n,i){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=i};function Jr(t){return t[0]}function tn(t){return t[1]}function en(t,e,r){var n=new rn(null==eJre,null==rtnr,NaN,NaN,NaN,NaN);return null==tnn.addAll(t)}function rn(t,e,r,n,i,o){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=i,this._y1=o,this._root=void 0}function nn(t){for(var e={datat.data},r=e;t=t.next;)r=r.next={datat.data};return e}var on=en.prototype=rn.prototype;on.copy=function(){var t,e,r=new rn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=nn(n),r;for(t=[{sourcen,targetr._root=new Array(4)}];n=t.pop();)for(var i=0;i4;++i)(e=n.source[i])&&(e.lengtht.push({sourcee,targetn.target[i]=new Array(4)})n.target[i]=nn(e));return r},on.add=function(t){var e=+this._x.call(null,t),r=+this._y.call(null,t);return Kr(this.cover(e,r),e,r,t)},on.addAll=function(t){var e,r,n,i,o=t.length,a=new Array(o),s=new Array(o),u=10,c=10,h=-10,f=-10;for(r=0;ro;++r)isNaN(n=+this._x.call(null,e=t[r]))isNaN(i=+this._y.call(null,e))(a[r]=n,s[r]=i,nu&&(u=n),nh&&(h=n),ic&&(c=i),if&&(f=i));if(uhcf)return this;for(this.cover(u,c).cover(h,f),r=0;ro;++r)Kr(this,a[r],s[r],t[r]);return this},on.cover=function(t,e){if(isNaN(t=+t)isNaN(e=+e))return this;var r=this._x0,n=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,o=(n=Math.floor(e))+1;else{for(var a,s,u=i-r1,c=this._root;rtt=inee=o;)switch(s=(en)1tr,(a=new Array(4))[s]=c,c=a,u=2,s){case 0i=r+u,o=n+u;break;case 1r=i-u,o=n+u;break;case 2i=r+u,n=o-u;break;case 3r=i-u,n=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=n,this._x1=i,this._y1=o,this},on.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},on.extent=function(t){return arguments.lengththis.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1])isNaN(this._x0)void 0[[this._x0,this._y0],[this._x1,this._y1]]},on.find=function(t,e,r){var n,i,o,a,s,u,c,h=this._x0,f=this._y0,l=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Qr(g,h,f,l,d)),null==rr=10(h=t-r,f=e-r,l=t+r,d=e+r,r=r);u=p.pop();)if(!(!(g=u.node)(i=u.x0)l(o=u.y0)d(a=u.x1)h(s=u.y1)f))if(g.length){var v=(i+a)2,y=(o+s)2;p.push(new Qr(g[3],v,y,a,s),new Qr(g[2],i,y,v,s),new Qr(g[1],v,o,a,y),new Qr(g[0],i,o,v,y)),(c=(e=y)1t=v)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var m=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),x=mm+bb;if(xr){var w=Math.sqrt(r=x);h=t-w,f=e-w,l=t+w,d=e+w,n=g.data}}return n},on.remove=function(t){if(isNaN(o=+this._x.call(null,t))isNaN(a=+this._y.call(null,t)))return this;var e,r,n,i,o,a,s,u,c,h,f,l,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o=(s=(p+v)2))p=sv=s,(h=a=(u=(g+y)2))g=uy=u,e=d,!(d=d[f=h1c]))return this;if(!d.length)break;(e[f+1&3]e[f+2&3]e[f+3&3])&&(r=e,l=f)}for(;d.data!==t;)if(n=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,n(in.next=idelete n.next,this)e(ie[f]=idelete e[f],(d=e[0]e[1]e[2]e[3])&&d===(e[3]e[2]e[1]e[0])&&!d.length&&(rr[l]=dthis._root=d),this)(this._root=i,this)},on.removeAll=function(t){for(var e=0,r=t.length;er;++e)this.remove(t[e]);return this},on.root=function(){return this._root},on.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},on.visit=function(t){var e,r,n,i,o,a,s=[],u=this._root;for(u&&s.push(new Qr(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,n=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(n+o)2,h=(i+a)2;(r=u[3])&&s.push(new Qr(r,c,h,o,a)),(r=u[2])&&s.push(new Qr(r,n,h,c,a)),(r=u[1])&&s.push(new Qr(r,c,i,o,h)),(r=u[0])&&s.push(new Qr(r,n,i,c,h))}return this},on.visitAfter=function(t){var e,r=[],n=[];for(this._root&&r.push(new Qr(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,h=(a+u)2,f=(s+c)2;(o=i[0])&&r.push(new Qr(o,a,s,h,f)),(o=i[1])&&r.push(new Qr(o,h,s,u,f)),(o=i[2])&&r.push(new Qr(o,a,f,h,c)),(o=i[3])&&r.push(new Qr(o,h,f,u,c))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},on.x=function(t){return arguments.length(this._x=t,this)this._x},on.y=function(t){return arguments.length(this._y=t,this)this._y};var an=function(t){return function(){return t}},sn=function(t){return 1e-6(t()-.5)},un={valuefunction(){}};function cn(){for(var t,e=0,r=arguments.length,n={};er;++e){if(!(t=arguments[e]+)t in n[s.].test(t))throw new Error(illegal type +t);n[t]=[]}return new hn(n)}function hn(t){this._=t}function fn(t,e){return t.trim().split(^s+).map((function(t){var r=,n=t.indexOf(.);if(n=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error(unknown type +t);return{typet,namer}}))}function ln(t,e){for(var r,n=0,i=t.length;ni;++n)if((r=t[n]).name===e)return r.value}function dn(t,e,r){for(var n=0,i=t.length;ni;++n)if(t[n].name===e){t[n]=un,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({namee,valuer}),t}hn.prototype=cn.prototype={constructorhn,onfunction(t,e){var r,n=this._,i=fn(t+,n),o=-1,a=i.length;if(!(arguments.length2)){if(null!=e&&function!=typeof e)throw new Error(invalid callback +e);for(;++oa;)if(r=(t=i[o]).type)n[r]=dn(n[r],t.name,e);else if(null==e)for(r in n)n[r]=dn(n[r],t.name,null);return this}for(;++oa;)if((r=(t=i[o]).type)&&(r=ln(n[r],t.name)))return r},copyfunction(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new hn(t)},callfunction(t,e){if((r=arguments.length-2)0)for(var r,n,i=new Array(r),o=0;or;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error(unknown type +t);for(o=0,r=(n=this._[t]).length;or;++o)n[o].value.apply(e,i)},applyfunction(t,e,r){if(!this._.hasOwnProperty(t))throw new Error(unknown type +t);for(var n=this._[t],i=0,o=n.length;io;++i)n[i].value.apply(e,r)}};var pn=cn;function gn(t){return(gn=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var vn,yn,mn=0,bn=0,xn=0,wn=0,Mn=0,Sn=0,_n=object===(undefined==typeof performanceundefinedgn(performance))&&performance.nowperformanceDate,kn=object===(undefined==typeof windowundefinedgn(window))&&window.requestAnimationFramewindow.requestAnimationFrame.bind(window)function(t){setTimeout(t,17)};function On(){return Mn(kn(En),Mn=_n.now()+Sn)}function En(){Mn=0}function jn(){this._call=this._time=this._next=null}function Cn(t,e,r){var n=new jn;return n.restart(t,e,r),n}function An(){Mn=(wn=_n.now())+Sn,mn=bn=0;try{!function(){On(),++mn;for(var t,e=vn;e;)(t=Mn-e._time)=0&&e._call.call(null,t),e=e._next;--mn}()}finally{mn=0,function(){var t,e,r=vn,n=10;for(;r;)r._call(nr._time&&(n=r._time),t=r,r=r._next)(e=r._next,r._next=null,r=tt._next=evn=e);yn=t,In(n)}(),Mn=0}}function Pn(){var t=_n.now(),e=t-wn;e1e3&&(Sn-=e,wn=t)}function In(t){mn(bn&&(bn=clearTimeout(bn)),t-Mn24(t10&&(bn=setTimeout(An,t-_n.now()-Sn)),xn&&(xn=clearInterval(xn)))(xn(wn=_n.now(),xn=setInterval(Pn,1e3)),mn=1,kn(An)))}jn.prototype=Cn.prototype={constructorjn,restartfunction(t,e,r){if(function!=typeof t)throw new TypeError(callback is not a function);r=(null==rOn()+r)+(null==e0+e),this._nextyn===this(ynyn._next=thisvn=this,yn=this),this._call=t,this._time=r,In()},stopfunction(){this._call&&(this._call=null,this._time=10,In())}};function Tn(t){return t.x}function Nn(t){return t.y}var Dn=Math.PI(3-Math.sqrt(5)),Bn=function(t){var e,r,n=1,i=.001,o=1-Math.pow(i,1300),a=0,s=.6,u=new Map,c=Cn(l),h=pn(tick,end),f=(r=1,function(){return(r=(1664525r+1013904223)%4294967296)4294967296});function l(){d(),h.call(tick,e),ni&&(c.stop(),h.call(end,e))}function d(r){var i,c,h=t.length;void 0===r&&(r=1);for(var f=0;fr;++f)for(n+=(a-n)o,u.forEach((function(t){t(n)})),i=0;ih;++i)null==(c=t[i]).fxc.x+=c.vx=s(c.x=c.fx,c.vx=0),null==c.fyc.y+=c.vy=s(c.y=c.fy,c.vy=0);return e}function p(){for(var e,r=0,n=t.length;rn;++r){if((e=t[r]).index=r,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)isNaN(e.y)){var i=10Math.sqrt(.5+r),o=rDn;e.x=iMath.cos(o),e.y=iMath.sin(o)}(isNaN(e.vx)isNaN(e.vy))&&(e.vx=e.vy=0)}}function g(e){return e.initialize&&e.initialize(t,f),e}return null==t&&(t=[]),p(),e={tickd,restartfunction(){return c.restart(l),e},stopfunction(){return c.stop(),e},nodesfunction(r){return arguments.length(t=r,p(),u.forEach(g),e)t},alphafunction(t){return arguments.length(n=+t,e)n},alphaMinfunction(t){return arguments.length(i=+t,e)i},alphaDecayfunction(t){return arguments.length(o=+t,e)+o},alphaTargetfunction(t){return arguments.length(a=+t,e)a},velocityDecayfunction(t){return arguments.length(s=1-t,e)1-s},randomSourcefunction(t){return arguments.length(f=t,u.forEach(g),e)f},forcefunction(t,r){return arguments.length1(null==ru.delete(t)u.set(t,g(r)),e)u.get(t)},findfunction(e,r,n){var i,o,a,s,u,c=0,h=t.length;for(null==nn=10n=n,c=0;ch;++c)(a=(i=e-(s=t[c]).x)i+(o=r-s.y)o)n&&(u=s,n=a);return u},onfunction(t,r){return arguments.length1(h.on(t,r),e)h.on(t)}}},Rn=function(){var t,e,r,n,i,o=an(-30),a=1,s=10,u=.81;function c(r){var i,o=t.length,a=en(t,Tn,Nn).visitAfter(f);for(n=r,i=0;io;++i)e=t[i],a.visit(l)}function h(){if(t){var e,r,n=t.length;for(i=new Array(n),e=0;en;++e)r=t[e],i[r.index]=+o(r,e,t)}}function f(t){var e,r,n,o,a,s=0,u=0;if(t.length){for(n=o=a=0;a4;++a)(e=t[a])&&(r=Math.abs(e.value))&&(s+=e.value,u+=r,n+=re.x,o+=re.y);t.x=nu,t.y=ou}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function l(t,o,c,h){if(!t.value)return!0;var f=t.x-e.x,l=t.y-e.y,d=h-o,p=ff+ll;if(ddup)return ps&&(0===f&&(p+=(f=sn(r))f),0===l&&(p+=(l=sn(r))l),pa&&(p=Math.sqrt(ap)),e.vx+=ft.valuenp,e.vy+=lt.valuenp),!0;if(!(t.lengthp=s)){(t.data!==et.next)&&(0===f&&(p+=(f=sn(r))f),0===l&&(p+=(l=sn(r))l),pa&&(p=Math.sqrt(ap)));do{t.data!==e&&(d=i[t.data.index]np,e.vx+=fd,e.vy+=ld)}while(t=t.next)}}return c.initialize=function(e,n){t=e,r=n,h()},c.strength=function(t){return arguments.length(o=function==typeof ttan(+t),h(),c)o},c.distanceMin=function(t){return arguments.length(a=tt,c)Math.sqrt(a)},c.distanceMax=function(t){return arguments.length(s=tt,c)Math.sqrt(s)},c.theta=function(t){return arguments.length(u=tt,c)Math.sqrt(u)},c};function Ln(t){return(Ln=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}function zn(t){return t.index}function Fn(t,e){var r=t.get(e);if(!r)throw new Error(node not found +e);return r}var Yn=function(t){var e,r,n,i,o,a,s=zn,u=function(t){return 1Math.min(i[t.source.index],i[t.target.index])},c=an(30),h=1;function f(n){for(var i=0,s=t.length;ih;++i)for(var u,c,f,l,d,p,g,v=0;vs;++v)c=(u=t[v]).source,l=(f=u.target).x+f.vx-c.x-c.vxsn(a),d=f.y+f.vy-c.y-c.vysn(a),l=p=((p=Math.sqrt(ll+dd))-r[v])pne[v],d=p,f.vx-=l(g=o[v]),f.vy-=dg,c.vx+=l(g=1-g),c.vy+=dg}function l(){if(n){var a,u,c=n.length,h=t.length,f=new Map(n.map((function(t,e){return[s(t,e,n),t]})));for(a=0,i=new Array(c);ah;++a)(u=t[a]).index=a,object!==Ln(u.source)&&(u.source=Fn(f,u.source)),object!==Ln(u.target)&&(u.target=Fn(f,u.target)),i[u.source.index]=(i[u.source.index]0)+1,i[u.target.index]=(i[u.target.index]0)+1;for(a=0,o=new Array(h);ah;++a)u=t[a],o[a]=i[u.source.index](i[u.source.index]+i[u.target.index]);e=new Array(h),d(),r=new Array(h),p()}}function d(){if(n)for(var r=0,i=t.length;ri;++r)e[r]=+u(t[r],r,t)}function p(){if(n)for(var e=0,i=t.length;ei;++e)r[e]=+c(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,e){n=t,a=e,l()},f.links=function(e){return arguments.length(t=e,l(),f)t},f.id=function(t){return arguments.length(s=t,f)s},f.iterations=function(t){return arguments.length(h=+t,f)h},f.strength=function(t){return arguments.length(u=function==typeof ttan(+t),d(),f)u},f.distance=function(t){return arguments.length(c=function==typeof ttan(+t),p(),f)c},f};function Gn(t){return t.x+t.vx}function qn(t){return t.y+t.vy}var Xn=function(t){var e,r,n,i=1,o=1;function a(){for(var t,a,u,c,h,f,l,d=e.length,p=0;po;++p)for(a=en(e,Gn,qn).visitAfter(s),t=0;td;++t)u=e[t],f=r[u.index],l=ff,c=u.x+u.vx,h=u.y+u.vy,a.visit(g);function g(t,e,r,o,a){var s=t.data,d=t.r,p=f+d;if(!s)return ec+poc-prh+pah-p;if(s.indexu.index){var g=c-s.x-s.vx,v=h-s.y-s.vy,y=gg+vv;ypp&&(0===g&&(y+=(g=sn(n))g),0===v&&(y+=(v=sn(n))v),y=(p-(y=Math.sqrt(y)))yi,u.vx+=(g=y)(p=(d=d)(l+d)),u.vy+=(v=y)p,s.vx-=g(p=1-p),s.vy-=vp)}}}function s(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;e4;++e)t[e]&&t[e].rt.r&&(t.r=t[e].r)}function u(){if(e){var n,i,o=e.length;for(r=new Array(o),n=0;no;++n)i=e[n],r[i.index]=+t(i,n,e)}}returnfunction!=typeof t&&(t=an(null==t1+t)),a.initialize=function(t,r){e=t,n=r,u()},a.iterations=function(t){return arguments.length(o=+t,a)o},a.strength=function(t){return arguments.length(i=+t,a)i},a.radius=function(e){return arguments.length(t=function==typeof eean(+e),u(),a)t},a};function Vn(){function t(t){return function(){return t}}var e,r=function(t){return t.cluster},n=t(1),i=t(-1),o=t(100),a=t(.1),s=[0,0],u=[],c={},h=[],f=100,l=100,d={none{x0,y0}},p=[],g=force,v=!0,y=.1;function m(t){if(!v)return m;e.tick(),x();for(var n=0,i=u.length,o=void 0,a=ty;ni;++n)(o=u[n]).vx+=(d[r(o)].x-o.x)a,o.vy+=(d[r(o)].y-o.y)a}function b(){u&&function(){if(!u!u.length)return;if(void 0===r(u[0]))throw Error(Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links());var t=(d=[],g=[],v={},y=[],s=function(t){var e={};return t.forEach((function(t){var n=r(t);e[n](e[n]={count0,sumforceNodeSize0})})),t.forEach((function(t){var i=r(t),o=n(t),a=e[i];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI(oo)1.3,e[i]=a})),e}(u),y=function(t){var e={},n=[];return t.forEach((function(t){var n=function(t){var e=r(c[t.source]),n=r(c[t.target]);return e=ne+~+nn+~+e}(t),i=0;void 0!==e[n]&&(i=e[n]),i+=1,e[n]=i})),Object.entries(e).forEach((function(t){var e=t[0],r=t[1],i=e.split(~)[0],o=e.split(~)[1];void 0!==i&&void 0!==o&&n.push({sourcei,targeto,countr})})),n}(h),Object.keys(s).forEach((function(t,e){var r=s[t];d.push({idt,sizer.count,rMath.sqrt(r.sumforceNodeSizeMath.PI)}),v[t]=e})),y.forEach((function(t){var e=v[t.source],r=v[t.target];void 0!==e&&void 0!==r&&g.push({sourcee,targetr,countt.count})})),{nodesd,linksg});var s,d,g,v,y;e=Bn(t.nodes).force(x,function(t){var e,r,n,i=an(.1);function o(t){for(var i,o=0,a=e.length;oa;++o)(i=e[o]).vx+=(n[o]-i.x)r[o]t}function a(){if(e){var o,a=e.length;for(r=new Array(a),n=new Array(a),o=0;oa;++o)r[o]=isNaN(n[o]=+t(e[o],o,e))0+i(e[o],o,e)}}returnfunction!=typeof t&&(t=an(null==t0+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length(i=function==typeof ttan(+t),a(),o)i},o.x=function(e){return arguments.length(t=function==typeof eean(+e),a(),o)t},o}(f).strength(.1)).force(y,function(t){var e,r,n,i=an(.1);function o(t){for(var i,o=0,a=e.length;oa;++o)(i=e[o]).vy+=(n[o]-i.y)r[o]t}function a(){if(e){var o,a=e.length;for(r=new Array(a),n=new Array(a),o=0;oa;++o)r[o]=isNaN(n[o]=+t(e[o],o,e))0+i(e[o],o,e)}}returnfunction!=typeof t&&(t=an(null==t0+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length(i=function==typeof ttan(+t),a(),o)i},o.y=function(e){return arguments.length(t=function==typeof eean(+e),a(),o)t},o}(l).strength(.1)).force(collide,Xn((function(t){return t.r})).iterations(4)).force(charge,Rn().strength(i)).force(links,Yn(t.nodes.lengtht.links[]).distance(o).strength(a)),p=e.nodes(),x()}()}function x(){return d={none{x0,y0}},p.forEach((function(t){d[t.id]={xt.x-s[0],yt.y-s[1]}})),d}function w(t){c={},t.forEach((function(t){c[t.id]=t}))}return m.initialize=function(t){u=t,b()},m.template=function(t){return arguments.length(g=t,b(),m)g},m.groupBy=function(t){return arguments.lengthstring==typeof t(r=function(e){return e[t]},m)(r=t,m)r},m.enableGrouping=function(t){return arguments.length(v=t,m)v},m.strength=function(t){return arguments.length(y=t,m)y},m.centerX=function(t){return arguments.length(f=t,m)f},m.centerY=function(t){return arguments.length(l=t,m)l},m.nodes=function(t){return arguments.length(w(t[]),u=t[],m)u},m.links=function(t){return arguments.length(h=t[],b(),m)h},m.forceNodeSize=function(e){return arguments.length(n=function==typeof eet(+e),b(),m)n},m.nodeSize=m.forceNodeSize,m.forceCharge=function(e){return arguments.length(i=function==typeof eet(+e),b(),m)i},m.forceLinkDistance=function(e){return arguments.length(o=function==typeof eet(+e),b(),m)o},m.forceLinkStrength=function(e){return arguments.length(a=function==typeof eet(+e),b(),m)a},m.offset=function(t){return arguments.length(s=t,m)s},m.getFocis=x,m}var Hn=r(14),Un=r.n(Hn),Wn=LAYOUT_RUN,Zn=LAYOUT_END,$n=LAYOUT_TICK,Kn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.nodeStrength=null,e.edgeStrength=null,e.preventOverlap=!1,e.clusterNodeStrength=null,e.clusterEdgeStrength=null,e.clusterEdgeDistance=null,e.clusterNodeSize=null,e.clusterFociStrength=null,e.linkDistance=50,e.alphaDecay=.028,e.alphaMin=.001,e.alpha=.3,e.collideStrength=1,e.workerEnabled=!1,e.tick=function(){},e.onLayoutEnd=function(){},e.onTick=function(){},e.ticking=void 0,e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],nodeStrengthnull,edgeStrengthnull,preventOverlap!1,nodeSizevoid 0,nodeSpacingvoid 0,linkDistance50,forceSimulationnull,alphaDecay.028,alphaMin.001,alpha.3,collideStrength1,clustering!1,clusterNodeStrength-1,clusterEdgeStrength.1,clusterEdgeDistance100,clusterFociStrength.8,clusterNodeSize10,tickfunction(){},onLayoutEndfunction(){},onTickfunction(){},workerEnabled!1}},e.prototype.init=function(t){this.nodes=t.nodes[];var e=t.edges[];this.edges=e.map((function(t){var e={},r=[targetNode,sourceNode,startPoint,endPoint];return Object.keys(t).forEach((function(n){r.indexOf(n)-1(e[n]=t[n])})),e})),this.ticking=!1},e.prototype.execute=function(t){var e=this,r=e.nodes,n=e.edges;if(!e.ticking){var i=e.forceSimulation,o=e.alphaMin,a=e.alphaDecay,s=e.alpha;if(i)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(r),e.clusterForce.links(n)),i.nodes(r),e.edgeForce.links(n)),e.preventOverlap&&e.overlapProcess(i),i.alpha(s).restart(),this.ticking=!0;else try{var u=Rn();if(e.nodeStrength&&u.strength(e.nodeStrength),i=Bn().nodes(r),e.clustering){var c=Vn();c.centerX(e.center[0]).centerY(e.center[1]).template(force).strength(e.clusterFociStrength),n&&c.links(n),r&&c.nodes(r),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,i.force(group,c)}if(i.force(center,function(t,e){var r,n=1;function i(){var i,o,a=r.length,s=0,u=0;for(i=0;ia;++i)s+=(o=r[i]).x,u+=o.y;for(s=(sa-t)n,u=(ua-e)n,i=0;ia;++i)(o=r[i]).x-=s,o.y-=u}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){r=t},i.x=function(e){return arguments.length(t=+e,i)t},i.y=function(t){return arguments.length(e=+t,i)e},i.strength=function(t){return arguments.length(n=+t,i)n},i}(e.center[0],e.center[1])).force(charge,u).alpha(s).alphaDecay(a).alphaMin(o),e.preventOverlap&&e.overlapProcess(i),n){var h=Yn().id((function(t){return t.id})).links(n);e.edgeStrength&&h.strength(e.edgeStrength),e.linkDistance&&h.distance(e.linkDistance),e.edgeForce=h,i.force(link,h)}if(e.workerEnabled&&!Qn()&&(e.workerEnabled=!1,console.warn(workerEnabled option is only supported when running in web worker.)),e.workerEnabled){i.stop();for(var f=function(t){var e=t.alphaMin(),r=t.alphaTarget(),n=t.alpha(),i=Math.log((e-r)(n-r))Math.log(1-t.alphaDecay());return Math.ceil(i)}(i),l=1;l=f;l++)i.tick(),postMessage({type$n,currentTickl,totalTicksf,nodesr},void 0);e.ticking=!1}else i.on(tick,(function(){e.tick()})).on(end,(function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()})),e.ticking=!0;e.forceSimulation=i,e.ticking=!0}catch(t){e.ticking=!1,console.warn(t)}}},e.prototype.overlapProcess=function(t){var e,r,n=this.nodeSize,i=this.nodeSpacing,o=this.collideStrength;if(r=M()(i)function(){return i}Un()(i)ifunction(){return 0},n)if(Un()(n))e=function(t){return n(t)+r(t)};else if(m()(n)){var a=(n[0]n[1]n[0]n[1])2;e=function(t){return a+r(t)}}else if(M()(n)){var s=n2;e=function(t){return s+r(t)}}else e=function(){return 10};else e=function(t){return t.sizem()(t.size)(t.size[0]t.size[1]t.size[0]t.size[1])2+r(t)t.size2+r(t)10+r(t)};t.force(collisionForce,Xn(e).strength(o))},e.prototype.updateCfg=function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,Br()(this,t)},e.prototype.destroy=function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0},e}(Yr);function Qn(){returnundefined!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}var Jn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.maxIteration=500,e.gravity=10,e.clustering=!1,e.clusterGravity=10,e.linkDistance=50,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1300),e.alphaTarget=0,e.velocityDecay=.6,e.linkStrength=1,e.nodeStrength=30,e.preventOverlap=!1,e.collideStrength=1,e.optimizeRangeFactor=1,e.tick=function(){},e.nodes=[],e.edges=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.nodeIdxMap={},e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration1e3,center[0,0],gravity10,clustering!1,clusterGravity10,preventOverlap!1,nodeSpacingvoid 0,collideStrength10}},e.prototype.execute=function(){var t=this.nodes,e=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);var r={},n={};t.forEach((function(t,e){r[t.id]=t,n[t.id]=e})),this.nodeMap=r,this.nodeIdxMap=n,this.run()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.edges,n=t.maxIteration;t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight);var i,o=t.center,a=t.velocityDecay,s=t.clustering;t.initVals(),s&&(i=t.getClusterMap());for(var u=function(n){var o=[];e.forEach((function(t,e){o[e]={x0,y0}})),t.applyCalculate(e,r,o),s&&t.applyClusterForce(i,o),e.forEach((function(t,e){Object(ht.isNumber)(t.x)&&Object(ht.isNumber)(t.y)&&(t.x+=o[e].xa,t.y+=o[e].ya)})),c.alpha+=(c.alphaTarget-c.alpha)c.alphaDecay,t.tick()},c=this,h=0;hn;h++)u();var f=[0,0];e.forEach((function(t){Object(ht.isNumber)(t.x)&&Object(ht.isNumber)(t.y)&&(f[0]+=t.x,f[1]+=t.y)})),f[0]=e.length,f[1]=e.length;var l=[o[0]-f[0],o[1]-f[1]];e.forEach((function(t,e){Object(ht.isNumber)(t.x)&&Object(ht.isNumber)(t.y)&&(t.x+=l[0],t.y+=l[1])}))},e.prototype.initVals=function(){for(var t=this.edges,e={},r=0;rt.length;++r)e[t[r].source]e[t[r].source]++e[t[r].source]=1,e[t[r].target]e[t[r].target]++e[t[r].target]=1;var n=[];for(r=0;rt.length;++r)n[r]=e[t[r].source](e[t[r].source]+e[t[r].target]);this.bias=n;var i,o,a=this.nodeSize,s=this.nodeSpacing;if(o=Object(ht.isNumber)(s)function(){return s}Object(ht.isFunction)(s)sfunction(){return 0},a)if(Object(ht.isFunction)(a))i=function(t){return a(t)+o(t)};else if(Object(ht.isArray)(a)){var u=(a[0]a[1]a[0]a[1])2;i=function(t){return u+o(t)}}else if(Object(ht.isNumber)(a)){var c=a2;i=function(t){return c+o(t)}}else i=function(){return 10};else i=function(t){return t.sizeObject(ht.isArray)(t.size)(t.size[0]t.size[1]t.size[0]t.size[1])2+o(t)t.size2+o(t)10+o(t)};this.nodeSize=i;var h,f=this.linkDistance;f(f=50),Object(ht.isNumber)(f)&&(h=function(t){return f}),this.linkDistance=h;var l,d=this.linkStrength;d(d=1),Object(ht.isNumber)(d)&&(l=function(t){return d}),this.linkStrength=l;var p,g=this.nodeStrength;g(g=30),Object(ht.isNumber)(g)&&(p=function(t){return g}),this.nodeStrength=p},e.prototype.getClusterMap=function(){var t=this.nodes,e={};for(var r in t.forEach((function(t){if(void 0===e[t.cluster]){var r={namet.cluster,cx0,cy0,count0};e[t.cluster]=r}var n=e[t.cluster];Object(ht.isNumber)(t.x)&&(n.cx+=t.x),Object(ht.isNumber)(t.y)&&(n.cy+=t.y),n.count++})),e)e[r].cx=e[r].count,e[r].cy=e[r].count;return e},e.prototype.applyClusterForce=function(t,e){var r=this.gravity,n=this.nodes,i=this.clusterGravityr,o=this.alpha;for(var a in n.forEach((function(r,n){if(Object(ht.isNumber)(r.x)&&Object(ht.isNumber)(r.y)){var a=t[r.cluster],s=r.x-a.cx,u=r.y-a.cy,c=Math.sqrt(ss+uu);e[n].x-=sioc,e[n].y-=uioc}})),t)t[a].cx=0,t[a].cy=0,t[a].count=0;for(var a in n.forEach((function(e){var r=t[e.cluster];Object(ht.isNumber)(e.x)&&(r.cx+=e.x),Object(ht.isNumber)(e.y)&&(r.cy+=e.y),r.count++})),t)t[a].cx=t[a].count,t[a].cy=t[a].count},e.prototype.applyCalculate=function(t,e,r){var n={};t.forEach((function(e,i){r[i]={x0,y0},t.forEach((function(t,r){if(!(ir)){var o=e.x-t.x,a=e.y-t.y,s=oo+aa;s1&&(s=Math.sqrt(s)),0===o&&(s+=(o=.01Math.random())o),0===a&&(s+=(a=.01Math.random())a);var u=Math.sqrt(s);n[e.id+-+t.id]={vxo,vya,vls,sqrtVlu},n[t.id+-+e.id]={vx-o,vy-a,vls,sqrtVlu}}}))})),this.calRepulsive(t,r,n),this.calAttractive(e,r,n)},e.prototype.calRepulsive=function(t,e,r){var n=this.widththis.optimizeRangeFactorthis.widththis.optimizeRangeFactor,i=this.nodeStrength,o=this.alpha,a=this.collideStrength,s=this.preventOverlap,u=this.nodeSize;t.forEach((function(c,h){t.forEach((function(t,f){if(h!==f&&Object(ht.isNumber)(c.x)&&Object(ht.isNumber)(t.x)&&Object(ht.isNumber)(c.y)&&Object(ht.isNumber)(t.y)){var l=r[c.id+-+t.id],d=l.vl,p=l.vx,g=l.vy;if(!(dn)&&(e[h].x+=pi(t)od,e[h].y+=gi(t)od,s&&hf)){var v=u(c),y=u(t),m=v+y;if(dmm){var b=r[c.id+-+t.id].sqrtVl,x=(m-b)ba,w=yy(vv+yy),M=px,S=gx;e[h].x+=Mw,e[h].y+=Sw,w=1-w,e[f].x-=Mw,e[f].y-=Sw}}}}))}))},e.prototype.calAttractive=function(t,e,r){var n=this,i=this.linkDistance,o=this.alpha,a=this.linkStrength,s=this.bias;t.forEach((function(t,u){if(t.source&&t.target){var c=n.nodeIdxMap[t.source],h=n.nodeIdxMap[t.target];if(c!==h){var f=n.nodeMap[t.source],l=n.nodeMap[t.target];if(Object(ht.isNumber)(l.x)&&Object(ht.isNumber)(f.x)&&Object(ht.isNumber)(l.y)&&Object(ht.isNumber)(f.y)){var d=r[t.target+-+t.source],p=(d.vl,d.sqrtVl),g=d.vx,v=d.vy,y=(p-i(t))poa(t),m=gy,b=vy,x=s[u];e[h].x-=mx,e[h].y-=bx,e[c].x+=m(1-x),e[c].y+=b(1-x)}}}}))},e}(Yr),ti=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.maxIteration=1e3,e.gravity=10,e.speed=1,e.clustering=!1,e.clusterGravity=10,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration1e3,center[0,0],gravity10,speed1,clustering!1,clusterGravity10}},e.prototype.execute=function(){var t=this,e=this.nodes,r=this.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=r[0],void(e[0].y=r[1]);var n={},i={};e.forEach((function(e,r){Object(ht.isNumber)(e.x)(e.x=Math.random()t.width),Object(ht.isNumber)(e.y)(e.y=Math.random()t.height),n[e.id]=e,i[e.id]=r})),this.nodeMap=n,this.nodeIdxMap=i,this.run()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.edges,n=t.maxIteration;t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight);var i=t.center,o=t.width10,a=Math.sqrt(t.widtht.height(e.length+1)),s=t.gravity,u=t.speed,c=t.clustering,h={};if(c)for(var f in e.forEach((function(t){if(void 0===h[t.cluster]){var e={namet.cluster,cx0,cy0,count0};h[t.cluster]=e}var r=h[t.cluster];Object(ht.isNumber)(t.x)&&(r.cx+=t.x),Object(ht.isNumber)(t.y)&&(r.cy+=t.y),r.count++})),h)h[f].cx=h[f].count,h[f].cy=h[f].count;for(var l=function(n){var f=[];if(e.forEach((function(t,e){f[e]={x0,y0}})),t.applyCalculate(e,r,f,a),c){var l=t.clusterGravitys;for(var d in e.forEach((function(t,e){if(Object(ht.isNumber)(t.x)&&Object(ht.isNumber)(t.y)){var r=h[t.cluster],n=Math.sqrt((t.x-r.cx)(t.x-r.cx)+(t.y-r.cy)(t.y-r.cy)),i=al;f[e].x-=i(t.x-r.cx)n,f[e].y-=i(t.y-r.cy)n}})),h)h[d].cx=0,h[d].cy=0,h[d].count=0;for(var d in e.forEach((function(t){var e=h[t.cluster];Object(ht.isNumber)(t.x)&&(e.cx+=t.x),Object(ht.isNumber)(t.y)&&(e.cy+=t.y),e.count++})),h)h[d].cx=h[d].count,h[d].cy=h[d].count}e.forEach((function(t,e){if(Object(ht.isNumber)(t.x)&&Object(ht.isNumber)(t.y)){var r=.01as;f[e].x-=r(t.x-i[0]),f[e].y-=r(t.y-i[1])}})),e.forEach((function(t,e){if(Object(ht.isNumber)(t.x)&&Object(ht.isNumber)(t.y)){var r=Math.sqrt(f[e].xf[e].x+f[e].yf[e].y);if(r0){var n=Math.min(o(u800),r);t.x+=f[e].xrn,t.y+=f[e].yrn}}}))},d=0;dn;d++)l()},e.prototype.applyCalculate=function(t,e,r,n){this.calRepulsive(t,r,n),this.calAttractive(e,r,n)},e.prototype.calRepulsive=function(t,e,r){t.forEach((function(n,i){e[i]={x0,y0},t.forEach((function(t,o){if(i!==o&&Object(ht.isNumber)(n.x)&&Object(ht.isNumber)(t.x)&&Object(ht.isNumber)(n.y)&&Object(ht.isNumber)(t.y)){var a=n.x-t.x,s=n.y-t.y,u=aa+ss;if(0===u){u=1;var c=io1-1;a=.01c,s=.01c}var h=rru;e[i].x+=ah,e[i].y+=sh}}))}))},e.prototype.calAttractive=function(t,e,r){var n=this;t.forEach((function(t){if(t.source&&t.target){var i=n.nodeIdxMap[t.source],o=n.nodeIdxMap[t.target];if(i!==o){var a=n.nodeMap[t.source],s=n.nodeMap[t.target];if(Object(ht.isNumber)(s.x)&&Object(ht.isNumber)(a.x)&&Object(ht.isNumber)(s.y)&&Object(ht.isNumber)(a.y)){var u=s.x-a.x,c=s.y-a.y,h=Math.sqrt(uu+cc),f=hhr;e[o].x-=uhf,e[o].y-=chf,e[i].x+=uhf,e[i].y+=chf}}}}))},e}(Yr),ei=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.begin=[0,0],e.preventOverlap=!0,e.preventOverlapPadding=10,e.condense=!1,e.sortBy=degree,e.nodeSize=30,e.nodes=[],e.edges=[],e.center=[0,0],e.width=300,e.height=300,e.row=0,e.col=0,e.cellWidth=0,e.cellHeight=0,e.cellUsed={},e.id2manPos={},e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{begin[0,0],preventOverlap!0,preventOverlapPadding10,condense!1,rowsvoid 0,colsvoid 0,positionvoid 0,sortBydegree,nodeSize30}},e.prototype.execute=function(){var t=this,e=t.nodes,r=e.length,n=t.center;if(0!==r){if(1===r)return e[0].x=n[0],void(e[0].y=n[1]);var i=t.edges,o=[];e.forEach((function(t){o.push(t)}));var a={};if(o.forEach((function(t,e){a[t.id]=e})),(degree===t.sortBy!_()(t.sortBy)void 0===o[0][t.sortBy])&&(t.sortBy=degree,P(e[0].degree))){var s=Kt(o.length,a,i);o.forEach((function(t,e){t.degree=s[e]}))}o.sort((function(e,r){return r[t.sortBy]-e[t.sortBy]})),t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight);var u=t.rows,c=null!=t.colst.colst.columns;if(t.cells=r,null!=u&&null!=c(t.rows=u,t.cols=c)null!=u&&null==c(t.rows=u,t.cols=Math.ceil(t.cellst.rows))null==u&&null!=c(t.cols=c,t.rows=Math.ceil(t.cellst.cols))(t.splits=Math.sqrt(t.cellst.heightt.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.widtht.heightt.splits)),t.colst.rowst.cells)((f=t.small())-1)(h=t.large())=t.cellst.small(f-1)(h-1)f=t.cells&&t.large(h-1);else for(;t.colst.rowst.cells;){var h,f=t.small();((h=t.large())+1)f=t.cellst.large(h+1)t.small(f+1)}t.cellWidth=t.widtht.cols,t.cellHeight=t.heightt.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&o.forEach((function(e){var r,n;e.x&&e.y(e.x=0,e.y=0),Object(ht.isArray)(e.size)(r=e.size[0],n=e.size[1])Object(ht.isNumber)(e.size)&&(r=e.size,n=e.size),void 0!==r&&void 0!==n(Object(ht.isArray)(t.nodeSize)(r=t.nodeSize[0],n=t.nodeSize[1])Object(ht.isNumber)(t.nodeSize)(r=t.nodeSize,n=t.nodeSize)(r=30,n=30));var i=t.preventOverlapPadding,o=r+i,a=n+i;t.cellWidth=Math.max(t.cellWidth,o),t.cellHeight=Math.max(t.cellHeight,a)})),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var l=0;lo.length;l++){var d=o[l],p=void 0;if(t.position&&(p=t.position(d)),p&&(void 0!==p.rowvoid 0!==p.col)){var g={rowp.row,colp.col};if(void 0===g.col)for(g.col=0;t.used(g.row,g.col);)g.col++;else if(void 0===g.row)for(g.row=0;t.used(g.row,g.col);)g.row++;t.id2manPos[d.id]=g,t.use(g.row,g.col)}t.getPos(d)}}},e.prototype.small=function(t){var e,r=this.rows5,n=this.cols5;null==te=Math.min(r,n)Math.min(r,n)===this.rowsthis.rows=tthis.cols=t;return e},e.prototype.large=function(t){var e,r=this.rows5,n=this.cols5;null==te=Math.max(r,n)Math.max(r,n)===this.rowsthis.rows=tthis.cols=t;return e},e.prototype.used=function(t,e){return this.cellUsed[c-+t+-+e]!1},e.prototype.use=function(t,e){this.cellUsed[c-+t+-+e]=!0},e.prototype.moveToNextCell=function(){var t=this.cols5;this.col++,this.col=t&&(this.col=0,this.row++)},e.prototype.getPos=function(t){var e,r,n=this.begin,i=this.cellWidth,o=this.cellHeight,a=this.id2manPos[t.id];if(a)e=a.coli+i2+n[0],r=a.rowo+o2+n[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();e=this.coli+i2+n[0],r=this.rowo+o2+n[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=e,t.y=r},e}(Yr),ri=Object.prototype.toString;function ni(t){return ri.call(t).endsWith(Array])}var ii=function(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(!ni(t))throw new TypeError(input must be an array);if(0===t.length)throw new TypeError(input must not be empty);var r=e.fromIndex,n=void 0===r0r,i=e.toIndex,o=void 0===it.lengthi;if(n0n=t.length!Number.isInteger(n))throw new Error(fromIndex must be a positive integer smaller than length);if(o=not.length!Number.isInteger(o))throw new Error(toIndex must be an integer greater than fromIndex and at most equal to length);for(var a=t[n],s=n+1;so;s++)t[s]a&&(a=t[s]);return a};var oi=function(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(!ni(t))throw new TypeError(input must be an array);if(0===t.length)throw new TypeError(input must not be empty);var r=e.fromIndex,n=void 0===r0r,i=e.toIndex,o=void 0===it.lengthi;if(n0n=t.length!Number.isInteger(n))throw new Error(fromIndex must be a positive integer smaller than length);if(o=not.length!Number.isInteger(o))throw new Error(toIndex must be an integer greater than fromIndex and at most equal to length);for(var a=t[n],s=n+1;so;s++)t[s]a&&(a=t[s]);return a};var ai=function(t){var e,r=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(!ni(t))throw new TypeError(input must be an array);if(0===t.length)throw new TypeError(input must not be empty);if(void 0!==r.output){if(!ni(r.output))throw new TypeError(output option must be an array if specified);e=r.output}else e=new Array(t.length);var n=oi(t),i=ii(t);if(n===i)throw new RangeError(minimum and maximum input values are equal. Cannot rescale a constant array);var o=r.min,a=void 0===or.autoMinMaxn0o,s=r.max,u=void 0===sr.autoMinMaxi1s;if(a=u)throw new RangeError(min option must be smaller than max option);for(var c=(u-a)(i-n),h=0;ht.length;h++)e[h]=(t[h]-n)c+a;return e},si= .repeat(2),ui= .repeat(4);function ci(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{},r=e.maxRows,n=void 0===r15r,i=e.maxColumns,o=void 0===i10i,a=e.maxNumSize,s=void 0===a8a;return.concat(t.constructor.name, {n).concat(si,[n).concat(ui).concat(hi(t,n,o,s),n).concat(si,]n).concat(si,rows ).concat(t.rows,n).concat(si,columns ).concat(t.columns,n})}function hi(t,e,r,n){for(var i=t.rows,o=t.columns,a=Math.min(i,e),s=Math.min(o,r),u=[],c=0;ca;c++){for(var h=[],f=0;fs;f++)h.push(fi(t.get(c,f),n));u.push(.concat(h.join( )))}return s!==o&&(u[u.length-1]+= ... .concat(o-r, more columns)),a!==i&&u.push(... .concat(i-e, more rows)),u.join(n.concat(ui))}function fi(t,e){var r=String(t);if(r.length=e)return r.padEnd(e, );var n=t.toPrecision(e-2);if(n.length=e)return n;var i=t.toExponential(e-2),o=i.indexOf(e),a=i.slice(o);return i.slice(0,e-a.length)+a}function li(t){return(li=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}function di(t,e,r){var n=rt.rowst.rows-1;if(e0en)throw new RangeError(Row index out of range)}function pi(t,e,r){var n=rt.columnst.columns-1;if(e0en)throw new RangeError(Column index out of range)}function gi(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError(vector size must be the same as the number of columns);return e}function vi(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError(vector size must be the same as the number of rows);return e}function yi(t,e){if(object!==li(e))throw new TypeError(unexpected type for row indices);if(e.some((function(e){return e0e=t.rows})))throw new RangeError(row indices are out of range);return Array.isArray(e)(e=Array.from(e)),e}function mi(t,e){if(object!==li(e))throw new TypeError(unexpected type for column indices);if(e.some((function(e){return e0e=t.columns})))throw new RangeError(column indices are out of range);return Array.isArray(e)(e=Array.from(e)),e}function bi(t,e,r,n,i){if(5!==arguments.length)throw new RangeError(expected 4 arguments);if(wi(startRow,e),wi(endRow,r),wi(startColumn,n),wi(endColumn,i),ernie0e=t.rowsr0r=t.rowsn0n=t.columnsi0i=t.columns)throw new RangeError(Submatrix indices are out of range)}function xi(t){for(var e=arguments.length1&&void 0!==arguments[1]arguments[1]0,r=[],n=0;nt;n++)r.push(e);return r}function wi(t,e){if(number!=typeof e)throw new TypeError(.concat(t, must be a number))}function Mi(t,e,r){for(var n=t.rows,i=t.columns,o=[],a=0;an;a++){for(var s=0,u=0,c=0,h=0;hi;h++)s+=c=t.get(a,h)-r[a],u+=cc;eo.push((u-ssi)(i-1))o.push((u-ssi)i)}return o}function Si(t,e,r){for(var n=t.rows,i=t.columns,o=[],a=0;ai;a++){for(var s=0,u=0,c=0,h=0;hn;h++)s+=c=t.get(h,a)-r[a],u+=cc;eo.push((u-ssn)(n-1))o.push((u-ssn)n)}return o}function _i(t,e,r){for(var n=t.rows,i=t.columns,o=ni,a=0,s=0,u=0,c=0;cn;c++)for(var h=0;hi;h++)a+=u=t.get(c,h)-r,s+=uu;return e(s-aao)(o-1)(s-aao)o}function ki(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)-e[r])}function Oi(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)-e[n])}function Ei(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)-e)}function ji(t){for(var e=[],r=0;rt.rows;r++){for(var n=0,i=0;it.columns;i++)n+=Math.pow(t.get(r,i),2)(t.columns-1);e.push(Math.sqrt(n))}return e}function Ci(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)e[r])}function Ai(t){for(var e=[],r=0;rt.columns;r++){for(var n=0,i=0;it.rows;i++)n+=Math.pow(t.get(i,r),2)(t.rows-1);e.push(Math.sqrt(n))}return e}function Pi(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)e[n])}function Ii(t){for(var e=t.size-1,r=0,n=0;nt.columns;n++)for(var i=0;it.rows;i++)r+=Math.pow(t.get(i,n),2)e;return Math.sqrt(r)}function Ti(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)e)}function Ni(t,e){return(Ni=Object.setPrototypeOffunction(t,e){return t.__proto__=e,t})(t,e)}function Di(t){var e=function(){if(undefined==typeof Reflect!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(function==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ri(t);if(e){var i=Ri(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Bi(this,r)}}function Bi(t,e){return!eobject!==Li(e)&&function!=typeof efunction(t){if(void 0===t)throw new ReferenceError(this hasn't been initialised - super() hasn't been called);return t}(t)e}function Ri(t){return(Ri=Object.setPrototypeOfObject.getPrototypeOffunction(t){return t.__proto__Object.getPrototypeOf(t)})(t)}function Li(t){return(Li=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}function zi(t,e){if(!(t instanceof e))throw new TypeError(Cannot call a class as a function)}function Fi(t,e){for(var r=0;re.length;r++){var n=e[r];n.enumerable=n.enumerable!1,n.configurable=!0,valuein n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Yi(t,e,r){return e&&Fi(t.prototype,e),r&&Fi(t,r),t}var Gi=function(){function t(){zi(this,t)}return Yi(t,[{keyapply,valuefunction(t){if(function!=typeof t)throw new TypeError(callback must be a function);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)t.call(this,e,r);return this}},{keyto1DArray,valuefunction(){for(var t=[],e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)t.push(this.get(e,r));return t}},{keyto2DArray,valuefunction(){for(var t=[],e=0;ethis.rows;e++){t.push([]);for(var r=0;rthis.columns;r++)t[e].push(this.get(e,r))}return t}},{keytoJSON,valuefunction(){return this.to2DArray()}},{keyisRowVector,valuefunction(){return 1===this.rows}},{keyisColumnVector,valuefunction(){return 1===this.columns}},{keyisVector,valuefunction(){return 1===this.rows1===this.columns}},{keyisSquare,valuefunction(){return this.rows===this.columns}},{keyisSymmetric,valuefunction(){if(this.isSquare()){for(var t=0;tthis.rows;t++)for(var e=0;e=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{keyisEchelonForm,valuefunction(){for(var t=0,e=0,r=-1,n=!0,i=!1;tthis.rows&&n;){for(e=0,i=!1;ethis.columns&&!1===i;)0===this.get(t,e)e++1===this.get(t,e)&&er(i=!0,r=e)(n=!1,i=!0);t++}return n}},{keyisReducedEchelonForm,valuefunction(){for(var t=0,e=0,r=-1,n=!0,i=!1;tthis.rows&&n;){for(e=0,i=!1;ethis.columns&&!1===i;)0===this.get(t,e)e++1===this.get(t,e)&&er(i=!0,r=e)(n=!1,i=!0);for(var o=e+1;othis.rows;o++)0!==this.get(t,o)&&(n=!1);t++}return n}},{keyechelonForm,valuefunction(){for(var t=this.clone(),e=0,r=0;et.rows&&rt.columns;){for(var n=e,i=e;it.rows;i++)t.get(i,r)t.get(n,r)&&(n=i);if(0===t.get(n,r))r++;else{t.swapRows(e,n);for(var o=t.get(e,r),a=r;at.columns;a++)t.set(e,a,t.get(e,a)o);for(var s=e+1;st.rows;s++){var u=t.get(s,r)t.get(e,r);t.set(s,r,0);for(var c=r+1;ct.columns;c++)t.set(s,c,t.get(s,c)-t.get(e,c)u)}e++,r++}}return t}},{keyreducedEchelonForm,valuefunction(){for(var t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;n=0;)if(0===t.maxRow(n))n--;else{for(var i=0,o=!1;ir&&!1===o;)1===t.get(n,i)o=!0i++;for(var a=0;an;a++)for(var s=t.get(a,i),u=i;ue;u++){var c=t.get(a,u)-st.get(n,u);t.set(a,u,c)}n--}return t}},{keyset,valuefunction(){throw new Error(set method is unimplemented)}},{keyget,valuefunction(){throw new Error(get method is unimplemented)}},{keyrepeat,valuefunction(){var t=arguments.length0&&void 0!==arguments[0]arguments[0]{};if(object!==Li(t))throw new TypeError(options must be an object);var e=t.rows,r=void 0===e1e,n=t.columns,i=void 0===n1n;if(!Number.isInteger(r)r=0)throw new TypeError(rows must be a positive integer);if(!Number.isInteger(i)i=0)throw new TypeError(columns must be a positive integer);for(var o=new Hi(this.rowsr,this.columnsi),a=0;ar;a++)for(var s=0;si;s++)o.setSubMatrix(this,this.rowsa,this.columnss);return o}},{keyfill,valuefunction(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,t);return this}},{keyneg,valuefunction(){return this.mulS(-1)}},{keygetRow,valuefunction(t){di(this,t);for(var e=[],r=0;rthis.columns;r++)e.push(this.get(t,r));return e}},{keygetRowVector,valuefunction(t){return Hi.rowVector(this.getRow(t))}},{keysetRow,valuefunction(t,e){di(this,t),e=gi(this,e);for(var r=0;rthis.columns;r++)this.set(t,r,e[r]);return this}},{keyswapRows,valuefunction(t,e){di(this,t),di(this,e);for(var r=0;rthis.columns;r++){var n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}},{keygetColumn,valuefunction(t){pi(this,t);for(var e=[],r=0;rthis.rows;r++)e.push(this.get(r,t));return e}},{keygetColumnVector,valuefunction(t){return Hi.columnVector(this.getColumn(t))}},{keysetColumn,valuefunction(t,e){pi(this,t),e=vi(this,e);for(var r=0;rthis.rows;r++)this.set(r,t,e[r]);return this}},{keyswapColumns,valuefunction(t,e){pi(this,t),pi(this,e);for(var r=0;rthis.rows;r++){var n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}},{keyaddRowVector,valuefunction(t){t=gi(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}},{keysubRowVector,valuefunction(t){t=gi(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}},{keymulRowVector,valuefunction(t){t=gi(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t[r]);return this}},{keydivRowVector,valuefunction(t){t=gi(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t[r]);return this}},{keyaddColumnVector,valuefunction(t){t=vi(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}},{keysubColumnVector,valuefunction(t){t=vi(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}},{keymulColumnVector,valuefunction(t){t=vi(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t[e]);return this}},{keydivColumnVector,valuefunction(t){t=vi(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t[e]);return this}},{keymulRow,valuefunction(t,e){di(this,t);for(var r=0;rthis.columns;r++)this.set(t,r,this.get(t,r)e);return this}},{keymulColumn,valuefunction(t,e){pi(this,t);for(var r=0;rthis.rows;r++)this.set(r,t,this.get(r,t)e);return this}},{keymax,valuefunction(){for(var t=this.get(0,0),e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.get(e,r)t&&(t=this.get(e,r));return t}},{keymaxIndex,valuefunction(){for(var t=this.get(0,0),e=[0,0],r=0;rthis.rows;r++)for(var n=0;nthis.columns;n++)this.get(r,n)t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}},{keymin,valuefunction(){for(var t=this.get(0,0),e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.get(e,r)t&&(t=this.get(e,r));return t}},{keyminIndex,valuefunction(){for(var t=this.get(0,0),e=[0,0],r=0;rthis.rows;r++)for(var n=0;nthis.columns;n++)this.get(r,n)t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}},{keymaxRow,valuefunction(t){di(this,t);for(var e=this.get(t,0),r=1;rthis.columns;r++)this.get(t,r)e&&(e=this.get(t,r));return e}},{keymaxRowIndex,valuefunction(t){di(this,t);for(var e=this.get(t,0),r=[t,0],n=1;nthis.columns;n++)this.get(t,n)e&&(e=this.get(t,n),r[1]=n);return r}},{keyminRow,valuefunction(t){di(this,t);for(var e=this.get(t,0),r=1;rthis.columns;r++)this.get(t,r)e&&(e=this.get(t,r));return e}},{keyminRowIndex,valuefunction(t){di(this,t);for(var e=this.get(t,0),r=[t,0],n=1;nthis.columns;n++)this.get(t,n)e&&(e=this.get(t,n),r[1]=n);return r}},{keymaxColumn,valuefunction(t){pi(this,t);for(var e=this.get(0,t),r=1;rthis.rows;r++)this.get(r,t)e&&(e=this.get(r,t));return e}},{keymaxColumnIndex,valuefunction(t){pi(this,t);for(var e=this.get(0,t),r=[0,t],n=1;nthis.rows;n++)this.get(n,t)e&&(e=this.get(n,t),r[0]=n);return r}},{keyminColumn,valuefunction(t){pi(this,t);for(var e=this.get(0,t),r=1;rthis.rows;r++)this.get(r,t)e&&(e=this.get(r,t));return e}},{keyminColumnIndex,valuefunction(t){pi(this,t);for(var e=this.get(0,t),r=[0,t],n=1;nthis.rows;n++)this.get(n,t)e&&(e=this.get(n,t),r[0]=n);return r}},{keydiag,valuefunction(){for(var t=Math.min(this.rows,this.columns),e=[],r=0;rt;r++)e.push(this.get(r,r));return e}},{keynorm,valuefunction(){var t=arguments.length0&&void 0!==arguments[0]arguments[0]frobenius,e=0;if(max===t)return this.max();if(frobenius===t){for(var r=0;rthis.rows;r++)for(var n=0;nthis.columns;n++)e+=this.get(r,n)this.get(r,n);return Math.sqrt(e)}throw new RangeError(unknown norm type .concat(t))}},{keycumulativeSum,valuefunction(){for(var t=0,e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}},{keydot,valuefunction(e){t.isMatrix(e)&&(e=e.to1DArray());var r=this.to1DArray();if(r.length!==e.length)throw new RangeError(vectors do not have the same size);for(var n=0,i=0;ir.length;i++)n+=r[i]e[i];return n}},{keymmul,valuefunction(t){t=Hi.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.columns,i=new Hi(e,n),o=new Float64Array(r),a=0;an;a++){for(var s=0;sr;s++)o[s]=t.get(s,a);for(var u=0;ue;u++){for(var c=0,h=0;hr;h++)c+=this.get(u,h)o[h];i.set(u,a,c)}}return i}},{keystrassen2x2,valuefunction(t){t=Hi.checkMatrix(t);var e=new Hi(2,2),r=this.get(0,0),n=t.get(0,0),i=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),u=this.get(1,1),c=t.get(1,1),h=(r+u)(n+c),f=(a+u)n,l=r(o-c),d=u(s-n),p=(r+i)c,g=h+d-p+(i-u)(s+c),v=l+p,y=f+d,m=h-f+l+(a-r)(n+o);return e.set(0,0,g),e.set(0,1,v),e.set(1,0,y),e.set(1,1,m),e}},{keystrassen3x3,valuefunction(t){t=Hi.checkMatrix(t);var e=new Hi(3,3),r=this.get(0,0),n=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),c=this.get(2,1),h=this.get(2,2),f=t.get(0,0),l=t.get(0,1),d=t.get(0,2),p=t.get(1,0),g=t.get(1,1),v=t.get(1,2),y=t.get(2,0),m=t.get(2,1),b=t.get(2,2),x=(r-o)(-l+g),w=(-r+o+a)(f-l+g),M=(o+a)(-f+l),S=rf,_=(-r+u+c)(f-d+v),k=(-r+u)(d-v),O=(u+c)(-f+d),E=(-i+c+h)(g+y-m),j=(i-h)(g-m),C=iy,A=(c+h)(-y+m),P=(-i+a+s)(v+y-b),I=(i-s)(v-b),T=(a+s)(-y+b),N=S+C+np,D=(r+n+i-o-a-c-h)g+w+M+S+E+C+A,B=S+_+O+(r+n+i-a-s-u-c)v+C+P+T,R=x+a(-f+l+p-g-v-y+b)+w+S+C+P+I,L=x+w+M+S+sm,z=C+P+I+T+od,F=S+_+k+c(-f+d+p-g-v-y+m)+E+j+C,Y=E+j+C+A+ul,G=S+_+k+O+hb;return e.set(0,0,N),e.set(0,1,D),e.set(0,2,B),e.set(1,0,R),e.set(1,1,L),e.set(1,2,z),e.set(2,0,F),e.set(2,1,Y),e.set(2,2,G),e}},{keymmulStrassen,valuefunction(e){e=Hi.checkMatrix(e);var r=this.clone(),n=r.rows,i=r.columns,o=e.rows,a=e.columns;function s(e,r,n){var i=e.rows,o=e.columns;if(i===r&&o===n)return e;var a=t.zeros(r,n);return a=a.setSubMatrix(e,0,0)}i!==o&&console.warn(Multiplying .concat(n, x ).concat(i, and ).concat(o, x ).concat(a, matrix dimensions do not match.));var u=Math.max(n,o),c=Math.max(i,a);return function e(r,n,i,o){if(i=512o=512)return r.mmul(n);i%2==1&&o%2==1(r=s(r,i+1,o+1),n=s(n,i+1,o+1))i%2==1(r=s(r,i+1,o),n=s(n,i+1,o))o%2==1&&(r=s(r,i,o+1),n=s(n,i,o+1));var a=parseInt(r.rows2,10),u=parseInt(r.columns2,10),c=r.subMatrix(0,a-1,0,u-1),h=n.subMatrix(0,a-1,0,u-1),f=r.subMatrix(0,a-1,u,r.columns-1),l=n.subMatrix(0,a-1,u,n.columns-1),d=r.subMatrix(a,r.rows-1,0,u-1),p=n.subMatrix(a,n.rows-1,0,u-1),g=r.subMatrix(a,r.rows-1,u,r.columns-1),v=n.subMatrix(a,n.rows-1,u,n.columns-1),y=e(t.add(c,g),t.add(h,v),a,u),m=e(t.add(d,g),h,a,u),b=e(c,t.sub(l,v),a,u),x=e(g,t.sub(p,h),a,u),w=e(t.add(c,f),v,a,u),M=e(t.sub(d,c),t.add(h,l),a,u),S=e(t.sub(f,g),t.add(p,v),a,u),_=t.add(y,x);_.sub(w),_.add(S);var k=t.add(b,w),O=t.add(m,x),E=t.sub(y,m);E.add(b),E.add(M);var j=t.zeros(2_.rows,2_.columns);return(j=(j=(j=(j=j.setSubMatrix(_,0,0)).setSubMatrix(k,_.rows,0)).setSubMatrix(O,0,_.columns)).setSubMatrix(E,_.rows,_.columns)).subMatrix(0,i-1,0,o-1)}(r=s(r,u,c),e=s(e,u,c),u,c)}},{keyscaleRows,valuefunction(){var t=arguments.length0&&void 0!==arguments[0]arguments[0]{};if(object!==Li(t))throw new TypeError(options must be an object);var e=t.min,r=void 0===e0e,n=t.max,i=void 0===n1n;if(!Number.isFinite(r))throw new TypeError(min must be a number);if(!Number.isFinite(i))throw new TypeError(max must be a number);if(r=i)throw new RangeError(min must be smaller than max);for(var o=new Hi(this.rows,this.columns),a=0;athis.rows;a++){var s=this.getRow(a);ai(s,{minr,maxi,outputs}),o.setRow(a,s)}return o}},{keyscaleColumns,valuefunction(){var t=arguments.length0&&void 0!==arguments[0]arguments[0]{};if(object!==Li(t))throw new TypeError(options must be an object);var e=t.min,r=void 0===e0e,n=t.max,i=void 0===n1n;if(!Number.isFinite(r))throw new TypeError(min must be a number);if(!Number.isFinite(i))throw new TypeError(max must be a number);if(r=i)throw new RangeError(min must be smaller than max);for(var o=new Hi(this.rows,this.columns),a=0;athis.columns;a++){var s=this.getColumn(a);ai(s,{minr,maxi,outputs}),o.setColumn(a,s)}return o}},{keyflipRows,valuefunction(){for(var t=Math.ceil(this.columns2),e=0;ethis.rows;e++)for(var r=0;rt;r++){var n=this.get(e,r),i=this.get(e,this.columns-1-r);this.set(e,r,i),this.set(e,this.columns-1-r,n)}return this}},{keyflipColumns,valuefunction(){for(var t=Math.ceil(this.rows2),e=0;ethis.columns;e++)for(var r=0;rt;r++){var n=this.get(r,e),i=this.get(this.rows-1-r,e);this.set(r,e,i),this.set(this.rows-1-r,e,n)}return this}},{keykroneckerProduct,valuefunction(t){t=Hi.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.rows,i=t.columns,o=new Hi(en,ri),a=0;ae;a++)for(var s=0;sr;s++)for(var u=0;un;u++)for(var c=0;ci;c++)o.set(na+u,is+c,this.get(a,s)t.get(u,c));return o}},{keytranspose,valuefunction(){for(var t=new Hi(this.columns,this.rows),e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)t.set(r,e,this.get(e,r));return t}},{keysortRows,valuefunction(){for(var t=arguments.length0&&void 0!==arguments[0]arguments[0]qi,e=0;ethis.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{keysortColumns,valuefunction(){for(var t=arguments.length0&&void 0!==arguments[0]arguments[0]qi,e=0;ethis.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{keysubMatrix,valuefunction(t,e,r,n){bi(this,t,e,r,n);for(var i=new Hi(e-t+1,n-r+1),o=t;o=e;o++)for(var a=r;a=n;a++)i.set(o-t,a-r,this.get(o,a));return i}},{keysubMatrixRow,valuefunction(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),ere0e=this.columnsr0r=this.columns)throw new RangeError(Argument out of range);for(var n=new Hi(t.length,r-e+1),i=0;it.length;i++)for(var o=e;o=r;o++){if(t[i]0t[i]=this.rows)throw new RangeError(Row index out of range .concat(t[i]));n.set(i,o-e,this.get(t[i],o))}return n}},{keysubMatrixColumn,valuefunction(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),ere0e=this.rowsr0r=this.rows)throw new RangeError(Argument out of range);for(var n=new Hi(r-e+1,t.length),i=0;it.length;i++)for(var o=e;o=r;o++){if(t[i]0t[i]=this.columns)throw new RangeError(Column index out of range .concat(t[i]));n.set(o-e,i,this.get(o,t[i]))}return n}},{keysetSubMatrix,valuefunction(t,e,r){bi(this,e,e+(t=Hi.checkMatrix(t)).rows-1,r,r+t.columns-1);for(var n=0;nt.rows;n++)for(var i=0;it.columns;i++)this.set(e+n,r+i,t.get(n,i));return this}},{keyselection,valuefunction(t,e){for(var r=function(t,e,r){return{rowyi(t,e),columnmi(t,r)}}(this,t,e),n=new Hi(t.length,e.length),i=0;ir.row.length;i++)for(var o=r.row[i],a=0;ar.column.length;a++){var s=r.column[a];n.set(i,a,this.get(o,s))}return n}},{keytrace,valuefunction(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;rt;r++)e+=this.get(r,r);return e}},{keyclone,valuefunction(){for(var t=new Hi(this.rows,this.columns),e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)t.set(e,r,this.get(e,r));return t}},{keysum,valuefunction(t){switch(t){caserowreturn function(t){for(var e=xi(t.rows),r=0;rt.rows;++r)for(var n=0;nt.columns;++n)e[r]+=t.get(r,n);return e}(this);casecolumnreturn function(t){for(var e=xi(t.columns),r=0;rt.rows;++r)for(var n=0;nt.columns;++n)e[n]+=t.get(r,n);return e}(this);case void 0return function(t){for(var e=0,r=0;rt.rows;r++)for(var n=0;nt.columns;n++)e+=t.get(r,n);return e}(this);defaultthrow new Error(invalid option .concat(t))}}},{keyproduct,valuefunction(t){switch(t){caserowreturn function(t){for(var e=xi(t.rows,1),r=0;rt.rows;++r)for(var n=0;nt.columns;++n)e[r]=t.get(r,n);return e}(this);casecolumnreturn function(t){for(var e=xi(t.columns,1),r=0;rt.rows;++r)for(var n=0;nt.columns;++n)e[n]=t.get(r,n);return e}(this);case void 0return function(t){for(var e=1,r=0;rt.rows;r++)for(var n=0;nt.columns;n++)e=t.get(r,n);return e}(this);defaultthrow new Error(invalid option .concat(t))}}},{keymean,valuefunction(t){var e=this.sum(t);switch(t){caserowfor(var r=0;rthis.rows;r++)e[r]=this.columns;return e;casecolumnfor(var n=0;nthis.columns;n++)e[n]=this.rows;return e;case void 0return ethis.size;defaultthrow new Error(invalid option .concat(t))}}},{keyvariance,valuefunction(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(object===Li(t)&&(e=t,t=void 0),object!==Li(e))throw new TypeError(options must be an object);var r=e,n=r.unbiased,i=void 0===nn,o=r.mean,a=void 0===othis.mean(t)o;if(boolean!=typeof i)throw new TypeError(unbiased must be a boolean);switch(t){caserowif(!Array.isArray(a))throw new TypeError(mean must be an array);return Mi(this,i,a);casecolumnif(!Array.isArray(a))throw new TypeError(mean must be an array);return Si(this,i,a);case void 0if(number!=typeof a)throw new TypeError(mean must be a number);return _i(this,i,a);defaultthrow new Error(invalid option .concat(t))}}},{keystandardDeviation,valuefunction(t,e){object===Li(t)&&(e=t,t=void 0);var r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(var n=0;nr.length;n++)r[n]=Math.sqrt(r[n]);return r}},{keycenter,valuefunction(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(object===Li(t)&&(e=t,t=void 0),object!==Li(e))throw new TypeError(options must be an object);var r=e,n=r.center,i=void 0===nthis.mean(t)n;switch(t){caserowif(!Array.isArray(i))throw new TypeError(center must be an array);return ki(this,i),this;casecolumnif(!Array.isArray(i))throw new TypeError(center must be an array);return Oi(this,i),this;case void 0if(number!=typeof i)throw new TypeError(center must be a number);return Ei(this,i),this;defaultthrow new Error(invalid option .concat(t))}}},{keyscale,valuefunction(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(object===Li(t)&&(e=t,t=void 0),object!==Li(e))throw new TypeError(options must be an object);var r=e.scale;switch(t){caserowif(void 0===r)r=ji(this);else if(!Array.isArray(r))throw new TypeError(scale must be an array);return Ci(this,r),this;casecolumnif(void 0===r)r=Ai(this);else if(!Array.isArray(r))throw new TypeError(scale must be an array);return Pi(this,r),this;case void 0if(void 0===r)r=Ii(this);else if(number!=typeof r)throw new TypeError(scale must be a number);return Ti(this,r),this;defaultthrow new Error(invalid option .concat(t))}}},{keytoString,valuefunction(t){return ci(this,t)}},{keysize,getfunction(){return this.rowsthis.columns}}],[{keyfrom1DArray,valuefunction(t,e,r){if(te!==r.length)throw new RangeError(data length does not match given dimensions);for(var n=new Hi(t,e),i=0;it;i++)for(var o=0;oe;o++)n.set(i,o,r[ie+o]);return n}},{keyrowVector,valuefunction(t){for(var e=new Hi(1,t.length),r=0;rt.length;r++)e.set(0,r,t[r]);return e}},{keycolumnVector,valuefunction(t){for(var e=new Hi(t.length,1),r=0;rt.length;r++)e.set(r,0,t[r]);return e}},{keyzeros,valuefunction(t,e){return new Hi(t,e)}},{keyones,valuefunction(t,e){return new Hi(t,e).fill(1)}},{keyrand,valuefunction(t,e){var r=arguments.length2&&void 0!==arguments[2]arguments[2]{};if(object!==Li(r))throw new TypeError(options must be an object);for(var n=r.random,i=void 0===nMath.randomn,o=new Hi(t,e),a=0;at;a++)for(var s=0;se;s++)o.set(a,s,i());return o}},{keyrandInt,valuefunction(t,e){var r=arguments.length2&&void 0!==arguments[2]arguments[2]{};if(object!==Li(r))throw new TypeError(options must be an object);var n=r.min,i=void 0===n0n,o=r.max,a=void 0===o1e3o,s=r.random,u=void 0===sMath.randoms;if(!Number.isInteger(i))throw new TypeError(min must be an integer);if(!Number.isInteger(a))throw new TypeError(max must be an integer);if(i=a)throw new RangeError(min must be smaller than max);for(var c=a-i,h=new Hi(t,e),f=0;ft;f++)for(var l=0;le;l++){var d=i+Math.round(u()c);h.set(f,l,d)}return h}},{keyeye,valuefunction(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);for(var n=Math.min(t,e),i=this.zeros(t,e),o=0;on;o++)i.set(o,o,r);return i}},{keydiag,valuefunction(t,e,r){var n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);for(var i=Math.min(n,e,r),o=this.zeros(e,r),a=0;ai;a++)o.set(a,a,t[a]);return o}},{keymin,valuefunction(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,i=new Hi(r,n),o=0;or;o++)for(var a=0;an;a++)i.set(o,a,Math.min(t.get(o,a),e.get(o,a)));return i}},{keymax,valuefunction(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,i=new this(r,n),o=0;or;o++)for(var a=0;an;a++)i.set(o,a,Math.max(t.get(o,a),e.get(o,a)));return i}},{keycheckMatrix,valuefunction(e){return t.isMatrix(e)enew Hi(e)}},{keyisMatrix,valuefunction(t){return null!=t&&Matrix===t.klass}}]),t}();function qi(t,e){return t-e}Gi.prototype.klass=Matrix,undefined!=typeof Symbol&&(Gi.prototype[Symbol.for(nodejs.util.inspect.custom)]=function(){return ci(this)}),Gi.random=Gi.rand,Gi.randomInt=Gi.randInt,Gi.diagonal=Gi.diag,Gi.prototype.diagonal=Gi.prototype.diag,Gi.identity=Gi.eye,Gi.prototype.negate=Gi.prototype.neg,Gi.prototype.tensorProduct=Gi.prototype.kroneckerProduct;var Xi,Vi,Hi=function(t){!function(t,e){if(function!=typeof e&&null!==e)throw new TypeError(Super expression must either be null or a function);t.prototype=Object.create(e&&e.prototype,{constructor{valuet,writable!0,configurable!0}}),e&&Ni(t,e)}(r,t);var e=Di(r);function r(t,n){var i;if(zi(this,r),i=e.call(this),r.isMatrix(t))return Bi(i,t.clone());if(Number.isInteger(t)&&t0){if(i.data=[],!(Number.isInteger(n)&&n0))throw new TypeError(nColumns must be a positive integer);for(var o=0;ot;o++)i.data.push(new Float64Array(n))}else{if(!Array.isArray(t))throw new TypeError(First argument must be a positive number or an array);var a=t;if(t=a.length,number!=typeof(n=a[0].length)0===n)throw new TypeError(Data must be a 2D array with at least one element);i.data=[];for(var s=0;st;s++){if(a[s].length!==n)throw new RangeError(Inconsistent array dimensions);i.data.push(Float64Array.from(a[s]))}}return i.rows=t,i.columns=n,i}return Yi(r,[{keyset,valuefunction(t,e,r){return this.data[t][e]=r,this}},{keyget,valuefunction(t,e){return this.data[t][e]}},{keyremoveRow,valuefunction(t){if(di(this,t),1===this.rows)throw new RangeError(A matrix cannot have less than one row);return this.data.splice(t,1),this.rows-=1,this}},{keyaddRow,valuefunction(t,e){return void 0===e&&(e=t,t=this.rows),di(this,t,!0),e=Float64Array.from(gi(this,e)),this.data.splice(t,0,e),this.rows+=1,this}},{keyremoveColumn,valuefunction(t){if(pi(this,t),1===this.columns)throw new RangeError(A matrix cannot have less than one column);for(var e=0;ethis.rows;e++){for(var r=new Float64Array(this.columns-1),n=0;nt;n++)r[n]=this.data[e][n];for(var i=t+1;ithis.columns;i++)r[i-1]=this.data[e][i];this.data[e]=r}return this.columns-=1,this}},{keyaddColumn,valuefunction(t,e){void 0===e&&(e=t,t=this.columns),pi(this,t,!0),e=vi(this,e);for(var r=0;rthis.rows;r++){for(var n=new Float64Array(this.columns+1),i=0;it;i++)n[i]=this.data[r][i];for(n[i++]=e[r];ithis.columns+1;i++)n[i]=this.data[r][i-1];this.data[r]=n}return this.columns+=1,this}}]),r}(Gi);function Ui(t){return(Ui=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}function Wi(t,e){for(var r=0;re.length;r++){var n=e[r];n.enumerable=n.enumerable!1,n.configurable=!0,valuein n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zi(t,e){return(Zi=Object.setPrototypeOffunction(t,e){return t.__proto__=e,t})(t,e)}function $i(t){var e=function(){if(undefined==typeof Reflect!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(function==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Qi(t);if(e){var i=Qi(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Ki(this,r)}}function Ki(t,e){return!eobject!==Ui(e)&&function!=typeof efunction(t){if(void 0===t)throw new ReferenceError(this hasn't been initialised - super() hasn't been called);return t}(t)e}function Qi(t){return(Qi=Object.setPrototypeOfObject.getPrototypeOffunction(t){return t.__proto__Object.getPrototypeOf(t)})(t)}Vi=Hi,(Xi=Gi).prototype.add=function(t){returnnumber==typeof tthis.addS(t)this.addM(t)},Xi.prototype.addS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)+t);return this},Xi.prototype.addM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},Xi.add=function(t,e){return new Vi(t).add(e)},Xi.prototype.sub=function(t){returnnumber==typeof tthis.subS(t)this.subM(t)},Xi.prototype.subS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)-t);return this},Xi.prototype.subM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},Xi.sub=function(t,e){return new Vi(t).sub(e)},Xi.prototype.subtract=Xi.prototype.sub,Xi.prototype.subtractS=Xi.prototype.subS,Xi.prototype.subtractM=Xi.prototype.subM,Xi.subtract=Xi.sub,Xi.prototype.mul=function(t){returnnumber==typeof tthis.mulS(t)this.mulM(t)},Xi.prototype.mulS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Xi.prototype.mulM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Xi.mul=function(t,e){return new Vi(t).mul(e)},Xi.prototype.multiply=Xi.prototype.mul,Xi.prototype.multiplyS=Xi.prototype.mulS,Xi.prototype.multiplyM=Xi.prototype.mulM,Xi.multiply=Xi.mul,Xi.prototype.div=function(t){returnnumber==typeof tthis.divS(t)this.divM(t)},Xi.prototype.divS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Xi.prototype.divM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Xi.div=function(t,e){return new Vi(t).div(e)},Xi.prototype.divide=Xi.prototype.div,Xi.prototype.divideS=Xi.prototype.divS,Xi.prototype.divideM=Xi.prototype.divM,Xi.divide=Xi.div,Xi.prototype.mod=function(t){returnnumber==typeof tthis.modS(t)this.modM(t)},Xi.prototype.modS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)%t);return this},Xi.prototype.modM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},Xi.mod=function(t,e){return new Vi(t).mod(e)},Xi.prototype.modulus=Xi.prototype.mod,Xi.prototype.modulusS=Xi.prototype.modS,Xi.prototype.modulusM=Xi.prototype.modM,Xi.modulus=Xi.mod,Xi.prototype.and=function(t){returnnumber==typeof tthis.andS(t)this.andM(t)},Xi.prototype.andS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)&t);return this},Xi.prototype.andM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},Xi.and=function(t,e){return new Vi(t).and(e)},Xi.prototype.or=function(t){returnnumber==typeof tthis.orS(t)this.orM(t)},Xi.prototype.orS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Xi.prototype.orM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Xi.or=function(t,e){return new Vi(t).or(e)},Xi.prototype.xor=function(t){returnnumber==typeof tthis.xorS(t)this.xorM(t)},Xi.prototype.xorS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)^t);return this},Xi.prototype.xorM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},Xi.xor=function(t,e){return new Vi(t).xor(e)},Xi.prototype.leftShift=function(t){returnnumber==typeof tthis.leftShiftS(t)this.leftShiftM(t)},Xi.prototype.leftShiftS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Xi.prototype.leftShiftM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Xi.leftShift=function(t,e){return new Vi(t).leftShift(e)},Xi.prototype.signPropagatingRightShift=function(t){returnnumber==typeof tthis.signPropagatingRightShiftS(t)this.signPropagatingRightShiftM(t)},Xi.prototype.signPropagatingRightShiftS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Xi.prototype.signPropagatingRightShiftM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Xi.signPropagatingRightShift=function(t,e){return new Vi(t).signPropagatingRightShift(e)},Xi.prototype.rightShift=function(t){returnnumber==typeof tthis.rightShiftS(t)this.rightShiftM(t)},Xi.prototype.rightShiftS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Xi.prototype.rightShiftM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Xi.rightShift=function(t,e){return new Vi(t).rightShift(e)},Xi.prototype.zeroFillRightShift=Xi.prototype.rightShift,Xi.prototype.zeroFillRightShiftS=Xi.prototype.rightShiftS,Xi.prototype.zeroFillRightShiftM=Xi.prototype.rightShiftM,Xi.zeroFillRightShift=Xi.rightShift,Xi.prototype.not=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,~this.get(t,e));return this},Xi.not=function(t){return new Vi(t).not()},Xi.prototype.abs=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},Xi.abs=function(t){return new Vi(t).abs()},Xi.prototype.acos=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},Xi.acos=function(t){return new Vi(t).acos()},Xi.prototype.acosh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},Xi.acosh=function(t){return new Vi(t).acosh()},Xi.prototype.asin=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},Xi.asin=function(t){return new Vi(t).asin()},Xi.prototype.asinh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},Xi.asinh=function(t){return new Vi(t).asinh()},Xi.prototype.atan=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},Xi.atan=function(t){return new Vi(t).atan()},Xi.prototype.atanh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},Xi.atanh=function(t){return new Vi(t).atanh()},Xi.prototype.cbrt=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},Xi.cbrt=function(t){return new Vi(t).cbrt()},Xi.prototype.ceil=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},Xi.ceil=function(t){return new Vi(t).ceil()},Xi.prototype.clz32=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},Xi.clz32=function(t){return new Vi(t).clz32()},Xi.prototype.cos=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},Xi.cos=function(t){return new Vi(t).cos()},Xi.prototype.cosh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},Xi.cosh=function(t){return new Vi(t).cosh()},Xi.prototype.exp=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},Xi.exp=function(t){return new Vi(t).exp()},Xi.prototype.expm1=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},Xi.expm1=function(t){return new Vi(t).expm1()},Xi.prototype.floor=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},Xi.floor=function(t){return new Vi(t).floor()},Xi.prototype.fround=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},Xi.fround=function(t){return new Vi(t).fround()},Xi.prototype.log=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},Xi.log=function(t){return new Vi(t).log()},Xi.prototype.log1p=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},Xi.log1p=function(t){return new Vi(t).log1p()},Xi.prototype.log10=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},Xi.log10=function(t){return new Vi(t).log10()},Xi.prototype.log2=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},Xi.log2=function(t){return new Vi(t).log2()},Xi.prototype.round=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},Xi.round=function(t){return new Vi(t).round()},Xi.prototype.sign=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},Xi.sign=function(t){return new Vi(t).sign()},Xi.prototype.sin=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},Xi.sin=function(t){return new Vi(t).sin()},Xi.prototype.sinh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},Xi.sinh=function(t){return new Vi(t).sinh()},Xi.prototype.sqrt=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},Xi.sqrt=function(t){return new Vi(t).sqrt()},Xi.prototype.tan=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},Xi.tan=function(t){return new Vi(t).tan()},Xi.prototype.tanh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},Xi.tanh=function(t){return new Vi(t).tanh()},Xi.prototype.trunc=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},Xi.trunc=function(t){return new Vi(t).trunc()},Xi.pow=function(t,e){return new Vi(t).pow(e)},Xi.prototype.pow=function(t){returnnumber==typeof tthis.powS(t)this.powM(t)},Xi.prototype.powS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t));return this},Xi.prototype.powM=function(t){if(t=Vi.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t.get(e,r)));return this};var Ji=function(t){!function(t,e){if(function!=typeof e&&null!==e)throw new TypeError(Super expression must either be null or a function);t.prototype=Object.create(e&&e.prototype,{constructor{valuet,writable!0,configurable!0}}),e&&Zi(t,e)}(o,t);var e,r,n,i=$i(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(Cannot call a class as a function)}(this,o),(e=i.call(this)).data=t,e.rows=t.length,e.columns=t[0].length,e}return e=o,(r=[{keyset,valuefunction(t,e,r){return this.data[t][e]=r,this}},{keyget,valuefunction(t,e){return this.data[t][e]}}])&&Wi(e.prototype,r),n&&Wi(e,n),o}(Gi);function to(t,e){var r=0;return Math.abs(t)Math.abs(e)(r=et,Math.abs(t)Math.sqrt(1+rr))0!==e(r=te,Math.abs(e)Math.sqrt(1+rr))0}function eo(t,e){if(!(t instanceof e))throw new TypeError(Cannot call a class as a function)}function ro(t,e){for(var r=0;re.length;r++){var n=e[r];n.enumerable=n.enumerable!1,n.configurable=!0,valuein n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var no=function(){function t(e){var r=arguments.length1&&void 0!==arguments[1]arguments[1]{};eo(this,t);var n,i=(e=Ji.checkMatrix(e)).rows,o=e.columns,a=r.computeLeftSingularVectors,s=void 0===aa,u=r.computeRightSingularVectors,c=void 0===uu,h=r.autoTranspose,f=void 0!==h&&h,l=Boolean(s),d=Boolean(c),p=!1;if(io)if(f){i=(n=e.transpose()).rows,o=n.columns,p=!0;var g=l;l=d,d=g}else n=e.clone(),console.warn(Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose);else n=e.clone();for(var v=Math.min(i,o),y=Math.min(i+1,o),m=new Float64Array(y),b=new Hi(i,v),x=new Hi(o,o),w=new Float64Array(o),M=new Float64Array(i),S=new Float64Array(y),_=0;_y;_++)S[_]=_;for(var k=Math.min(i-1,o),O=Math.max(0,Math.min(o-2,i)),E=Math.max(k,O),j=0;jE;j++){if(jk){m[j]=0;for(var C=j;Ci;C++)m[j]=to(m[j],n.get(C,j));if(0!==m[j]){n.get(j,j)0&&(m[j]=-m[j]);for(var A=j;Ai;A++)n.set(A,j,n.get(A,j)m[j]);n.set(j,j,n.get(j,j)+1)}m[j]=-m[j]}for(var P=j+1;Po;P++){if(jk&&0!==m[j]){for(var I=0,T=j;Ti;T++)I+=n.get(T,j)n.get(T,P);I=-In.get(j,j);for(var N=j;Ni;N++)n.set(N,P,n.get(N,P)+In.get(N,j))}w[P]=n.get(j,P)}if(l&&jk)for(var D=j;Di;D++)b.set(D,j,n.get(D,j));if(jO){w[j]=0;for(var B=j+1;Bo;B++)w[j]=to(w[j],w[B]);if(0!==w[j]){w[j+1]0&&(w[j]=0-w[j]);for(var R=j+1;Ro;R++)w[R]=w[j];w[j+1]+=1}if(w[j]=-w[j],j+1i&&0!==w[j]){for(var L=j+1;Li;L++)M[L]=0;for(var z=j+1;zi;z++)for(var F=j+1;Fo;F++)M[z]+=w[F]n.get(z,F);for(var Y=j+1;Yo;Y++)for(var G=-w[Y]w[j+1],q=j+1;qi;q++)n.set(q,Y,n.get(q,Y)+GM[q])}if(d)for(var X=j+1;Xo;X++)x.set(X,j,w[X])}}var V=Math.min(o,i+1);if(ko&&(m[k]=n.get(k,k)),iV&&(m[V-1]=0),O+1V&&(w[O]=n.get(O,V-1)),w[V-1]=0,l){for(var H=k;Hv;H++){for(var U=0;Ui;U++)b.set(U,H,0);b.set(H,H,1)}for(var W=k-1;W=0;W--)if(0!==m[W]){for(var Z=W+1;Zv;Z++){for(var $=0,K=W;Ki;K++)$+=b.get(K,W)b.get(K,Z);$=-$b.get(W,W);for(var Q=W;Qi;Q++)b.set(Q,Z,b.get(Q,Z)+$b.get(Q,W))}for(var J=W;Ji;J++)b.set(J,W,-b.get(J,W));b.set(W,W,1+b.get(W,W));for(var tt=0;ttW-1;tt++)b.set(tt,W,0)}else{for(var et=0;eti;et++)b.set(et,W,0);b.set(W,W,1)}}if(d)for(var rt=o-1;rt=0;rt--){if(rtO&&0!==w[rt])for(var nt=rt+1;nto;nt++){for(var it=0,ot=rt+1;oto;ot++)it+=x.get(ot,rt)x.get(ot,nt);it=-itx.get(rt+1,rt);for(var at=rt+1;ato;at++)x.set(at,nt,x.get(at,nt)+itx.get(at,rt))}for(var st=0;sto;st++)x.set(st,rt,0);x.set(rt,rt,1)}for(var ut=V-1,ct=Number.EPSILON;V0;){var ht=void 0,ft=void 0;for(ht=V-2;ht=-1&&-1!==ht;ht--){var lt=Number.MIN_VALUE+ctMath.abs(m[ht]+Math.abs(m[ht+1]));if(Math.abs(w[ht])=ltNumber.isNaN(w[ht])){w[ht]=0;break}}if(ht===V-2)ft=4;else{var dt=void 0;for(dt=V-1;dt=ht&&dt!==ht;dt--){var pt=(dt!==VMath.abs(w[dt])0)+(dt!==ht+1Math.abs(w[dt-1])0);if(Math.abs(m[dt])=ctpt){m[dt]=0;break}}dt===htft=3dt===V-1ft=1(ft=2,ht=dt)}switch(ht++,ft){case 1var gt=w[V-2];w[V-2]=0;for(var vt=V-2;vt=ht;vt--){var yt=to(m[vt],gt),mt=m[vt]yt,bt=gtyt;if(m[vt]=yt,vt!==ht&&(gt=-btw[vt-1],w[vt-1]=mtw[vt-1]),d)for(var xt=0;xto;xt++)yt=mtx.get(xt,vt)+btx.get(xt,V-1),x.set(xt,V-1,-btx.get(xt,vt)+mtx.get(xt,V-1)),x.set(xt,vt,yt)}break;case 2var wt=w[ht-1];w[ht-1]=0;for(var Mt=ht;MtV;Mt++){var St=to(m[Mt],wt),_t=m[Mt]St,kt=wtSt;if(m[Mt]=St,wt=-ktw[Mt],w[Mt]=_tw[Mt],l)for(var Ot=0;Oti;Ot++)St=_tb.get(Ot,Mt)+ktb.get(Ot,ht-1),b.set(Ot,ht-1,-ktb.get(Ot,Mt)+_tb.get(Ot,ht-1)),b.set(Ot,Mt,St)}break;case 3var Et=Math.max(Math.abs(m[V-1]),Math.abs(m[V-2]),Math.abs(w[V-2]),Math.abs(m[ht]),Math.abs(w[ht])),jt=m[V-1]Et,Ct=m[V-2]Et,At=w[V-2]Et,Pt=m[ht]Et,It=w[ht]Et,Tt=((Ct+jt)(Ct-jt)+AtAt)2,Nt=jtAt(jtAt),Dt=0;0===Tt&&0===Nt(Dt=Nt(Tt+(Dt=Tt00-Math.sqrt(TtTt+Nt)Math.sqrt(TtTt+Nt))));for(var Bt=(Pt+jt)(Pt-jt)+Dt,Rt=PtIt,Lt=ht;LtV-1;Lt++){var zt=to(Bt,Rt);0===zt&&(zt=Number.MIN_VALUE);var Ft=Btzt,Yt=Rtzt;if(Lt!==ht&&(w[Lt-1]=zt),Bt=Ftm[Lt]+Ytw[Lt],w[Lt]=Ftw[Lt]-Ytm[Lt],Rt=Ytm[Lt+1],m[Lt+1]=Ftm[Lt+1],d)for(var Gt=0;Gto;Gt++)zt=Ftx.get(Gt,Lt)+Ytx.get(Gt,Lt+1),x.set(Gt,Lt+1,-Ytx.get(Gt,Lt)+Ftx.get(Gt,Lt+1)),x.set(Gt,Lt,zt);if(0===(zt=to(Bt,Rt))&&(zt=Number.MIN_VALUE),Ft=Btzt,Yt=Rtzt,m[Lt]=zt,Bt=Ftw[Lt]+Ytm[Lt+1],m[Lt+1]=-Ytw[Lt]+Ftm[Lt+1],Rt=Ytw[Lt+1],w[Lt+1]=Ftw[Lt+1],l&&Lti-1)for(var qt=0;qti;qt++)zt=Ftb.get(qt,Lt)+Ytb.get(qt,Lt+1),b.set(qt,Lt+1,-Ytb.get(qt,Lt)+Ftb.get(qt,Lt+1)),b.set(qt,Lt,zt)}w[V-2]=Bt,1;break;case 4if(m[ht]=0&&(m[ht]=m[ht]0-m[ht]0,d))for(var Xt=0;Xt=ut;Xt++)x.set(Xt,ht,-x.get(Xt,ht));for(;htut&&!(m[ht]=m[ht+1]);){var Vt=m[ht];if(m[ht]=m[ht+1],m[ht+1]=Vt,d&&hto-1)for(var Ht=0;Hto;Ht++)Vt=x.get(Ht,ht+1),x.set(Ht,ht+1,x.get(Ht,ht)),x.set(Ht,ht,Vt);if(l&&hti-1)for(var Ut=0;Uti;Ut++)Vt=b.get(Ut,ht+1),b.set(Ut,ht+1,b.get(Ut,ht)),b.set(Ut,ht,Vt);ht++}0,V--}}if(p){var Wt=x;x=b,b=Wt}this.m=i,this.n=o,this.s=m,this.U=b,this.V=x}var e,r,n;return e=t,(r=[{keysolve,valuefunction(t){for(var e=t,r=this.threshold,n=this.s.length,i=Hi.zeros(n,n),o=0;on;o++)Math.abs(this.s[o])=ri.set(o,o,0)i.set(o,o,1this.s[o]);for(var a=this.U,s=this.rightSingularVectors,u=s.mmul(i),c=s.rows,h=a.rows,f=Hi.zeros(c,h),l=0;lc;l++)for(var d=0;dh;d++){for(var p=0,g=0;gn;g++)p+=u.get(l,g)a.get(d,g);f.set(l,d,p)}return f.mmul(e)}},{keysolveForDiagonal,valuefunction(t){return this.solve(Hi.diag(t))}},{keyinverse,valuefunction(){for(var t=this.V,e=this.threshold,r=t.rows,n=t.columns,i=new Hi(r,this.s.length),o=0;or;o++)for(var a=0;an;a++)Math.abs(this.s[a])e&&i.set(o,a,t.get(o,a)this.s[a]);for(var s=this.U,u=s.rows,c=s.columns,h=new Hi(r,u),f=0;fr;f++)for(var l=0;lu;l++){for(var d=0,p=0;pc;p++)d+=i.get(f,p)s.get(l,p);h.set(f,l,d)}return h}},{keycondition,getfunction(){return this.s[0]this.s[Math.min(this.m,this.n)-1]}},{keynorm2,getfunction(){return this.s[0]}},{keyrank,getfunction(){for(var t=Math.max(this.m,this.n)this.s[0]Number.EPSILON,e=0,r=this.s,n=0,i=r.length;ni;n++)r[n]t&&e++;return e}},{keydiagonal,getfunction(){return Array.from(this.s)}},{keythreshold,getfunction(){return Number.EPSILON2Math.max(this.m,this.n)this.s[0]}},{keyleftSingularVectors,getfunction(){return this.U}},{keyrightSingularVectors,getfunction(){return this.V}},{keydiagonalMatrix,getfunction(){return Hi.diag(this.s)}}])&&ro(e.prototype,r),n&&ro(e,n),t}(),io=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.linkDistance=50,e.scaledDistances=null,e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],linkDistance50}},e.prototype.execute=function(){var t=this.nodes,e=this.edges,r=void 0===e[]e,n=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=n[0],void(t[0].y=n[1]);var i=this.linkDistance,o=Ht({nodest,edgesr},!1),a=Vt(o);this.handleInfinity(a);var s=Xt(a,i);this.scaledDistances=s;var u=this.runMDS();this.positions=u,u.forEach((function(e,r){t[r].x=e[0]+n[0],t[r].y=e[1]+n[1]}))}},e.prototype.runMDS=function(){var t=this.scaledDistances,e=Hi.mul(Hi.pow(t,2),-.5),r=e.mean(row),n=e.mean(column),i=e.mean();e.add(i).subRowVector(r).subColumnVector(n);var o=new no(e),a=Hi.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map((function(t){return Hi.mul([t],[a]).toJSON()[0].splice(0,2)}))},e.prototype.handleInfinity=function(t){var e=-999999;t.forEach((function(t){t.forEach((function(t){t!==10&&et&&(e=t)}))})),t.forEach((function(r,n){r.forEach((function(r,i){r===10&&(t[n][i]=e)}))}))},e}(Yr),oo=function(){function t(t){this.distances=t.distances,this.dimension=t.dimension2,this.linkDistance=t.linkDistance}return t.prototype.layout=function(){var t=this.dimension,e=this.distances,r=this.linkDistance;try{var n=Hi.mul(Hi.pow(e,2),-.5),i=n.mean(row),o=n.mean(column),a=n.mean();n.add(a).subRowVector(i).subColumnVector(o);var s=new no(n),u=Hi.sqrt(s.diagonalMatrix).diagonal();return s.leftSingularVectors.toJSON().map((function(e){return Hi.mul([e],[u]).toJSON()[0].splice(0,t)}))}catch(t){for(var c=[],h=0;he.length;h++){var f=Math.random()r,l=Math.random()r;c.push([f,l])}return c}},t}(),ao=function(){function t(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations10,this.height=t.height10,this.width=t.width10,this.speed=t.speed100,this.gravity=t.gravity10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}return t.prototype.layout=function(){var t=this.positions,e=[],r=this.iterations,n=this.width10;this.maxDisplace=n,this.disp=e;for(var i=0;ir;i++)t.forEach((function(t,r){e[r]={x0,y0}})),this.getRepulsion(),this.updatePositions();return t},t.prototype.getRepulsion=function(){var t=this,e=t.positions,r=t.nodes,n=t.disp,i=t.k,o=t.radii[];e.forEach((function(a,s){n[s]={x0,y0},e.forEach((function(e,u){if(s!==u&&o[s]===o[u]){var c=a[0]-e[0],h=a[1]-e[1],f=Math.sqrt(cc+hh);if(0===f){f=1;var l=su1-1;c=.01l,h=.01l}if(ft.nodeSizeFunc(r[s])2+t.nodeSizeFunc(r[u])2){var d=iif;n[s].x+=cfd,n[s].y+=hfd}}}))}))},t.prototype.updatePositions=function(){var t=this.positions,e=this.disp,r=this.speed,n=this.strictRadial,i=this.focusID,o=this.maxDisplacethis.width10;n&&e.forEach((function(e,r){var n=t[r][0]-t[i][0],o=t[r][1]-t[i][1],a=Math.sqrt(nn+oo),s=oa,u=-na,c=Math.sqrt(e.xe.x+e.ye.y),h=Math.acos((se.x+ue.y)c);hMath.PI2&&(h-=Math.PI2,s=-1,u=-1);var f=Math.cos(h)c;e.x=sf,e.y=uf}));var a=this.radii;t.forEach((function(s,u){if(u!==i){var c=Math.sqrt(e[u].xe[u].x+e[u].ye[u].y);if(c0&&u!==i){var h=Math.min(o(r800),c);if(s[0]+=e[u].xch,s[1]+=e[u].ych,n){var f=s[0]-t[i][0],l=s[1]-t[i][1],d=Math.sqrt(ff+ll);f=fda[u],l=lda[u],s[0]=t[i][0]+f,s[1]=t[i][1]+l}}}}))},t}();function so(t,e){return Math.sqrt((t[0]-e[0])(t[0]-e[0])+(t[1]-e[1])(t[1]-e[1]))}var uo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.maxIteration=1e3,e.focusNode=null,e.unitRadius=null,e.linkDistance=50,e.preventOverlap=!1,e.strictRadial=!0,e.maxPreventOverlapIteration=200,e.sortStrength=10,e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],maxIteration1e3,focusNodenull,unitRadiusnull,linkDistance50,preventOverlap!1,nodeSizevoid 0,nodeSpacingvoid 0,strictRadial!0,maxPreventOverlapIteration200,sortByvoid 0,sortStrength10}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges[],n=t.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=n[0],void(e[0].y=n[1]);var i=t.linkDistance,o=null;if(_()(t.focusNode)){for(var a=!1,s=0;se.length;s++)e[s].id===t.focusNode&&(o=e[s],t.focusNode=o,a=!0,s=e.length);a(o=null)}else o=t.focusNode;o(o=e[0],t.focusNode=o);var u,c,h,f=(u=e,c=o.id,h=-1,u.forEach((function(t,e){t.id===c&&(h=e)})),h);t.focusIndex=f;var l=Ht({nodese,edgesr},!1),d=Vt(l),p=t.maxToFocus(d,f);t.handleInfinity(d,f,p+1),t.distances=d;var g=d[f];t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight);var v=t.width500,y=t.height500,b=v-n[0]n[0]n[0]v-n[0],x=y-n[1]n[1]n[1]y-n[1];0===b&&(b=v2),0===x&&(x=y2);var w=xbbx,S=Math.max.apply(Math,g),k=[];g.forEach((function(e,r){t.unitRadius(t.unitRadius=wS),k[r]=et.unitRadius})),t.radii=k;var O=t.eIdealDisMatrix();t.eIdealDistances=O;var E=function(t){for(var e=t.length,r=t[0].length,n=[],i=0;ie;i++){for(var o=[],a=0;ar;a++)0!==t[i][a]o.push(1(t[i][a]t[i][a]))o.push(0);n.push(o)}return n}(O);t.weights=E;var j=new oo({distancesO,linkDistancei}).layout();j.forEach((function(t){P(t[0])&&(t[0]=Math.random()i),P(t[1])&&(t[1]=Math.random()i)})),t.positions=j,j.forEach((function(t,r){e[r].x=t[0]+n[0],e[r].y=t[1]+n[1]})),j.forEach((function(t){t[0]-=j[f][0],t[1]-=j[f][1]})),t.run();var C=t.preventOverlap,A=t.nodeSize,I=t.strictRadial;if(C){var T,N=t.nodeSpacing;T=M()(N)function(){return N}Un()(N)Nfunction(){return 0};var D={nodeSizeFuncAm()(A)function(t){return(A[0]A[1]A[0]A[1])+T(t)}function(t){return A+T(t)}function(t){return t.sizem()(t.size)(t.size[0]t.size[1]t.size[0]t.size[1])+T(t)t.size+T(t)10+T(t)},adjMatrixl,positionsj,radiik,heighty,widthv,strictRadialI,focusIDf,iterationst.maxPreventOverlapIteration200,kj.length4.5,nodese},B=new ao(D);j=B.layout()}j.forEach((function(t,r){e[r].x=t[0]+n[0],e[r].y=t[1]+n[1]}))}},e.prototype.run=function(){for(var t=this.maxIteration,e=this.positions[],r=this.weights[],n=this.eIdealDistances[],i=this.radii[],o=0;o=t;o++){var a=ot;this.oneIteration(a,e,i,n,r)}},e.prototype.oneIteration=function(t,e,r,n,i){var o=1-t,a=this.focusIndex;e.forEach((function(s,u){var c=so(s,[0,0]),h=0===c01c;if(u!==a){var f=0,l=0,d=0;e.forEach((function(t,e){if(u!==e){var r=so(s,t),o=0===r01r,a=n[e][u];d+=i[u][e],f+=i[u][e](t[0]+a(s[0]-t[0])o),l+=i[u][e](t[1]+a(s[1]-t[1])o)}}));var p=0===r[u]01r[u];d=o,d+=tpp,f=o,f+=tps[0]h,s[0]=fd,l=o,l+=tps[1]h,s[1]=ld}}))},e.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var r=t.distances,n=t.linkDistance,i=t.radii[],o=t.unitRadius50,a=[];return r&&r.forEach((function(r,s){var u=[];r.forEach((function(r,a){if(s===a)u.push(0);else if(i[s]===i[a])if(data===t.sortBy)u.push(r(Math.abs(s-a)t.sortStrength)(i[s]o));else if(t.sortBy){var c=e[s][t.sortBy]0,h=e[a][t.sortBy]0;_()(c)&&(c=c.charCodeAt(0)),_()(h)&&(h=h.charCodeAt(0)),u.push(r(Math.abs(c-h)t.sortStrength)(i[s]o))}else u.push(rn(i[s]o));else{var f=(n+o)2;u.push(rf)}})),a.push(u)})),a},e.prototype.handleInfinity=function(t,e,r){for(var n=t.length,i=0;in;i++)if(t[e][i]===10){t[e][i]=r,t[i][e]=r;for(var o=0;on;o++)t[i][o]!==10&&t[e][o]===10&&(t[e][o]=r+t[i][o],t[o][e]=r+t[i][o])}for(i=0;in;i++)if(i!==e)for(o=0;on;o++)if(t[i][o]===10){var a=Math.abs(t[e][i]-t[e][o]);a=0===a1a,t[i][o]=a}},e.prototype.maxToFocus=function(t,e){for(var r=0,n=0;nt[e].length;n++)t[e][n]!==10&&(r=t[e][n]rt[e][n]r);return r},e}(Yr),co=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.width=300,e.height=300,e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],width300,height300}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.center;t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9(Math.random()-.5)t.width+r[0],e.y=.9(Math.random()-.5)t.height+r[1]}))},e}(Yr),ho={circularVr,concentricHr,dagreZr,forceKn,g6forceJn,comboForcefunction(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.maxIteration=100,e.gravity=10,e.comboGravity=10,e.linkDistance=10,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1300),e.alphaTarget=0,e.velocityDecay=.6,e.edgeStrength=.2,e.nodeStrength=30,e.preventOverlap=!1,e.preventNodeOverlap=!1,e.preventComboOverlap=!1,e.collideStrength=void 0,e.nodeCollideStrength=void 0,e.comboCollideStrength=void 0,e.optimizeRangeFactor=1,e.onTick=function(){},e.onLayoutEnd=function(){},e.depthAttractiveForceScale=.5,e.depthRepulsiveForceScale=2,e.nodes=[],e.edges=[],e.combos=[],e.comboTrees=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.oriComboMap={},e.nodeIdxMap={},e.comboMap={},e.previousLayouted=!1,e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration100,center[0,0],gravity10,speed1,comboGravity30,preventOverlap!1,preventComboOverlap!0,preventNodeOverlap!0,nodeSpacingvoid 0,collideStrengthvoid 0,nodeCollideStrength.5,comboCollideStrength.5,comboSpacing20,comboPadding10,edgeStrength.2,nodeStrength30,linkDistance10}},e.prototype.execute=function(){var t=this.nodes,e=this.center;if(this.comboTree={idcomboTreeRoot,depth-1,childrenthis.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);this.initVals(),this.run(),this.onLayoutEnd()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.previousLayoutedt.maxIteration5t.maxIteration;t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight);var n=t.center,i=t.velocityDecay,o=t.comboMap;t.previousLayoutedt.initPos(o);for(var a=function(r){var n=[];e.forEach((function(t,e){n[e]={x0,y0}})),t.applyCalculate(n),t.applyComboCenterForce(n),e.forEach((function(t,e){Object(ht.isNumber)(t.x)&&Object(ht.isNumber)(t.y)&&(t.x+=n[e].xi,t.y+=n[e].yi)})),t.alpha+=(t.alphaTarget-t.alpha)t.alphaDecay,t.onTick()},s=0;sr;s++)a();var u=[0,0];e.forEach((function(t){Object(ht.isNumber)(t.x)&&Object(ht.isNumber)(t.y)&&(u[0]+=t.x,u[1]+=t.y)})),u[0]=e.length,u[1]=e.length;var c=[n[0]-u[0],n[1]-u[1]];e.forEach((function(t,e){Object(ht.isNumber)(t.x)&&Object(ht.isNumber)(t.y)&&(t.x+=c[0],t.y+=c[1])})),t.combos.forEach((function(t){var e=o[t.id];e&&e.empty&&(t.x=e.cxt.x,t.y=e.cyt.y)})),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this.edges,e=this.nodes,r=this.combos,n={},i={},o={};e.forEach((function(t,e){i[t.id]=t,o[t.id]=e})),this.nodeMap=i,this.nodeIdxMap=o;var a={};r.forEach((function(t){a[t.id]=t})),this.oriComboMap=a,this.comboMap=this.getComboMap();var s=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlaps,this.preventNodeOverlap=this.preventNodeOverlaps;var u=this.collideStrength;u&&(this.comboCollideStrength=u,this.nodeCollideStrength=u);for(var c=0;ct.length;++c)n[t[c].source]n[t[c].source]++n[t[c].source]=1,n[t[c].target]n[t[c].target]++n[t[c].target]=1;var h=[];for(c=0;ct.length;++c)h[c]=n[t[c].source](n[t[c].source]+n[t[c].target]);this.bias=h;var f,l,d=this.nodeSize,p=this.nodeSpacing;if(l=Object(ht.isNumber)(p)function(){return p}Object(ht.isFunction)(p)pfunction(){return 0},this.nodeSpacing=l,d)if(Object(ht.isFunction)(d))f=function(t){return d(t)};else if(Object(ht.isArray)(d)){var g=(d[0]d[1]d[0]d[1])2;f=function(t){return g}}else{var v=d2;f=function(t){return v}}else f=function(t){return t.sizeObject(ht.isArray)(t.size)(t.size[0]t.size[1]t.size[0]t.size[1])2t.size210};this.nodeSize=f;var y,m=this.comboSpacing;y=Object(ht.isNumber)(m)function(){return m}Object(ht.isFunction)(m)mfunction(){return 0},this.comboSpacing=y;var b,x=this.comboPadding;b=Object(ht.isNumber)(x)function(){return x}Object(ht.isArray)(x)function(){return Math.max.apply(null,x)}Object(ht.isFunction)(x)xfunction(){return 0},this.comboPadding=b;var w,M=this.linkDistance;M(M=10),w=Object(ht.isNumber)(M)function(t){return M}M,this.linkDistance=w;var S,_=this.edgeStrength;_(_=1),S=Object(ht.isNumber)(_)function(t){return _}_,this.edgeStrength=S;var k,O=this.nodeStrength;O(O=30),k=Object(ht.isNumber)(O)function(t){return O}O,this.nodeStrength=k},e.prototype.initPos=function(t){this.nodes.forEach((function(e,r){if(e.comboId){var n=t[e.comboId];e.x=n.cx+100(r+1),e.y=n.cy+100(r+1)}else e.x=100(r+1),e.y=100(r+1)}))},e.prototype.getComboMap=function(){var t=this,e=t.nodeMap,r=t.nodeIdxMap,n=t.comboTrees,i=t.oriComboMap,o={};return(n[]).forEach((function(n){var a=[];gr(n,(function(n){if(node===n.itemType)return!0;if(!i[n.id])return!0;if(void 0===o[n.id]){var s={namen.id,cx0,cy0,count0,deptht.oriComboMap[n.id].depth,children[]};o[n.id]=s}var u=n.children;u&&u.forEach((function(t){if(!o[t.id]&&!e[t.id])return!0;a.push(t)}));var c=o[n.id];if(c.cx=0,c.cy=0,0===a.length){c.empty=!0;var h=i[n.id],f=Object.keys(e).length,l=n.id+-visual-child-+f,d={idl,xh.x,yh.y,depthc.depth+1,itemTypenode};t.nodes.push(d),e[l]=d,r[l]=f,c.cx=h.x,c.cy=h.y,a.push(d)}return a.forEach((function(t){if(c.count++,node!==t.itemType){var r=o[t.id];return Object(ht.isNumber)(r.cx)&&(c.cx+=r.cx),void(Object(ht.isNumber)(r.cy)&&(c.cy+=r.cy))}var n=e[t.id];n&&(Object(ht.isNumber)(n.x)&&(c.cx+=n.x),Object(ht.isNumber)(n.y)&&(c.cy+=n.y))})),c.cx=c.count,c.cy=c.count,c.children=a,!0}))})),o},e.prototype.applyComboCenterForce=function(t){var e=this.gravity,r=this.comboGravitye,n=this.alpha,i=this.comboTrees,o=this.nodeIdxMap,a=this.nodeMap,s=this.comboMap;(i[]).forEach((function(e){gr(e,(function(e){if(node===e.itemType)return!0;if(!s[e.id])return!0;var i=s[e.id],u=.5(i.depth+1),c=i.cx,h=i.cy;return i.cx=0,i.cy=0,i.children.forEach((function(e){if(node!==e.itemType){var f=s[e.id];return f&&Object(ht.isNumber)(f.cx)&&(i.cx+=f.cx),void(f&&Object(ht.isNumber)(f.cy)&&(i.cy+=f.cy))}var l=a[e.id],d=l.x-c.005,p=l.y-h.005,g=Math.sqrt(dd+pp),v=o[l.id],y=rngu;t[v].x-=dy,t[v].y-=py,Object(ht.isNumber)(l.x)&&(i.cx+=l.x),Object(ht.isNumber)(l.y)&&(i.cy+=l.y)})),i.cx=i.count,i.cy=i.count,!0}))}))},e.prototype.applyCalculate=function(t){var e=this.comboMap,r=this.nodes,n={};r.forEach((function(t,e){r.forEach((function(r,i){if(!(ei)){var o=t.x-r.x.005,a=t.y-r.y.005,s=oo+aa,u=Math.sqrt(s);s1&&(s=u),n[t.id+-+r.id]={vxo,vya,vl2s,vlu},n[r.id+-+t.id]={vx-o,vy-a,vl2s,vlu}}}))})),this.updateComboSizes(e),this.calRepulsive(t,n),this.calAttractive(t,n),this.preventComboOverlap&&this.comboNonOverlapping(t,e)},e.prototype.updateComboSizes=function(t){var e=this,r=e.comboTrees,n=e.nodeMap,i=e.nodeSize,o=e.comboSpacing,a=e.comboPadding;(r[]).forEach((function(r){var s=[];gr(r,(function(r){if(node===r.itemType)return!0;var u=t[r.id];if(u){var c=r.children;c&&c.forEach((function(e){(t[e.id]n[e.id])&&s.push(e)})),u.minX=10,u.minY=10,u.maxX=-10,u.maxY=-10,s.forEach((function(t){if(node!==t.itemType)return!0;var e=n[t.id];if(!e)return!0;var r=i(e),o=e.x-r,a=e.y-r,s=e.x+r,c=e.y+r;u.minXo&&(u.minX=o),u.minYa&&(u.minY=a),u.maxXs&&(u.maxX=s),u.maxYc&&(u.maxY=c)}));var h=e.oriComboMap[r.id].sizeQ.defaultCombo.size;Object(ht.isArray)(h)&&(h=h[0]);var f=Math.max(u.maxX-u.minX,u.maxY-u.minY,h);return u.r=f2+o(u)2+a(u),!0}}))}))},e.prototype.comboNonOverlapping=function(t,e){var r=this.comboTree,n=this.comboCollideStrength,i=this.nodeIdxMap,o=this.nodeMap;gr(r,(function(r){if(e[r.id]o[r.id]comboTreeRoot===r.id){var a=r.children;return a&&a.length1&&a.forEach((function(r,s){if(node!==r.itemType){var u=e[r.id];u&&a.forEach((function(a,c){if(!(s=c)&&node!==a.itemType){var h=e[a.id];if(h){var f=u.cx-h.cx.005,l=u.cy-h.cy.005,d=ff+ll,p=u.r,g=h.r,v=p+g,y=gg,m=pp;if(dvv){var b=r.children;if(!b0===b.length)return;var x=a.children;if(!x0===x.length)return;var w=Math.sqrt(d),M=(v-w)wn,S=fM,_=lM,k=y(m+y),O=1-k;b.forEach((function(e){if(node===e.itemType&&o[e.id]){var r=i[e.id];x.forEach((function(e){if(node===e.itemType&&o[e.id]){var n=i[e.id];t[r].x+=Sk,t[r].y+=_k,t[n].x-=SO,t[n].y-=_O}}))}}))}}}}))}})),!0}}))},e.prototype.calRepulsive=function(t,e){var r=this,n=r.nodes,i=r.widthr.optimizeRangeFactor,o=r.nodeStrength,a=r.alpha,s=r.nodeCollideStrength,u=r.preventNodeOverlap,c=r.nodeSize,h=r.nodeSpacing,f=r.depthRepulsiveForceScale,l=r.center;n.forEach((function(d,p){if(d.x&&d.y){if(l){var g=r.gravity,v=d.x-l[0].005,y=d.y-l[1].005,m=Math.sqrt(vv+yy);t[p].x-=vgam,t[p].y-=ygam}n.forEach((function(r,n){if(p!==n&&r.x&&r.y){var l=e[d.id+-+r.id],g=l.vl2,v=l.vl;if(!(vi)){var y=e[d.id+-+r.id],m=y.vx,b=y.vy,x=Math.abs(r.depth-d.depth)+11;r.comboId!==d.comboId&&x++;var w=xMath.pow(f,x)1,M=o(r)agw;if(t[p].x+=mM,t[p].y+=bM,pn&&u){var S=c(d)+h(d),_=c(r)+h(r),k=S+_;if(gkk){var O=(k-v)vs,E=__,j=E(SS+E),C=mO,A=bO;t[p].x+=Cj,t[p].y+=Aj,j=1-j,t[n].x-=Cj,t[n].y-=Aj}}}}}))}}))},e.prototype.calAttractive=function(t,e){var r=this,n=r.edges,i=r.linkDistance,o=r.alpha,a=r.edgeStrength,s=r.bias,u=r.depthAttractiveForceScale;n.forEach((function(n,c){if(n.source&&n.target&&n.source!==n.target){var h=r.nodeIdxMap[n.source],f=r.nodeIdxMap[n.target],l=r.nodeMap[n.source],d=r.nodeMap[n.target],p=Math.abs(l.depth-d.depth);l.comboId===d.comboId&&(p=2);var g=pMath.pow(u,p)1;if(l.comboId!==d.comboId&&1===gg=u2l.comboId===d.comboId&&(g=2),Object(ht.isNumber)(d.x)&&Object(ht.isNumber)(l.x)&&Object(ht.isNumber)(d.y)&&Object(ht.isNumber)(l.y)){var v=e[n.target+-+n.source],y=v.vl,m=v.vx,b=v.vy,x=(y-i(n))yoa(n)g,w=mx,M=bx,S=s[c];t[f].x-=wS,t[f].y-=MS,t[h].x+=w(1-S),t[h].y+=M(1-S)}}}))},e}(Yr),fruchtermanti,gridei,mdsio,radialuo,randomco};d()(ho,(function(t,e){qr.registerLayout(e,{},t)}));var fo=qr,lo=r(231),po=r.n(lo),go=function(){return po()('!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={in,l!1,exports{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)Object.defineProperty(t,e,{enumerable!0,getn})},r.r=function(t){undefined!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{valueModule}),Object.defineProperty(t,__esModule,{value!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&object==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,default,{enumerable!0,valuet}),2&e&&string!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModulefunction(){return t.default}function(){return t};return r.d(e,a,e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=,r(r.s=317)}([function(t,e,r){var n;try{n={cloneDeepr(250),constantr(67),defaultsr(251),eachr(93),filterr(96),findr(252),flattenr(123),forEachr(94),forInr(257),hasr(107),isUndefinedr(108),lastr(258),mapr(109),mapValuesr(259),maxr(260),merger(262),minr(268),minByr(269),nowr(270),pickr(271),ranger(276),reducer(111),sortByr(279),uniqueIdr(284),valuesr(116),zipObjectr(285)}}catch(t){}n(n=window._),t.exports=n},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(34);e.default=function(t){return Array.isArrayArray.isArray(t)n.default(t,Array)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.sub=e.mul=void 0,e.create=function(){var t=new n.ARRAY_TYPE(9);n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,r,o,i,a,u,s,c){var f=new n.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=r,f[3]=o,f[4]=i,f[5]=a,f[6]=u,f[7]=s,f[8]=c,f},e.set=function(t,e,r,n,o,i,a,u,s,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=fa-uc,l=-fi+us,d=ci-as,p=rh+nl+od;if(!p)return null;return p=1p,t[0]=hp,t[1]=(-fn+oc)p,t[2]=(un-oa)p,t[3]=lp,t[4]=(fr-os)p,t[5]=(-ur+oi)p,t[6]=dp,t[7]=(-cr+ns)p,t[8]=(ar-ni)p,t},e.adjoint=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=af-uc,t[1]=oc-nf,t[2]=nu-oa,t[3]=us-if,t[4]=rf-os,t[5]=oi-ru,t[6]=ic-as,t[7]=ns-rc,t[8]=ra-ni,t},e.determinant=function(t){var e=t[0],r=t[1],n=t[2],o=t[3],i=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return e(ci-as)+r(-co+au)+n(so-iu)},e.multiply=o,e.translate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=r[0],d=r[1];return t[0]=n,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=s,t[6]=ln+da+c,t[7]=lo+du+f,t[8]=li+ds+h,t},e.rotate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=Math.sin(r),d=Math.cos(r);return t[0]=dn+la,t[1]=do+lu,t[2]=di+ls,t[3]=da-ln,t[4]=du-lo,t[5]=ds-li,t[6]=c,t[7]=f,t[8]=h,t},e.scale=function(t,e,r){var n=r[0],o=r[1];return t[0]=ne[0],t[1]=ne[1],t[2]=ne[2],t[3]=oe[3],t[4]=oe[4],t[5]=oe[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r+r,u=n+n,s=o+o,c=ra,f=na,h=nu,l=oa,d=ou,p=os,v=ia,g=iu,y=is;return t[0]=1-h-p,t[3]=f-y,t[6]=l+g,t[1]=f+y,t[4]=1-c-p,t[7]=d-v,t[2]=l-g,t[5]=d+v,t[8]=1-c-h,t},e.normalFromMat4=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=e[9],l=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15],m=ru-na,b=rs-oa,w=rc-ia,x=ns-ou,M=nc-iu,k=oc-is,_=fv-hp,S=fg-lp,E=fy-dp,j=hg-lv,A=hy-dv,O=ly-dg,N=mO-bA+wj+xE-MS+k_;if(!N)return null;return N=1N,t[0]=(uO-sA+cj)N,t[1]=(sE-aO-cS)N,t[2]=(aA-uE+c_)N,t[3]=(oA-nO-ij)N,t[4]=(rO-oE+iS)N,t[5]=(nE-rA-i_)N,t[6]=(vk-gM+yx)N,t[7]=(gw-pk-yb)N,t[8]=(pM-vw+ym)N,t},e.projection=function(t,e,r){return t[0]=2e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){returnmat3(+t[0]+, +t[1]+, +t[2]+, +t[3]+, +t[4]+, +t[5]+, +t[6]+, +t[7]+, +t[8]+)},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},e.subtract=i,e.multiplyScalar=function(t,e,r){return t[0]=e[0]r,t[1]=e[1]r,t[2]=e[2]r,t[3]=e[3]r,t[4]=e[4]r,t[5]=e[5]r,t[6]=e[6]r,t[7]=e[7]r,t[8]=e[8]r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]n,t[1]=e[1]+r[1]n,t[2]=e[2]+r[2]n,t[3]=e[3]+r[3]n,t[4]=e[4]+r[4]n,t[5]=e[5]+r[5]n,t[6]=e[6]+r[6]n,t[7]=e[7]+r[7]n,t[8]=e[8]+r[8]n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],h=t[8],l=e[0],d=e[1],p=e[2],v=e[3],g=e[4],y=e[5],m=e[6],b=e[7],w=e[8];return Math.abs(r-l)=n.EPSILONMath.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-d)=n.EPSILONMath.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-p)=n.EPSILONMath.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-v)=n.EPSILONMath.max(1,Math.abs(a),Math.abs(v))&&Math.abs(u-g)=n.EPSILONMath.max(1,Math.abs(u),Math.abs(g))&&Math.abs(s-y)=n.EPSILONMath.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-m)=n.EPSILONMath.max(1,Math.abs(c),Math.abs(m))&&Math.abs(f-b)=n.EPSILONMath.max(1,Math.abs(f),Math.abs(b))&&Math.abs(h-w)=n.EPSILONMath.max(1,Math.abs(h),Math.abs(w))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(55));function o(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=r[0],d=r[1],p=r[2],v=r[3],g=r[4],y=r[5],m=r[6],b=r[7],w=r[8];return t[0]=ln+da+pc,t[1]=lo+du+pf,t[2]=li+ds+ph,t[3]=vn+ga+yc,t[4]=vo+gu+yf,t[5]=vi+gs+yh,t[6]=mn+ba+wc,t[7]=mo+bu+wf,t[8]=mi+bs+wh,t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}e.mul=o,e.sub=i},function(t,e,r){use strict;var n=r(0),o=r(7).Graph;function i(t,e,r,o){var i;do{i=n.uniqueId(o)}while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function a(t){return n.max(n.map(t.nodes(),(function(e){var r=t.node(e).rank;if(!n.isUndefined(r))return r})))}t.exports={addDummyNodei,simplifyfunction(t){var e=(new o).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){e.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){var n=e.edge(r.v,r.w){weight0,minlen1},o=t.edge(r);e.setEdge(r.v,r.w,{weightn.weight+o.weight,minlenMath.max(n.minlen,o.minlen)})})),e},asNonCompoundGraphfunction(t){var e=new o({multigrapht.isMultigraph()}).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){t.children(r).lengthe.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){e.setEdge(r,t.edge(r))})),e},successorWeightsfunction(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.outEdges(e),(function(e){r[e.w]=(r[e.w]0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)},predecessorWeightsfunction(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.inEdges(e),(function(e){r[e.v]=(r[e.v]0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)},intersectRectfunction(t,e){var r,n,o=t.x,i=t.y,a=e.x-o,u=e.y-i,s=t.width2,c=t.height2;if(!a&&!u)throw new Error(Not possible to find intersection inside of the rectangle);Math.abs(u)sMath.abs(a)c(u0&&(c=-c),r=cau,n=c)(a0&&(s=-s),r=s,n=sua);return{xo+r,yi+n}},buildLayerMatrixfunction(t){var e=n.map(n.range(a(t)+1),(function(){return[]}));return n.forEach(t.nodes(),(function(r){var o=t.node(r),i=o.rank;n.isUndefined(i)(e[i][o.order]=r)})),e},normalizeRanksfunction(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank})));n.forEach(t.nodes(),(function(r){var o=t.node(r);n.has(o,rank)&&(o.rank-=e)}))},removeEmptyRanksfunction(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank}))),r=[];n.forEach(t.nodes(),(function(n){var o=t.node(n).rank-e;r[o](r[o]=[]),r[o].push(n)}));var o=0,i=t.graph().nodeRankFactor;n.forEach(r,(function(e,r){n.isUndefined(e)&&r%i!=0--oo&&n.forEach(e,(function(e){t.node(e).rank+=o}))}))},addBorderNodefunction(t,e,r,n){var o={width0,height0};arguments.length=4&&(o.rank=r,o.order=n);return i(t,border,o,e)},maxRanka,partitionfunction(t,e){var r={lhs[],rhs[]};return n.forEach(t,(function(t){e(t)r.lhs.push(t)r.rhs.push(t)})),r},timefunction(t,e){var r=n.now();try{return e()}finally{console.log(t+ time +(n.now()-r)+ms)}},notimefunction(t,e){return e()}}},function(t,e,r){var n;try{n={cloner(137),constantr(67),eachr(93),filterr(96),hasr(107),isArrayr(1),isEmptyr(214),isFunctionr(25),isUndefinedr(108),keysr(14),mapr(109),reducer(111),sizer(217),transformr(223),unionr(224),valuesr(116)}}catch(t){}n(n=window._),t.exports=n},function(t,e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}t.exports=function(t){var e=r(t);return null!=t&&(object==efunction==e)}},function(t,e,r){var n;try{n=r(135)}catch(t){}n(n=window.graphlib),t.exports=n},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var o=r(76),i=object==(undefined==typeof selfundefinedn(self))&&self&&self.Object===Object&&self,a=oiFunction(return this)();t.exports=a},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=o,e.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,r){return t[0]=e,t[1]=r,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},e.subtract=i,e.multiply=a,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,r){return t[0]=e[0]r,t[1]=e[1]r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]n,t[1]=e[1]+r[1]n,t},e.distance=s,e.squaredDistance=c,e.length=f,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1e[0],t[1]=1e[1],t},e.normalize=function(t,e){var r=e[0],n=e[1],o=rr+nn;o0&&(o=1Math.sqrt(o),t[0]=e[0]o,t[1]=e[1]o);return t},e.dot=function(t,e){return t[0]e[0]+t[1]e[1]},e.cross=function(t,e,r){var n=e[0]r[1]-e[1]r[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,r,n){var o=e[0],i=e[1];return t[0]=o+n(r[0]-o),t[1]=i+n(r[1]-i),t},e.random=function(t,e){e=e1;var r=2n.RANDOM()Math.PI;return t[0]=Math.cos(r)e,t[1]=Math.sin(r)e,t},e.transformMat2=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]n+r[2]o,t[1]=r[1]n+r[3]o,t},e.transformMat2d=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]n+r[2]o+r[4],t[1]=r[1]n+r[3]o+r[5],t},e.transformMat3=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]n+r[3]o+r[6],t[1]=r[1]n+r[4]o+r[7],t},e.transformMat4=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]n+r[4]o+r[12],t[1]=r[1]n+r[5]o+r[13],t},e.rotate=function(t,e,r,n){var o=e[0]-r[0],i=e[1]-r[1],a=Math.sin(n),u=Math.cos(n);return t[0]=ou-ia+r[0],t[1]=oa+iu+r[1],t},e.angle=function(t,e){var r=t[0],n=t[1],o=e[0],i=e[1],a=rr+nn;a0&&(a=1Math.sqrt(a));var u=oo+ii;u0&&(u=1Math.sqrt(u));var s=(ro+ni)au;return s10s-1Math.PIMath.acos(s)},e.str=function(t){returnvec2(+t[0]+, +t[1]+)},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var r=t[0],o=t[1],i=e[0],a=e[1];return Math.abs(r-i)=n.EPSILONMath.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-a)=n.EPSILONMath.max(1,Math.abs(o),Math.abs(a))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(55));function o(){var t=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function a(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t}function u(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t}function s(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(rr+nn)}function c(t,e){var r=e[0]-t[0],n=e[1]-t[1];return rr+nn}function f(t){var e=t[0],r=t[1];return Math.sqrt(ee+rr)}function h(t){var e=t[0],r=t[1];return ee+rr}var l;e.len=f,e.sub=i,e.mul=a,e.div=u,e.dist=s,e.sqrDist=c,e.sqrLen=h,e.forEach=(l=o(),function(t,e,r,n,o,i){var a=void 0,u=void 0;for(e(e=2),r(r=0),u=nMath.min(ne+r,t.length)t.length,a=r;au;a+=e)l[0]=t[a],l[1]=t[a+1],o(l,l,i),t[a]=l[0],t[a+1]=l[1];return t})},function(t,e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}t.exports=function(t){return null!=t&&object==r(t)}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(34);e.default=function(t){return n.default(t,String)}},function(t,e,r){var n=r(25),o=r(61);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var o=r(194),i=r(204),a=r(18),u=r(1),s=r(211);t.exports=function(t){returnfunction==typeof ttnull==taobject==n(t)u(t)i(t[0],t[1])o(t)s(t)}},function(t,e,r){var n=r(79),o=r(63),i=r(12);t.exports=function(t){return i(t)n(t)o(t)}},function(t,e,r){var n=r(148),o=r(154);t.exports=function(t,e){var r=o(t,e);return n(r)rvoid 0}},function(t,e,r){var n=r(21),o=r(150),i=r(151),a=nn.toStringTagvoid 0;t.exports=function(t){return null==tvoid 0===t[object Undefined][object Null]a&&a in Object(t)o(t)i(t)}},function(t,e,r){var n=r(79),o=r(174),i=r(12);t.exports=function(t){return i(t)n(t,!0)o(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(34);e.default=function(t){return n.default(t,Number)}},function(t,e){t.exports=function(t,e){return t===et!=t&&e!=e}},function(t,e,r){var n=r(8).Symbol;t.exports=n},function(t,e,r){(function(t){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var o=r(8),i=r(170),a=object==n(e)&&e&&!e.nodeType&&e,u=a&&object==n(t)&&t&&!t.nodeType&&t,s=u&&u.exports===ao.Buffervoid 0,c=(ss.isBuffervoid 0)i;t.exports=c}).call(this,r(60)(t))},function(t,e,r){var n=r(179),o=r(57),i=r(180),a=r(88),u=r(181),s=r(16),c=r(77),f=c(n),h=c(o),l=c(i),d=c(a),p=c(u),v=s;(n&&[object DataView]!=v(new n(new ArrayBuffer(1)))o&&[object Map]!=v(new o)i&&[object Promise]!=v(i.resolve())a&&[object Set]!=v(new a)u&&[object WeakMap]!=v(new u))&&(v=function(t){var e=s(t),r=[object Object]==et.constructorvoid 0,n=rc(r);if(n)switch(n){case freturn[object DataView];case hreturn[object Map];case lreturn[object Promise];case dreturn[object Set];case preturn[object WeakMap]}return e}),t.exports=v},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var o=r(16),i=r(10);t.exports=function(t){returnsymbol==n(t)i(t)&&[object Symbol]==o(t)}},function(t,e,r){var n=r(16),o=r(6);t.exports=function(t){if(!o(t))return!1;var e=n(t);return[object Function]==e[object GeneratorFunction]==e[object AsyncFunction]==e[object Proxy]==e}},function(t,e,r){var n=r(40),o=r(41);t.exports=function(t,e,r,i){var a=!r;r(r={});for(var u=-1,s=e.length;++us;){var c=e[u],f=ii(r[c],t[c],c,r,t)void 0;void 0===f&&(f=t[c]),ao(r,c,f)n(r,c,f)}return r}},function(t,e,r){var n=r(169),o=r(10),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=n(function(){return arguments}())nfunction(t){return o(t)&&a.call(t,callee)&&!u.call(t,callee)};t.exports=s},function(t,e,r){var n=r(171),o=r(43),i=r(62),a=i&&i.isTypedArray,u=ao(a)n;t.exports=u},function(t,e,r){var n=r(24);t.exports=function(t){if(string==typeof tn(t))return t;var e=t+;return0==e&&1t==-10-0e}},function(t,e,r){use strict;function n(t,e){for(var r in e)e.hasOwnProperty(r)&&constructor!==r&&void 0!==e[r]&&(t[r]=e[r])}Object.defineProperty(e,__esModule,{value!0}),e.default=function(t,e,r,o){return e&&n(t,e),r&&n(t,r),o&&n(t,o),t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(34);e.default=function(t){return n.default(t,Function)}},function(t,e,r){use strict;function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var o=r(310),i=r(314),a=[].slice,u=[keyword,gray,hex],s={};Object.keys(i).forEach((function(t){s[a.call(i[t].labels).sort().join()]=t}));var c={};function f(t,e){if(!(this instanceof f))return new f(t,e);if(e&&e in u&&(e=null),e&&!(e in i))throw new Error(Unknown model +e);var r,n;if(null==t)this.model=rgb,this.color=[0,0,0],this.valpha=1;else if(t instanceof f)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(string==typeof t){var h=o.get(t);if(null===h)throw new Error(Unable to parse color from string +t);this.model=h.model,n=i[this.model].channels,this.color=h.value.slice(0,n),this.valpha=number==typeof h.value[n]h.value[n]1}else if(t.length){this.model=ergb,n=i[this.model].channels;var l=a.call(t,0,n);this.color=p(l,n),this.valpha=number==typeof t[n]t[n]1}else if(number==typeof t)t&=16777215,this.model=rgb,this.color=[t16&255,t8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);alphain t&&(d.splice(d.indexOf(alpha),1),this.valpha=number==typeof t.alphat.alpha0);var v=d.sort().join();if(!(v in s))throw new Error(Unable to parse color from object +JSON.stringify(t));this.model=s[v];var g=i[this.model].labels,y=[];for(r=0;rg.length;r++)y.push(t[g[r]]);this.color=p(y)}if(c[this.model])for(n=i[this.model].channels,r=0;rn;r++){var m=c[this.model][r];m&&(this.color[r]=m(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function h(t,e,r){return(t=Array.isArray(t)t[t]).forEach((function(t){(c[t](c[t]=[]))[e]=r})),t=t[0],function(n){var o;return arguments.length(r&&(n=r(n)),(o=this[t]()).color[e]=n,o)(o=this[t]().color[e],r&&(o=r(o)),o)}}function l(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t){return Array.isArray(t)t[t]}function p(t,e){for(var r=0;re;r++)number!=typeof t[r]&&(t[r]=0);return t}f.prototype={toStringfunction(){return this.string()},toJSONfunction(){return this[this.model]()},stringfunction(t){var e=this.model in o.tothisthis.rgb(),r=1===(e=e.round(number==typeof tt1)).valphae.colore.color.concat(this.valpha);return o.to[e.model](r)},percentStringfunction(t){var e=this.rgb().round(number==typeof tt1),r=1===e.valphae.colore.color.concat(this.valpha);return o.to.rgb.percent(r)},arrayfunction(){return 1===this.valphathis.color.slice()this.color.concat(this.valpha)},objectfunction(){for(var t={},e=i[this.model].channels,r=i[this.model].labels,n=0;ne;n++)t[r[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArrayfunction(){var t=this.rgb().color;return t[0]=255,t[1]=255,t[2]=255,1!==this.valpha&&t.push(this.valpha),t},unitObjectfunction(){var t=this.rgb().object();return t.r=255,t.g=255,t.b=255,1!==this.valpha&&(t.alpha=this.valpha),t},roundfunction(t){return t=Math.max(t0,0),new f(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alphafunction(t){return arguments.lengthnew f(this.color.concat(Math.max(0,Math.min(1,t))),this.model)this.valpha},redh(rgb,0,l(255)),greenh(rgb,1,l(255)),blueh(rgb,2,l(255)),hueh([hsl,hsv,hsl,hwb,hcg],0,(function(t){return(t%360+360)%360})),saturationlh(hsl,1,l(100)),lightnessh(hsl,2,l(100)),saturationvh(hsv,1,l(100)),valueh(hsv,2,l(100)),chromah(hcg,1,l(100)),grayh(hcg,2,l(100)),whiteh(hwb,1,l(100)),wblackh(hwb,2,l(100)),cyanh(cmyk,0,l(100)),magentah(cmyk,1,l(100)),yellowh(cmyk,2,l(100)),blackh(cmyk,3,l(100)),xh(xyz,0,l(100)),yh(xyz,1,l(100)),zh(xyz,2,l(100)),lh(lab,0,l(100)),ah(lab,1),bh(lab,2),keywordfunction(t){return arguments.lengthnew f(t)i[this.model].keyword(this.color)},hexfunction(t){return arguments.lengthnew f(t)o.to.hex(this.rgb().round().color)},rgbNumberfunction(){var t=this.rgb().color;return(255&t[0])16(255&t[1])8255&t[2]},luminosityfunction(){for(var t=this.rgb().color,e=[],r=0;rt.length;r++){var n=t[r]255;e[r]=n=.03928n12.92Math.pow((n+.055)1.055,2.4)}return.2126e[0]+.7152e[1]+.0722e[2]},contrastfunction(t){var e=this.luminosity(),r=t.luminosity();return er(e+.05)(r+.05)(r+.05)(e+.05)},levelfunction(t){var e=this.contrast(t);return e=7.1AAAe=4.5AA},isDarkfunction(){var t=this.rgb().color;return(299t[0]+587t[1]+114t[2])1e3128},isLightfunction(){return!this.isDark()},negatefunction(){for(var t=this.rgb(),e=0;e3;e++)t.color[e]=255-t.color[e];return t},lightenfunction(t){var e=this.hsl();return e.color[2]+=e.color[2]t,e},darkenfunction(t){var e=this.hsl();return e.color[2]-=e.color[2]t,e},saturatefunction(t){var e=this.hsl();return e.color[1]+=e.color[1]t,e},desaturatefunction(t){var e=this.hsl();return e.color[1]-=e.color[1]t,e},whitenfunction(t){var e=this.hwb();return e.color[1]+=e.color[1]t,e},blackenfunction(t){var e=this.hwb();return e.color[2]+=e.color[2]t,e},grayscalefunction(){var t=this.rgb().color,e=.3t[0]+.59t[1]+.11t[2];return f.rgb(e,e,e)},fadefunction(t){return this.alpha(this.valpha-this.valphat)},opaquerfunction(t){return this.alpha(this.valpha+this.valphat)},rotatefunction(t){var e=this.hsl(),r=e.color[0];return r=(r=(r+t)%360)0360+rr,e.color[0]=r,e},mixfunction(t,e){if(!t!t.rgb)throw new Error('Argument to mix was not a Color instance, but rather an instance of '+n(t));var r=t.rgb(),o=this.rgb(),i=void 0===e.5e,a=2i-1,u=r.alpha()-o.alpha(),s=((au==-1a(a+u)(1+au))+1)2,c=1-s;return f.rgb(sr.red()+co.red(),sr.green()+co.green(),sr.blue()+co.blue(),r.alpha()i+o.alpha()(1-i))}},Object.keys(i).forEach((function(t){if(-1===u.indexOf(t)){var e=i[t].channels;f.prototype[t]=function(){if(this.model===t)return new f(this);if(arguments.length)return new f(arguments,t);var r=number==typeof arguments[e]ethis.valpha;return new f(d(i[this.model][t].raw(this.color)).concat(r),t)},f[t]=function(r){returnnumber==typeof r&&(r=p(a.call(arguments),e)),new f(r,t)}}})),t.exports=f},function(t,e,r){var n;function o(t){return(o=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}!function(i){var a=^s+,u=s+$,s=0,c=i.round,f=i.min,h=i.max,l=i.random;function d(t,e){if(e=e{},(t=t)instanceof d)return t;if(!(this instanceof d))return new d(t,e);var r=function(t){var e={r0,g0,b0},r=1,n=null,s=null,c=null,l=!1,d=!1;string==typeof t&&(t=function(t){t=t.replace(a,).replace(u,).toLowerCase();var e,r=!1;if(I[t])t=I[t],r=!0;else if(transparent==t)return{r0,g0,b0,a0,formatname};if(e=Y.rgb.exec(t))return{re[1],ge[2],be[3]};if(e=Y.rgba.exec(t))return{re[1],ge[2],be[3],ae[4]};if(e=Y.hsl.exec(t))return{he[1],se[2],le[3]};if(e=Y.hsla.exec(t))return{he[1],se[2],le[3],ae[4]};if(e=Y.hsv.exec(t))return{he[1],se[2],ve[3]};if(e=Y.hsva.exec(t))return{he[1],se[2],ve[3],ae[4]};if(e=Y.hex8.exec(t))return{rF(e[1]),gF(e[2]),bF(e[3]),aL(e[4]),formatrnamehex8};if(e=Y.hex6.exec(t))return{rF(e[1]),gF(e[2]),bF(e[3]),formatrnamehex};if(e=Y.hex4.exec(t))return{rF(e[1]++e[1]),gF(e[2]++e[2]),bF(e[3]++e[3]),aL(e[4]++e[4]),formatrnamehex8};if(e=Y.hex3.exec(t))return{rF(e[1]++e[1]),gF(e[2]++e[2]),bF(e[3]++e[3]),formatrnamehex};return!1}(t));object==o(t)&&(H(t.r)&&H(t.g)&&H(t.b)(p=t.r,v=t.g,g=t.b,e={r255C(p,255),g255C(v,255),b255C(g,255)},l=!0,d=%===String(t.r).substr(-1)prgbrgb)H(t.h)&&H(t.s)&&H(t.v)(n=D(t.s),s=D(t.v),e=function(t,e,r){t=6C(t,360),e=C(e,100),r=C(r,100);var n=i.floor(t),o=t-n,a=r(1-e),u=r(1-oe),s=r(1-(1-o)e),c=n%6;return{r255[r,u,a,a,s,r][c],g255[s,r,r,u,a,a][c],b255[a,a,s,r,r,u][c]}}(t.h,n,s),l=!0,d=hsv)H(t.h)&&H(t.s)&&H(t.l)&&(n=D(t.s),c=D(t.l),e=function(t,e,r){var n,o,i;function a(t,e,r){return r0&&(r+=1),r1&&(r-=1),r16t+6(e-t)rr.5er23t+(e-t)(23-r)6t}if(t=C(t,360),e=C(e,100),r=C(r,100),0===e)n=o=i=r;else{var u=r.5r(1+e)r+e-re,s=2r-u;n=a(s,u,t+13),o=a(s,u,t),i=a(s,u,t-13)}return{r255n,g255o,b255i}}(t.h,n,c),l=!0,d=hsl),t.hasOwnProperty(a)&&(r=t.a));var p,v,g;return r=P(r),{okl,formatt.formatd,rf(255,h(e.r,0)),gf(255,h(e.g,0)),bf(255,h(e.b,0)),ar}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=c(100this._a)100,this._format=e.formatr.format,this._gradientType=e.gradientType,this._r1&&(this._r=c(this._r)),this._g1&&(this._g=c(this._g)),this._b1&&(this._b=c(this._b)),this._ok=r.ok,this._tc_id=s++}function p(t,e,r){t=C(t,255),e=C(e,255),r=C(r,255);var n,o,i=h(t,e,r),a=f(t,e,r),u=(i+a)2;if(i==a)n=o=0;else{var s=i-a;switch(o=u.5s(2-i-a)s(i+a),i){case tn=(e-r)s+(er60);break;case en=(r-t)s+2;break;case rn=(t-e)s+4}n=6}return{hn,so,lu}}function v(t,e,r){t=C(t,255),e=C(e,255),r=C(r,255);var n,o,i=h(t,e,r),a=f(t,e,r),u=i,s=i-a;if(o=0===i0si,i==a)n=0;else{switch(i){case tn=(e-r)s+(er60);break;case en=(r-t)s+2;break;case rn=(t-e)s+4}n=6}return{hn,so,vu}}function g(t,e,r,n){var o=[T(c(t).toString(16)),T(c(e).toString(16)),T(c(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)o.join()}function y(t,e,r,n){return[T(q(n)),T(c(t).toString(16)),T(c(e).toString(16)),T(c(r).toString(16))].join()}function m(t,e){e=0===e0e10;var r=d(t).toHsl();return r.s-=e100,r.s=z(r.s),d(r)}function b(t,e){e=0===e0e10;var r=d(t).toHsl();return r.s+=e100,r.s=z(r.s),d(r)}function w(t){return d(t).desaturate(100)}function x(t,e){e=0===e0e10;var r=d(t).toHsl();return r.l+=e100,r.l=z(r.l),d(r)}function M(t,e){e=0===e0e10;var r=d(t).toRgb();return r.r=h(0,f(255,r.r-c(-e100255))),r.g=h(0,f(255,r.g-c(-e100255))),r.b=h(0,f(255,r.b-c(-e100255))),d(r)}function k(t,e){e=0===e0e10;var r=d(t).toHsl();return r.l-=e100,r.l=z(r.l),d(r)}function _(t,e){var r=d(t).toHsl(),n=(r.h+e)%360;return r.h=n0360+nn,d(r)}function S(t){var e=d(t).toHsl();return e.h=(e.h+180)%360,d(e)}function E(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h(r+120)%360,se.s,le.l}),d({h(r+240)%360,se.s,le.l})]}function j(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h(r+90)%360,se.s,le.l}),d({h(r+180)%360,se.s,le.l}),d({h(r+270)%360,se.s,le.l})]}function A(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h(r+72)%360,se.s,le.l}),d({h(r+216)%360,se.s,le.l})]}function O(t,e,r){e=e6,r=r30;var n=d(t).toHsl(),o=360r,i=[d(t)];for(n.h=(n.h-(oe1)+720)%360;--e;)n.h=(n.h+o)%360,i.push(d(n));return i}function N(t,e){e=e6;for(var r=d(t).toHsv(),n=r.h,o=r.s,i=r.v,a=[],u=1e;e--;)a.push(d({hn,so,vi})),i=(i+u)%1;return a}d.prototype={isDarkfunction(){return this.getBrightness()128},isLightfunction(){return!this.isDark()},isValidfunction(){return this._ok},getOriginalInputfunction(){return this._originalInput},getFormatfunction(){return this._format},getAlphafunction(){return this._a},getBrightnessfunction(){var t=this.toRgb();return(299t.r+587t.g+114t.b)1e3},getLuminancefunction(){var t,e,r,n=this.toRgb();return t=n.r255,e=n.g255,r=n.b255,.2126(t=.03928t12.92i.pow((t+.055)1.055,2.4))+.7152(e=.03928e12.92i.pow((e+.055)1.055,2.4))+.0722(r=.03928r12.92i.pow((r+.055)1.055,2.4))},setAlphafunction(t){return this._a=P(t),this._roundA=c(100this._a)100,this},toHsvfunction(){var t=v(this._r,this._g,this._b);return{h360t.h,st.s,vt.v,athis._a}},toHsvStringfunction(){var t=v(this._r,this._g,this._b),e=c(360t.h),r=c(100t.s),n=c(100t.v);return 1==this._ahsv(+e+, +r+%, +n+%)hsva(+e+, +r+%, +n+%, +this._roundA+)},toHslfunction(){var t=p(this._r,this._g,this._b);return{h360t.h,st.s,lt.l,athis._a}},toHslStringfunction(){var t=p(this._r,this._g,this._b),e=c(360t.h),r=c(100t.s),n=c(100t.l);return 1==this._ahsl(+e+, +r+%, +n+%)hsla(+e+, +r+%, +n+%, +this._roundA+)},toHexfunction(t){return g(this._r,this._g,this._b,t)},toHexStringfunction(t){return#+this.toHex(t)},toHex8function(t){return function(t,e,r,n,o){var i=[T(c(t).toString(16)),T(c(e).toString(16)),T(c(r).toString(16)),T(q(n))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join()}(this._r,this._g,this._b,this._a,t)},toHex8Stringfunction(t){return#+this.toHex8(t)},toRgbfunction(){return{rc(this._r),gc(this._g),bc(this._b),athis._a}},toRgbStringfunction(){return 1==this._argb(+c(this._r)+, +c(this._g)+, +c(this._b)+)rgba(+c(this._r)+, +c(this._g)+, +c(this._b)+, +this._roundA+)},toPercentageRgbfunction(){return{rc(100C(this._r,255))+%,gc(100C(this._g,255))+%,bc(100C(this._b,255))+%,athis._a}},toPercentageRgbStringfunction(){return 1==this._argb(+c(100C(this._r,255))+%, +c(100C(this._g,255))+%, +c(100C(this._b,255))+%)rgba(+c(100C(this._r,255))+%, +c(100C(this._g,255))+%, +c(100C(this._b,255))+%, +this._roundA+)},toNamefunction(){return 0===this._atransparent!(this._a1)&&(R[g(this._r,this._g,this._b,!0)]!1)},toFilterfunction(t){var e=#+y(this._r,this._g,this._b,this._a),r=e,n=this._gradientTypeGradientType = 1, ;if(t){var o=d(t);r=#+y(o._r,o._g,o._b,o._a)}returnprogidDXImageTransform.Microsoft.gradient(+n+startColorstr=+e+,endColorstr=+r+)},toStringfunction(t){var e=!!t;t=tthis._format;var r=!1,n=this._a1&&this._a=0;return e!nhex!==t&&hex6!==t&&hex3!==t&&hex4!==t&&hex8!==t&&name!==t(rgb===t&&(r=this.toRgbString()),prgb===t&&(r=this.toPercentageRgbString()),hex!==t&&hex6!==t(r=this.toHexString()),hex3===t&&(r=this.toHexString(!0)),hex4===t&&(r=this.toHex8String(!0)),hex8===t&&(r=this.toHex8String()),name===t&&(r=this.toName()),hsl===t&&(r=this.toHslString()),hsv===t&&(r=this.toHsvString()),rthis.toHexString())name===t&&0===this._athis.toName()this.toRgbString()},clonefunction(){return d(this.toString())},_applyModificationfunction(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lightenfunction(){return this._applyModification(x,arguments)},brightenfunction(){return this._applyModification(M,arguments)},darkenfunction(){return this._applyModification(k,arguments)},desaturatefunction(){return this._applyModification(m,arguments)},saturatefunction(){return this._applyModification(b,arguments)},greyscalefunction(){return this._applyModification(w,arguments)},spinfunction(){return this._applyModification(_,arguments)},_applyCombinationfunction(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogousfunction(){return this._applyCombination(O,arguments)},complementfunction(){return this._applyCombination(S,arguments)},monochromaticfunction(){return this._applyCombination(N,arguments)},splitcomplementfunction(){return this._applyCombination(A,arguments)},triadfunction(){return this._applyCombination(E,arguments)},tetradfunction(){return this._applyCombination(j,arguments)}},d.fromRatio=function(t,e){if(object==o(t)){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=a===nt[n]D(t[n]));t=r}return d(t,e)},d.equals=function(t,e){return!(!t!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({rl(),gl(),bl()})},d.mix=function(t,e,r){r=0===r0r50;var n=d(t).toRgb(),o=d(e).toRgb(),i=r100;return d({r(o.r-n.r)i+n.r,g(o.g-n.g)i+n.g,b(o.b-n.b)i+n.b,a(o.a-n.a)i+n.a})},d.readability=function(t,e){var r=d(t),n=d(e);return(i.max(r.getLuminance(),n.getLuminance())+.05)(i.min(r.getLuminance(),n.getLuminance())+.05)},d.isReadable=function(t,e,r){var n,o,i=d.readability(t,e);switch(o=!1,(n=function(t){var e,r;e=((t=t{levelAA,sizesmall}).levelAA).toUpperCase(),r=(t.sizesmall).toLowerCase(),AA!==e&&AAA!==e&&(e=AA);small!==r&&large!==r&&(r=small);return{levele,sizer}}(r)).level+n.size){caseAAsmallcaseAAAlargeo=i=4.5;break;caseAAlargeo=i=3;break;caseAAAsmallo=i=7}return o},d.mostReadable=function(t,e,r){var n,o,i,a,u=null,s=0;o=(r=r{}).includeFallbackColors,i=r.level,a=r.size;for(var c=0;ce.length;c++)(n=d.readability(t,e[c]))s&&(s=n,u=d(e[c]));return d.isReadable(t,u,{leveli,sizea})!ou(r.includeFallbackColors=!1,d.mostReadable(t,[#fff,#000],r))};var I=d.names={alicebluef0f8ff,antiquewhitefaebd7,aqua0ff,aquamarine7fffd4,azuref0ffff,beigef5f5dc,bisqueffe4c4,black000,blanchedalmondffebcd,blue00f,blueviolet8a2be2,browna52a2a,burlywooddeb887,burntsiennaea7e5d,cadetblue5f9ea0,chartreuse7fff00,chocolated2691e,coralff7f50,cornflowerblue6495ed,cornsilkfff8dc,crimsondc143c,cyan0ff,darkblue00008b,darkcyan008b8b,darkgoldenrodb8860b,darkgraya9a9a9,darkgreen006400,darkgreya9a9a9,darkkhakibdb76b,darkmagenta8b008b,darkolivegreen556b2f,darkorangeff8c00,darkorchid9932cc,darkred8b0000,darksalmone9967a,darkseagreen8fbc8f,darkslateblue483d8b,darkslategray2f4f4f,darkslategrey2f4f4f,darkturquoise00ced1,darkviolet9400d3,deeppinkff1493,deepskyblue00bfff,dimgray696969,dimgrey696969,dodgerblue1e90ff,firebrickb22222,floralwhitefffaf0,forestgreen228b22,fuchsiaf0f,gainsborodcdcdc,ghostwhitef8f8ff,goldffd700,goldenroddaa520,gray808080,green008000,greenyellowadff2f,grey808080,honeydewf0fff0,hotpinkff69b4,indianredcd5c5c,indigo4b0082,ivoryfffff0,khakif0e68c,lavendere6e6fa,lavenderblushfff0f5,lawngreen7cfc00,lemonchiffonfffacd,lightblueadd8e6,lightcoralf08080,lightcyane0ffff,lightgoldenrodyellowfafad2,lightgrayd3d3d3,lightgreen90ee90,lightgreyd3d3d3,lightpinkffb6c1,lightsalmonffa07a,lightseagreen20b2aa,lightskyblue87cefa,lightslategray789,lightslategrey789,lightsteelblueb0c4de,lightyellowffffe0,lime0f0,limegreen32cd32,linenfaf0e6,magentaf0f,maroon800000,mediumaquamarine66cdaa,mediumblue0000cd,mediumorchidba55d3,mediumpurple9370db,mediumseagreen3cb371,mediumslateblue7b68ee,mediumspringgreen00fa9a,mediumturquoise48d1cc,mediumvioletredc71585,midnightblue191970,mintcreamf5fffa,mistyroseffe4e1,moccasinffe4b5,navajowhiteffdead,navy000080,oldlacefdf5e6,olive808000,olivedrab6b8e23,orangeffa500,orangeredff4500,orchidda70d6,palegoldenrodeee8aa,palegreen98fb98,paleturquoiseafeeee,palevioletreddb7093,papayawhipffefd5,peachpuffffdab9,perucd853f,pinkffc0cb,plumdda0dd,powderblueb0e0e6,purple800080,rebeccapurple663399,redf00,rosybrownbc8f8f,royalblue4169e1,saddlebrown8b4513,salmonfa8072,sandybrownf4a460,seagreen2e8b57,seashellfff5ee,siennaa0522d,silverc0c0c0,skyblue87ceeb,slateblue6a5acd,slategray708090,slategrey708090,snowfffafa,springgreen00ff7f,steelblue4682b4,tand2b48c,teal008080,thistled8bfd8,tomatoff6347,turquoise40e0d0,violetee82ee,wheatf5deb3,whitefff,whitesmokef5f5f5,yellowff0,yellowgreen9acd32},R=d.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(I);function P(t){return t=parseFloat(t),(isNaN(t)t0t1)&&(t=1),t}function C(t,e){(function(t){returnstring==typeof t&&-1!=t.indexOf(.)&&1===parseFloat(t)})(t)&&(t=100%);var r=function(t){returnstring==typeof t&&-1!=t.indexOf(%)}(t);return t=f(e,h(0,parseFloat(t))),r&&(t=parseInt(te,10)100),i.abs(t-e)1e-61t%eparseFloat(e)}function z(t){return f(1,h(0,t))}function F(t){return parseInt(t,16)}function T(t){return 1==t.length0+t+t}function D(t){return t=1&&(t=100t+%),t}function q(t){return i.round(255parseFloat(t)).toString(16)}function L(t){return F(t)255}var B,V,U,Y=(V=[s(]+(+(B=([-+]d.d+%)([-+]d+%))+)[,s]+(+B+)[,s]+(+B+)s),U=[s(]+(+B+)[,s]+(+B+)[,s]+(+B+)[,s]+(+B+)s),{CSS_UNITnew RegExp(B),rgbnew RegExp(rgb+V),rgbanew RegExp(rgba+U),hslnew RegExp(hsl+V),hslanew RegExp(hsla+U),hsvnew RegExp(hsv+V),hsvanew RegExp(hsva+U),hex3^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$,hex6^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$,hex4^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$,hex8^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$});function H(t){return!!Y.CSS_UNIT.exec(t)}t.exportst.exports=dvoid 0===(n=function(){return d}.call(e,r,e,t))(t.exports=n)}(Math)},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n={}.toString;e.default=function(t,e){return n.call(t)===[object +e+]}},function(t,e,r){var n=r(36),o=r(143),i=r(144),a=r(145),u=r(146),s=r(147);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},function(t,e,r){var n=r(138),o=r(139),i=r(140),a=r(141),u=r(142);function s(t){var e=-1,r=null==t0t.length;for(this.clear();++er;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(20);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},function(t,e,r){var n=r(15)(Object,create);t.exports=n},function(t,e,r){var n=r(163);t.exports=function(t,e){var r=t.__data__;return n(e)r[string==typeof estringhash]r.map}},function(t,e,r){var n=r(41),o=r(20),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==re in t)n(t,e,r)}},function(t,e,r){var n=r(78);t.exports=function(t,e,r){__proto__==e&&nn(t,e,{configurable!0,enumerable!0,valuer,writable!0})t[e]=r}},function(t,e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var n=^(0[1-9]d)$;t.exports=function(t,e){var o=r(t);return!!(e=null==e9007199254740991e)&&(number==osymbol!=o&&n.test(t))&&t-1&&t%1==0&&te}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===(function==typeof e&&e.prototyper)}},function(t,e,r){var n=r(80)(Object.getPrototypeOf,Object);t.exports=n},function(t,e,r){var n=r(68),o=r(192)(n);t.exports=o},function(t,e,r){var n=r(48),o=r(29);t.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&ri;)t=t[o(e[r++])];return r&&r==itvoid 0}},function(t,e,r){var n=r(1),o=r(71),i=r(206),a=r(103);t.exports=function(t,e){return n(t)to(t,e)[t]i(a(t))}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t0t.length,o=Array(n);++rn;)o[r]=e(t[r],r,t);return o}},function(t,e,r){var n=r(18),o=r(112),i=r(113);t.exports=function(t,e){return i(o(t,e,n),t+)}},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var o=r(20),i=r(12),a=r(42),u=r(6);t.exports=function(t,e,r){if(!u(r))return!1;var s=n(e);return!!(number==si(r)&&a(e,r.length)string==s&&e in r)&&o(r[e],t)}},function(t,e,r){use strict;var n=r(0);t.exports={longestPathfunction(t){var e={};n.forEach(t.sources(),(function r(o){var i=t.node(o);if(n.has(e,o))return i.rank;e[o]=!0;var a=n.min(n.map(t.outEdges(o),(function(e){return r(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a(a=0),i.rank=a}))},slackfunction(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=r(2),o=r(134);e.default=function(t,e){if(t)if(n.default(t))for(var r=0,i=t.length;ri&&!1!==e(t[r],r);r++);else if(o.default(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});e.default=function(t){return null==t}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return to},e.equals=function(t,e){return Math.abs(t-e)=nMath.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6;e.ARRAY_TYPE=undefined!=typeof Float32ArrayFloat32ArrayArray,e.RANDOM=Math.random;var o=Math.PI180},function(t,e,r){use strict;function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var o=r(5);t.exports=i;function i(t){this._isDirected=!o.has(t,directed)t.directed,this._isMultigraph=!!o.has(t,multigraph)&&t.multigraph,this._isCompound=!!o.has(t,compound)&&t.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[0]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,e){t[e]t[e]++t[e]=1}function u(t,e){--t[e]delete t[e]}function s(t,e,r,n){var i=+e,a=+r;if(!t&&ia){var u=i;i=a,a=u}return i++a++(o.isUndefined(n)0n)}function c(t,e,r,n){var o=+e,i=+r;if(!t&&oi){var a=o;o=i,i=a}var u={vo,wi};return n&&(u.name=n),u}function f(t,e){return s(t,e.v,e.w,e.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(t){return this._label=t,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(t){return o.isFunction(t)(t=o.constant(t)),this._defaultNodeLabelFn=t,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return o.keys(this._nodes)},i.prototype.sources=function(){var t=this;return o.filter(this.nodes(),(function(e){return o.isEmpty(t._in[e])}))},i.prototype.sinks=function(){var t=this;return o.filter(this.nodes(),(function(e){return o.isEmpty(t._out[e])}))},i.prototype.setNodes=function(t,e){var r=arguments,n=this;return o.each(t,(function(t){r.length1n.setNode(t,e)n.setNode(t)})),this},i.prototype.setNode=function(t,e){return o.has(this._nodes,t)(arguments.length1&&(this._nodes[t]=e),this)(this._nodes[t]=arguments.length1ethis._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=0,this._children[t]={},this._children[0][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},i.prototype.node=function(t){return this._nodes[t]},i.prototype.hasNode=function(t){return o.has(this._nodes,t)},i.prototype.removeNode=function(t){var e=this;if(o.has(this._nodes,t)){var r=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],o.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),o.each(o.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],o.each(o.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},i.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error(Cannot set parent in a non-compound graph);if(o.isUndefined(e))e=0;else{for(var r=e+=;!o.isUndefined(r);r=this.parent(r))if(r===t)throw new Error(Setting +e+ as parent of +t+ would create a cycle);this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},i.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},i.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(0!==e)return e}},i.prototype.children=function(t){if(o.isUndefined(t)&&(t=0),this._isCompound){var e=this._children[t];if(e)return o.keys(e)}else{if(0===t)return this.nodes();if(this.hasNode(t))return[]}},i.prototype.predecessors=function(t){var e=this._preds[t];if(e)return o.keys(e)},i.prototype.successors=function(t){var e=this._sucs[t];if(e)return o.keys(e)},i.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return o.union(e,this.successors(t))},i.prototype.isLeaf=function(t){return 0===(this.isDirected()this.successors(t)this.neighbors(t)).length},i.prototype.filterNodes=function(t){var e=new this.constructor({directedthis._isDirected,multigraphthis._isMultigraph,compoundthis._isCompound});e.setGraph(this.graph());var r=this;o.each(this._nodes,(function(r,n){t(n)&&e.setNode(n,r)})),o.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))}));var n={};return this._isCompound&&o.each(e.nodes(),(function(t){e.setParent(t,function t(o){var i=r.parent(o);return void 0===ie.hasNode(i)(n[o]=i,i)i in nn[i]t(i)}(t))})),e},i.prototype.setDefaultEdgeLabel=function(t){return o.isFunction(t)(t=o.constant(t)),this._defaultEdgeLabelFn=t,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return o.values(this._edgeObjs)},i.prototype.setPath=function(t,e){var r=this,n=arguments;return o.reduce(t,(function(t,o){return n.length1r.setEdge(t,o,e)r.setEdge(t,o),o})),this},i.prototype.setEdge=function(){var t,e,r,i,u=!1,f=arguments[0];object===n(f)&&null!==f&&vin f(t=f.v,e=f.w,r=f.name,2===arguments.length&&(i=arguments[1],u=!0))(t=f,e=arguments[1],r=arguments[3],arguments.length2&&(i=arguments[2],u=!0)),t=+t,e=+e,o.isUndefined(r)(r=+r);var h=s(this._isDirected,t,e,r);if(o.has(this._edgeLabels,h))return u&&(this._edgeLabels[h]=i),this;if(!o.isUndefined(r)&&!this._isMultigraph)throw new Error(Cannot set a named edge when isMultigraph = false);this.setNode(t),this.setNode(e),this._edgeLabels[h]=uithis._defaultEdgeLabelFn(t,e,r);var l=c(this._isDirected,t,e,r);return t=l.v,e=l.w,Object.freeze(l),this._edgeObjs[h]=l,a(this._preds[e],t),a(this._sucs[t],e),this._in[e][h]=l,this._out[t][h]=l,this._edgeCount++,this},i.prototype.edge=function(t,e,r){var n=1===arguments.lengthf(this._isDirected,arguments[0])s(this._isDirected,t,e,r);return this._edgeLabels[n]},i.prototype.hasEdge=function(t,e,r){var n=1===arguments.lengthf(this._isDirected,arguments[0])s(this._isDirected,t,e,r);return o.has(this._edgeLabels,n)},i.prototype.removeEdge=function(t,e,r){var n=1===arguments.lengthf(this._isDirected,arguments[0])s(this._isDirected,t,e,r),o=this._edgeObjs[n];return o&&(t=o.v,e=o.w,delete this._edgeLabels[n],delete this._edgeObjs[n],u(this._preds[e],t),u(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},i.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var n=o.values(r);return eo.filter(n,(function(t){return t.v===e}))n}},i.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var n=o.values(r);return eo.filter(n,(function(t){return t.w===e}))n}},i.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))}},function(t,e,r){var n=r(15)(r(8),Map);t.exports=n},function(t,e,r){var n=r(155),o=r(162),i=r(164),a=r(165),u=r(166);function s(t){var e=-1,r=null==t0t.length;for(this.clear();++er;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t0t.length;++rn&&!1!==e(t[r],r,t););return t}},function(t,e){t.exports=function(t){return t.webpackPolyfill(t.deprecate=function(){},t.paths=[],t.children(t.children=[]),Object.defineProperty(t,loaded,{enumerable!0,getfunction(){return t.l}}),Object.defineProperty(t,id,{enumerable!0,getfunction(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){returnnumber==typeof t&&t-1&&t%1==0&&t=9007199254740991}},function(t,e,r){(function(t){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var o=r(76),i=object==n(e)&&e&&!e.nodeType&&e,a=i&&object==n(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i&&o.process,s=function(){try{var t=a&&a.require&&a.require(util).types;return tu&&u.binding&&u.binding(util)}catch(t){}}();t.exports=s}).call(this,r(60)(t))},function(t,e,r){var n=r(44),o=r(172),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&constructor!=r&&e.push(r);return e}},function(t,e,r){var n=r(83),o=r(84),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=afunction(t){return null==t[](t=Object(t),n(a(t),(function(e){return i.call(t,e)})))}o;t.exports=u},function(t,e){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++rn;)t[o+r]=e[r];return t}},function(t,e,r){var n=r(89);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,r){var n=r(69),o=r(14);t.exports=function(t,e){return t&&n(t,e,o)}},function(t,e,r){var n=r(191)();t.exports=n},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var o=r(1),i=r(24),a=.[([^[]](['])((!1)[^].)1)],u=^w$;t.exports=function(t,e){if(o(t))return!1;var r=n(t);return!(number!=r&&symbol!=r&&boolean!=r&&null!=t&&!i(t))(u.test(t)!a.test(t)null!=e&&t in Object(e))}},function(t,e,r){var n=r(65),o=r(225);t.exports=function t(e,r,i,a,u){var s=-1,c=e.length;for(i(i=o),u(u=[]);++sc;){var f=e[s];r0&&i(f)r1t(f,r-1,i,a,u)n(u,f)a(u[u.length]=f)}return u}},function(t,e,r){var n=r(24);t.exports=function(t,e,r){for(var o=-1,i=t.length;++oi;){var a=t[o],u=e(a);if(null!=u&&(void 0===su==u&&!n(u)r(u,s)))var s=u,c=a}return c}},function(t,e,r){t.exports={graphlibr(7),layoutr(249),debugr(308),util{timer(4).time,notimer(4).notime},versionr(309)}},function(t,e,r){var n=r(35),o=r(59),i=r(40),a=r(167),u=r(173),s=r(81),c=r(82),f=r(176),h=r(177),l=r(86),d=r(178),p=r(23),v=r(182),g=r(183),y=r(91),m=r(1),b=r(22),w=r(187),x=r(6),M=r(189),k=r(14),_=r(17),S={};S[[object Arguments]]=S[[object Array]]=S[[object ArrayBuffer]]=S[[object DataView]]=S[[object Boolean]]=S[[object Date]]=S[[object Float32Array]]=S[[object Float64Array]]=S[[object Int8Array]]=S[[object Int16Array]]=S[[object Int32Array]]=S[[object Map]]=S[[object Number]]=S[[object Object]]=S[[object RegExp]]=S[[object Set]]=S[[object String]]=S[[object Symbol]]=S[[object Uint8Array]]=S[[object Uint8ClampedArray]]=S[[object Uint16Array]]=S[[object Uint32Array]]=!0,S[[object Error]]=S[[object Function]]=S[[object WeakMap]]=!1,t.exports=function t(e,r,E,j,A,O){var N,I=1&r,R=2&r,P=4&r;if(E&&(N=AE(e,j,A,O)E(e)),void 0!==N)return N;if(!x(e))return e;var C=m(e);if(C){if(N=v(e),!I)return c(e,N)}else{var z=p(e),F=[object Function]==z[object GeneratorFunction]==z;if(b(e))return s(e,I);if([object Object]==z[object Arguments]==zF&&!A){if(N=RF{}y(e),!I)return Rh(e,u(N,e))f(e,a(N,e))}else{if(!S[z])return Ae{};N=g(e,z,I)}}O(O=new n);var T=O.get(e);if(T)return T;O.set(e,N),M(e)e.forEach((function(n){N.add(t(n,r,E,n,e,O))}))w(e)&&e.forEach((function(n,o){N.set(o,t(n,r,E,o,e,O))}));var D=Cvoid 0(PRdlR_k)(e);return o(De,(function(n,o){D&&(n=e[o=n]),i(N,o,t(n,r,E,o,e,O))})),N}},function(t,e,r){(function(e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var n=object==(void 0===eundefinedr(e))&&e&&e.Object===Object&&e;t.exports=n}).call(this,r(149))},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+}catch(t){}}return}},function(t,e,r){var n=r(15),o=function(){try{var t=n(Object,defineProperty);return t({},,{}),t}catch(t){}}();t.exports=o},function(t,e,r){var n=r(168),o=r(27),i=r(1),a=r(22),u=r(42),s=r(28),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),f=!r&&o(t),h=!r&&!f&&a(t),l=!r&&!f&&!h&&s(t),d=rfhl,p=dn(t.length,String)[],v=p.length;for(var g in t)!e&&!c.call(t,g)d&&(length==gh&&(offset==gparent==g)l&&(buffer==gbyteLength==gbyteOffset==g)u(g,v))p.push(g);return p}},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){(function(t){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var o=r(8),i=object==n(e)&&e&&!e.nodeType&&e,a=i&&object==n(t)&&t&&!t.nodeType&&t,u=a&&a.exports===io.Buffervoid 0,s=uu.allocUnsafevoid 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=ss(r)new t.constructor(r);return t.copy(n),n}}).call(this,r(60)(t))},function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e(e=Array(n));++rn;)e[r]=t[r];return e}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t0t.length,o=0,i=[];++rn;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,r){var n=r(65),o=r(45),i=r(64),a=r(84),u=Object.getOwnPropertySymbolsfunction(t){for(var e=[];t;)n(e,i(t)),t=o(t);return e}a;t.exports=u},function(t,e,r){var n=r(87),o=r(64),i=r(14);t.exports=function(t){return n(t,i,o)}},function(t,e,r){var n=r(65),o=r(1);t.exports=function(t,e,r){var i=e(t);return o(t)in(i,r(t))}},function(t,e,r){var n=r(15)(r(8),Set);t.exports=n},function(t,e,r){var n=r(8).Uint8Array;t.exports=n},function(t,e,r){var n=r(66);t.exports=function(t,e){var r=en(t.buffer)t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},function(t,e,r){var n=r(92),o=r(45),i=r(44);t.exports=function(t){returnfunction!=typeof t.constructori(t){}n(o(t))}},function(t,e,r){var n=r(6),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},function(t,e,r){t.exports=r(94)},function(t,e,r){var n=r(59),o=r(46),i=r(95),a=r(1);t.exports=function(t,e){return(a(t)no)(t,i(e))}},function(t,e,r){var n=r(18);t.exports=function(t){returnfunction==typeof ttn}},function(t,e,r){var n=r(83),o=r(193),i=r(13),a=r(1);t.exports=function(t,e){return(a(t)no)(t,i(e,3))}},function(t,e,r){var n=r(196),o=r(10);t.exports=function t(e,r,i,a,u){return e===r(null==enull==r!o(e)&&!o(r)e!=e&&r!=rn(e,r,i,a,t,u))}},function(t,e,r){var n=r(99),o=r(199),i=r(100);t.exports=function(t,e,r,a,u,s){var c=1&r,f=t.length,h=e.length;if(f!=h&&!(c&&hf))return!1;var l=s.get(t),d=s.get(e);if(l&&d)return l==e&&d==t;var p=-1,v=!0,g=2&rnew nvoid 0;for(s.set(t,e),s.set(e,t);++pf;){var y=t[p],m=e[p];if(a)var b=ca(m,y,p,e,t,s)a(y,m,p,t,e,s);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!o(e,(function(t,e){if(!i(g,e)&&(y===tu(y,t,r,a,s)))return g.push(e)}))){v=!1;break}}else if(y!==m&&!u(y,m,r,a,s)){v=!1;break}}return s.delete(t),s.delete(e),v}},function(t,e,r){var n=r(58),o=r(197),i=r(198);function a(t){var e=-1,r=null==t0t.length;for(this.__data__=new n;++er;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,r){var n=r(6);t.exports=function(t){return t==t&&!n(t)}},function(t,e){t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==et in Object(r)))}}},function(t,e,r){var n=r(209);t.exports=function(t){return null==tn(t)}},function(t,e,r){var n=r(210),o=r(105);t.exports=function(t,e){return null!=t&&o(t,e,n)}},function(t,e,r){var n=r(48),o=r(27),i=r(1),a=r(42),u=r(61),s=r(29);t.exports=function(t,e,r){for(var c=-1,f=(e=n(e,t)).length,h=!1;++cf;){var l=s(e[c]);if(!(h=null!=t&&r(t,l)))break;t=t[l]}return h++c!=fh!!(f=null==t0t.length)&&u(f)&&a(l,f)&&(i(t)o(t))}},function(t,e){t.exports=function(t){return function(e){return null==evoid 0e[t]}}},function(t,e,r){var n=r(213),o=r(105);t.exports=function(t,e){return null!=t&&o(t,e,n)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,r){var n=r(49),o=r(13),i=r(110),a=r(1);t.exports=function(t,e){return(a(t)ni)(t,o(e,3))}},function(t,e,r){var n=r(46),o=r(12);t.exports=function(t,e){var r=-1,i=o(t)Array(t.length)[];return n(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}},function(t,e,r){var n=r(215),o=r(46),i=r(13),a=r(216),u=r(1);t.exports=function(t,e,r){var s=u(t)na,c=arguments.length3;return s(t,i(e,4),r,c,o)}},function(t,e,r){var n=r(226),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===et.length-1e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++au;)s[a]=i[e+a];a=-1;for(var c=Array(e+1);++ae;)c[a]=i[a];return c[e]=r(s),n(t,this,c)}}},function(t,e,r){var n=r(227),o=r(228)(n);t.exports=o},function(t,e){t.exports=function(t,e,r,n){for(var o=t.length,i=r+(n1-1);ni--++io;)if(e(t[i],i,t))return i;return-1}},function(t,e,r){var n=r(12),o=r(10);t.exports=function(t){return o(t)&&n(t)}},function(t,e,r){var n=r(237),o=r(14);t.exports=function(t){return null==t[]n(t,o(t))}},function(t,e,r){var n=r(5),o=r(118);t.exports=function(t,e,r,n){return function(t,e,r,n){var i,a,u={},s=new o,c=function(t){var e=t.v!==it.vt.w,n=u[e],o=r(t),c=a.distance+o;if(o0)throw new Error(dijkstra does not allow negative edge weights. Bad edge +t+ Weight +o);cn.distance&&(n.distance=c,n.predecessor=i,s.decrease(e,c))};t.nodes().forEach((function(t){var r=t===e0Number.POSITIVE_INFINITY;u[t]={distancer},s.add(t,r)}));for(;s.size()0&&(i=s.removeMin(),(a=u[i]).distance!==Number.POSITIVE_INFINITY);)n(i).forEach(c);return u}(t,String(e),ri,nfunction(e){return t.outEdges(e)})};var i=n.constant(1)},function(t,e,r){var n=r(5);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return n.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error(Queue underflow);return this._arr[0].key},o.prototype.add=function(t,e){var r=this._keyIndices;if(t=String(t),!n.has(r,t)){var o=this._arr,i=o.length;return r[t]=i,o.push({keyt,prioritye}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(ethis._arr[r].priority)throw new Error(New priority is greater than current priority. Key +t+ Old +this._arr[r].priority+ New +e);this._arr[r].priority=e,this._decrease(r)},o.prototype._heapify=function(t){var e=this._arr,r=2t,n=r+1,o=t;re.length&&(o=e[r].prioritye[o].priorityro,ne.length&&(o=e[n].prioritye[o].priorityno),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,r=this._arr,n=r[t].priority;0!==t&&!(r[e=t1].priorityn);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,o=r[t],i=r[e];r[t]=i,r[e]=o,n[i.key]=t,n[o.key]=e}},function(t,e,r){var n=r(5);t.exports=function(t){var e=0,r=[],o={},i=[];return t.nodes().forEach((function(a){n.has(o,a)function a(u){var s=o[u]={onStack!0,lowlinke,indexe++};if(r.push(u),t.successors(u).forEach((function(t){n.has(o,t)o[t].onStack&&(s.lowlink=Math.min(s.lowlink,o[t].index))(a(t),s.lowlink=Math.min(s.lowlink,o[t].lowlink))})),s.lowlink===s.index){var c,f=[];do{c=r.pop(),o[c].onStack=!1,f.push(c)}while(u!==c);i.push(f)}}(a)})),i}},function(t,e,r){var n=r(5);function o(t){var e={},r={},o=[];if(n.each(t.sinks(),(function a(u){if(n.has(r,u))throw new i;n.has(e,u)(r[u]=!0,e[u]=!0,n.each(t.predecessors(u),a),delete r[u],o.push(u))})),n.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},function(t,e,r){var n=r(5);t.exports=function(t,e,r){n.isArray(e)(e=[e]);var o=(t.isDirected()t.successorst.neighbors).bind(t),i=[],a={};return n.each(e,(function(e){if(!t.hasNode(e))throw new Error(Graph does not have node +e);!function t(e,r,o,i,a,u){n.has(i,r)(i[r]=!0,ou.push(r),n.each(a(r),(function(r){t(e,r,o,i,a,u)})),o&&u.push(r))}(t,e,post===r,a,o,i)})),i}},function(t,e,r){var n=r(256);t.exports=function(t){return t(t=n(t))===10t===-1017976931348623157e292(t0-11)t==tt00===tt0}},function(t,e,r){var n=r(72);t.exports=function(t){return(null==t0t.length)n(t,1)[]}},function(t,e,r){var n=r(41),o=r(20);t.exports=function(t,e,r){(void 0!==r&&!o(t[e],r)void 0===r&&!(e in t))&&n(t,e,r)}},function(t,e){t.exports=function(t,e){if((constructor!==efunction!=typeof t[e])&&__proto__!=e)return t[e]}},function(t,e){t.exports=function(t,e){return te}},function(t,e,r){use strict;var n=r(0),o=r(7).Graph,i=r(52).slack;function a(t,e){return n.forEach(t.nodes(),(function r(o){n.forEach(e.nodeEdges(o),(function(n){var a=n.v,u=o===an.wa;t.hasNode(u)i(e,n)(t.setNode(u,{}),t.setEdge(o,u,{}),r(u))}))})),t.nodeCount()}function u(t,e){return n.minBy(e.edges(),(function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return i(e,r)}))}function s(t,e,r){n.forEach(t.nodes(),(function(t){e.node(t).rank+=r}))}t.exports=function(t){var e,r,n=new o({directed!1}),c=t.nodes()[0],f=t.nodeCount();n.setNode(c,{});for(;a(n,t)f;)e=u(n,t),r=n.hasNode(e.v)i(t,e)-i(t,e),s(n,t,r);return n}},function(t,e,r){var n=r(315),o={};for(var i in n)n.hasOwnProperty(i)&&(o[n[i]]=i);var a=t.exports={rgb{channels3,labelsrgb},hsl{channels3,labelshsl},hsv{channels3,labelshsv},hwb{channels3,labelshwb},cmyk{channels4,labelscmyk},xyz{channels3,labelsxyz},lab{channels3,labelslab},lch{channels3,labelslch},hex{channels1,labels[hex]},keyword{channels1,labels[keyword]},ansi16{channels1,labels[ansi16]},ansi256{channels1,labels[ansi256]},hcg{channels3,labels[h,c,g]},apple{channels3,labels[r16,g16,b16]},gray{channels1,labels[gray]}};for(var u in a)if(a.hasOwnProperty(u)){if(!(channelsin a[u]))throw new Error(missing channels property +u);if(!(labelsin a[u]))throw new Error(missing channel labels property +u);if(a[u].labels.length!==a[u].channels)throw new Error(channel and label counts mismatch +u);var s=a[u].channels,c=a[u].labels;delete a[u].channels,delete a[u].labels,Object.defineProperty(a[u],channels,{values}),Object.defineProperty(a[u],labels,{valuec})}a.rgb.hsl=function(t){var e,r,n=t[0]255,o=t[1]255,i=t[2]255,a=Math.min(n,o,i),u=Math.max(n,o,i),s=u-a;return u===ae=0n===ue=(o-i)so===ue=2+(i-n)si===u&&(e=4+(n-o)s),(e=Math.min(60e,360))0&&(e+=360),r=(a+u)2,[e,100(u===a0r=.5s(u+a)s(2-u-a)),100r]},a.rgb.hsv=function(t){var e,r,n,o,i,a=t[0]255,u=t[1]255,s=t[2]255,c=Math.max(a,u,s),f=c-Math.min(a,u,s),h=function(t){return(c-t)6f+.5};return 0===fo=i=0(i=fc,e=h(a),r=h(u),n=h(s),a===co=n-ru===co=13+e-ns===c&&(o=23+r-e),o0o+=1o1&&(o-=1)),[360o,100i,100c]},a.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2];return[a.rgb.hsl(t)[0],100(1255Math.min(e,Math.min(r,n))),100(n=1-1255Math.max(e,Math.max(r,n)))]},a.rgb.cmyk=function(t){var e,r=t[0]255,n=t[1]255,o=t[2]255;return[100((1-r-(e=Math.min(1-r,1-n,1-o)))(1-e)0),100((1-n-e)(1-e)0),100((1-o-e)(1-e)0),100e]},a.rgb.keyword=function(t){var e=o[t];if(e)return e;var r,i,a,u=10;for(var s in n)if(n.hasOwnProperty(s)){var c=n[s],f=(i=t,a=c,Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)+Math.pow(i[2]-a[2],2));fu&&(u=f,r=s)}return r},a.keyword.rgb=function(t){return n[t]},a.rgb.xyz=function(t){var e=t[0]255,r=t[1]255,n=t[2]255;return[100(.4124(e=e.04045Math.pow((e+.055)1.055,2.4)e12.92)+.3576(r=r.04045Math.pow((r+.055)1.055,2.4)r12.92)+.1805(n=n.04045Math.pow((n+.055)1.055,2.4)n12.92)),100(.2126e+.7152r+.0722n),100(.0193e+.1192r+.9505n)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),r=e[0],n=e[1],o=e[2];return n=100,o=108.883,r=(r=95.047).008856Math.pow(r,13)7.787r+16116,[116(n=n.008856Math.pow(n,13)7.787n+16116)-16,500(r-n),200(n-(o=o.008856Math.pow(o,13)7.787o+16116))]},a.hsl.rgb=function(t){var e,r,n,o,i,a=t[0]360,u=t[1]100,s=t[2]100;if(0===u)return[i=255s,i,i];e=2s-(r=s.5s(1+u)s+u-su),o=[0,0,0];for(var c=0;c3;c++)(n=a+13-(c-1))0&&n++,n1&&n--,i=6n1e+6(r-e)n2n1r3n2e+(r-e)(23-n)6e,o[c]=255i;return o},a.hsl.hsv=function(t){var e=t[0],r=t[1]100,n=t[2]100,o=r,i=Math.max(n,.01);return r=(n=2)=1n2-n,o=i=1i2-i,[e,100(0===n2o(i+o)2r(n+r)),100((n+r)2)]},a.hsv.rgb=function(t){var e=t[0]60,r=t[1]100,n=t[2]100,o=Math.floor(e)%6,i=e-Math.floor(e),a=255n(1-r),u=255n(1-ri),s=255n(1-r(1-i));switch(n=255,o){case 0return[n,s,a];case 1return[u,n,a];case 2return[a,n,s];case 3return[a,u,n];case 4return[s,a,n];case 5return[n,a,u]}},a.hsv.hsl=function(t){var e,r,n,o=t[0],i=t[1]100,a=t[2]100,u=Math.max(a,.01);return n=(2-i)a,r=iu,[o,100(r=(r=(e=(2-i)u)=1e2-e)0),100(n=2)]},a.hwb.rgb=function(t){var e,r,n,o,i,a,u,s=t[0]360,c=t[1]100,f=t[2]100,h=c+f;switch(h1&&(c=h,f=h),n=6s-(e=Math.floor(6s)),0!=(1&e)&&(n=1-n),o=c+n((r=1-f)-c),e){defaultcase 6case 0i=r,a=o,u=c;break;case 1i=o,a=r,u=c;break;case 2i=c,a=r,u=o;break;case 3i=c,a=o,u=r;break;case 4i=o,a=c,u=r;break;case 5i=r,a=c,u=o}return[255i,255a,255u]},a.cmyk.rgb=function(t){var e=t[0]100,r=t[1]100,n=t[2]100,o=t[3]100;return[255(1-Math.min(1,e(1-o)+o)),255(1-Math.min(1,r(1-o)+o)),255(1-Math.min(1,n(1-o)+o))]},a.xyz.rgb=function(t){var e,r,n,o=t[0]100,i=t[1]100,a=t[2]100;return r=-.9689o+1.8758i+.0415a,n=.0557o+-.204i+1.057a,e=(e=3.2406o+-1.5372i+-.4986a).00313081.055Math.pow(e,12.4)-.05512.92e,r=r.00313081.055Math.pow(r,12.4)-.05512.92r,n=n.00313081.055Math.pow(n,12.4)-.05512.92n,[255(e=Math.min(Math.max(0,e),1)),255(r=Math.min(Math.max(0,r),1)),255(n=Math.min(Math.max(0,n),1))]},a.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2];return r=100,n=108.883,e=(e=95.047).008856Math.pow(e,13)7.787e+16116,[116(r=r.008856Math.pow(r,13)7.787r+16116)-16,500(e-r),200(r-(n=n.008856Math.pow(n,13)7.787n+16116))]},a.lab.xyz=function(t){var e,r,n,o=t[0];e=t[1]500+(r=(o+16)116),n=r-t[2]200;var i=Math.pow(r,3),a=Math.pow(e,3),u=Math.pow(n,3);return r=i.008856i(r-16116)7.787,e=a.008856a(e-16116)7.787,n=u.008856u(n-16116)7.787,[e=95.047,r=100,n=108.883]},a.lab.lch=function(t){var e,r=t[0],n=t[1],o=t[2];return(e=360Math.atan2(o,n)2Math.PI)0&&(e+=360),[r,Math.sqrt(nn+oo),e]},a.lch.lab=function(t){var e,r=t[0],n=t[1];return e=t[2]3602Math.PI,[r,nMath.cos(e),nMath.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],o=1 in argumentsarguments[1]a.rgb.hsv(t)[2];if(0===(o=Math.round(o50)))return 30;var i=30+(Math.round(n255)2Math.round(r255)1Math.round(e255));return 2===o&&(i+=60),i},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];return e===r&&r===ne816e248231Math.round((e-8)24724)+23216+36Math.round(e2555)+6Math.round(r2555)+Math.round(n2555)},a.ansi16.rgb=function(t){var e=t%10;if(0===e7===e)return t50&&(e+=3.5),[e=e10.5255,e,e];var r=.5(1+~~(t50));return[(1&e)r255,(e1&1)r255,(e2&1)r255]},a.ansi256.rgb=function(t){if(t=232){var e=10(t-232)+8;return[e,e,e]}var r;return t-=16,[Math.floor(t36)5255,Math.floor((r=t%36)6)5255,r%65255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))16)+((255&Math.round(t[1]))8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return000000.substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match([a-f0-9]{6}[a-f0-9]{3}i);if(!e)return[0,0,0];var r=e[0];3===e[0].length&&(r=r.split().map((function(t){return t+t})).join());var n=parseInt(r,16);return[n16&255,n8&255,255&n]},a.rgb.hcg=function(t){var e,r=t[0]255,n=t[1]255,o=t[2]255,i=Math.max(Math.max(r,n),o),a=Math.min(Math.min(r,n),o),u=i-a;return e=u=00i===r(n-o)u%6i===n2+(o-r)u4+(r-n)u+4,e=6,[360(e%=1),100u,100(u1a(1-u)0)]},a.hsl.hcg=function(t){var e=t[1]100,r=t[2]100,n=1,o=0;return(n=r.52er2e(1-r))1&&(o=(r-.5n)(1-n)),[t[0],100n,100o]},a.hsv.hcg=function(t){var e=t[1]100,r=t[2]100,n=er,o=0;return n1&&(o=(r-n)(1-n)),[t[0],100n,100o]},a.hcg.rgb=function(t){var e=t[0]360,r=t[1]100,n=t[2]100;if(0===r)return[255n,255n,255n];var o,i=[0,0,0],a=e%16,u=a%1,s=1-u;switch(Math.floor(a)){case 0i[0]=1,i[1]=u,i[2]=0;break;case 1i[0]=s,i[1]=1,i[2]=0;break;case 2i[0]=0,i[1]=1,i[2]=u;break;case 3i[0]=0,i[1]=s,i[2]=1;break;case 4i[0]=u,i[1]=0,i[2]=1;break;defaulti[0]=1,i[1]=0,i[2]=s}return o=(1-r)n,[255(ri[0]+o),255(ri[1]+o),255(ri[2]+o)]},a.hcg.hsv=function(t){var e=t[1]100,r=e+t[2]100(1-e),n=0;return r0&&(n=er),[t[0],100n,100r]},a.hcg.hsl=function(t){var e=t[1]100,r=t[2]100(1-e)+.5e,n=0;return r0&&r.5n=e(2r)r=.5&&r1&&(n=e(2(1-r))),[t[0],100n,100r]},a.hcg.hwb=function(t){var e=t[1]100,r=e+t[2]100(1-e);return[t[0],100(r-e),100(1-r)]},a.hwb.hcg=function(t){var e=t[1]100,r=1-t[2]100,n=r-e,o=0;return n1&&(o=(r-n)(1-n)),[t[0],100n,100o]},a.apple.rgb=function(t){return[t[0]65535255,t[1]65535255,t[2]65535255]},a.rgb.apple=function(t){return[t[0]25565535,t[1]25565535,t[2]25565535]},a.gray.rgb=function(t){return[t[0]100255,t[0]100255,t[0]100255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]100255),r=((e16)+(e8)+e).toString(16).toUpperCase();return000000.substring(r.length)+r},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])3255100]}},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=o,e.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=i,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},e.subtract=u,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,r){return t[0]=e[0]r,t[1]=e[1]r,t[2]=e[2]r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]n,t[1]=e[1]+r[1]n,t[2]=e[2]+r[2]n,t},e.distance=f,e.squaredDistance=h,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1e[0],t[1]=1e[1],t[2]=1e[2],t},e.normalize=d,e.dot=p,e.cross=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[0],u=r[1],s=r[2];return t[0]=os-iu,t[1]=ia-ns,t[2]=nu-oa,t},e.lerp=function(t,e,r,n){var o=e[0],i=e[1],a=e[2];return t[0]=o+n(r[0]-o),t[1]=i+n(r[1]-i),t[2]=a+n(r[2]-a),t},e.hermite=function(t,e,r,n,o,i){var a=ii,u=a(2i-3)+1,s=a(i-2)+i,c=a(i-1),f=a(3-2i);return t[0]=e[0]u+r[0]s+n[0]c+o[0]f,t[1]=e[1]u+r[1]s+n[1]c+o[1]f,t[2]=e[2]u+r[2]s+n[2]c+o[2]f,t},e.bezier=function(t,e,r,n,o,i){var a=1-i,u=aa,s=ii,c=ua,f=3iu,h=3sa,l=si;return t[0]=e[0]c+r[0]f+n[0]h+o[0]l,t[1]=e[1]c+r[1]f+n[1]h+o[1]l,t[2]=e[2]c+r[2]f+n[2]h+o[2]l,t},e.random=function(t,e){e=e1;var r=2n.RANDOM()Math.PI,o=2n.RANDOM()-1,i=Math.sqrt(1-oo)e;return t[0]=Math.cos(r)i,t[1]=Math.sin(r)i,t[2]=oe,t},e.transformMat4=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[3]n+r[7]o+r[11]i+r[15];return a=a1,t[0]=(r[0]n+r[4]o+r[8]i+r[12])a,t[1]=(r[1]n+r[5]o+r[9]i+r[13])a,t[2]=(r[2]n+r[6]o+r[10]i+r[14])a,t},e.transformMat3=function(t,e,r){var n=e[0],o=e[1],i=e[2];return t[0]=nr[0]+or[3]+ir[6],t[1]=nr[1]+or[4]+ir[7],t[2]=nr[2]+or[5]+ir[8],t},e.transformQuat=function(t,e,r){var n=r[0],o=r[1],i=r[2],a=r[3],u=e[0],s=e[1],c=e[2],f=oc-is,h=iu-nc,l=ns-ou,d=ol-ih,p=if-nl,v=nh-of,g=2a;return f=g,h=g,l=g,d=2,p=2,v=2,t[0]=u+f+d,t[1]=s+h+p,t[2]=c+l+v,t},e.rotateX=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[0],i[1]=o[1]Math.cos(n)-o[2]Math.sin(n),i[2]=o[1]Math.sin(n)+o[2]Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateY=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[2]Math.sin(n)+o[0]Math.cos(n),i[1]=o[1],i[2]=o[2]Math.cos(n)-o[0]Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateZ=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[0]Math.cos(n)-o[1]Math.sin(n),i[1]=o[0]Math.sin(n)+o[1]Math.cos(n),i[2]=o[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.angle=function(t,e){var r=a(t[0],t[1],t[2]),n=a(e[0],e[1],e[2]);d(r,r),d(n,n);var o=p(r,n);return o10o-1Math.PIMath.acos(o)},e.str=function(t){returnvec3(+t[0]+, +t[1]+, +t[2]+)},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=e[0],u=e[1],s=e[2];return Math.abs(r-a)=n.EPSILONMath.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-u)=n.EPSILONMath.max(1,Math.abs(o),Math.abs(u))&&Math.abs(i-s)=n.EPSILONMath.max(1,Math.abs(i),Math.abs(s))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(55));function o(){var t=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(ee+rr+nn)}function a(t,e,r){var o=new n.ARRAY_TYPE(3);return o[0]=t,o[1]=e,o[2]=r,o}function u(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function s(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t[2]=e[2]r[2],t}function c(t,e,r){return t[0]=e[0]r[0],t[1]=e[1]r[1],t[2]=e[2]r[2],t}function f(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(rr+nn+oo)}function h(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return rr+nn+oo}function l(t){var e=t[0],r=t[1],n=t[2];return ee+rr+nn}function d(t,e){var r=e[0],n=e[1],o=e[2],i=rr+nn+oo;return i0&&(i=1Math.sqrt(i),t[0]=e[0]i,t[1]=e[1]i,t[2]=e[2]i),t}function p(t,e){return t[0]e[0]+t[1]e[1]+t[2]e[2]}var v;e.sub=u,e.mul=s,e.div=c,e.dist=f,e.sqrDist=h,e.len=i,e.sqrLen=l,e.forEach=(v=o(),function(t,e,r,n,o,i){var a=void 0,u=void 0;for(e(e=3),r(r=0),u=nMath.min(ne+r,t.length)t.length,a=r;au;a+=e)v[0]=t[a],v[1]=t[a+1],v[2]=t[a+2],o(v,v,i),t[a]=v[0],t[a+1]=v[1],t[a+2]=v[2];return t})},function(t,e,r){use strict;Object.defineProperty(e,__esModule,{value!0});var n=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return[Event (type=+this.type+)]},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.default=n},,,,function(t,e,r){use strict;function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}Object.defineProperty(e,__esModule,{value!0}),e.default=function(t){var e=n(t);return null!==t&&object===efunction===e}},function(t,e,r){var n=r(136);t.exports={Graphn.Graph,jsonr(239),algr(240),versionn.version}},function(t,e,r){t.exports={Graphr(56),versionr(238)}},function(t,e,r){var n=r(75);t.exports=function(t){return n(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(37),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r0)&&(r==e.length-1e.pop()o.call(e,r,1),--this.size,!0)}},function(t,e,r){var n=r(37);t.exports=function(t){var e=this.__data__,r=n(e,t);return r0void 0e[r][1]}},function(t,e,r){var n=r(37);t.exports=function(t){return n(this.__data__,t)-1}},function(t,e,r){var n=r(37);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o0(++this.size,r.push([t,e]))r[o][1]=e,this}},function(t,e,r){var n=r(36);t.exports=function(){this.__data__=new n,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,r){var n=r(36),o=r(57),i=r(58);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!oa.length199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},function(t,e,r){var n=r(25),o=r(152),i=r(6),a=r(77),u=^[object .+Constructor]$,s=Function.prototype,c=Object.prototype,f=s.toString,h=c.hasOwnProperty,l=RegExp(^+f.call(h).replace([^$.+()[]{}]g,$&).replace(hasOwnProperty(function).(=() for .+(=])g,$1.)+$);t.exports=function(t){return!(!i(t)o(t))&&(n(t)lu).test(a(t))}},function(t,e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var n;n=function(){return this}();try{n=nnew Function(return this)()}catch(t){object===(undefined==typeof windowundefinedr(window))&&(n=window)}t.exports=n},function(t,e,r){var n=r(21),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=nn.toStringTagvoid 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(et[u]=rdelete t[u]),o}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,r){var n,o=r(153),i=(n=[^.]+$.exec(o&&o.keys&&o.keys.IE_PROTO))Symbol(src)_1.+n;t.exports=function(t){return!!i&&i in t}},function(t,e,r){var n=r(8)[__core-js_shared__];t.exports=n},function(t,e){t.exports=function(t,e){return null==tvoid 0t[e]}},function(t,e,r){var n=r(156),o=r(36),i=r(57);t.exports=function(){this.size=0,this.__data__={hashnew n,mapnew(io),stringnew n}}},function(t,e,r){var n=r(157),o=r(158),i=r(159),a=r(160),u=r(161);function s(t){var e=-1,r=null==t0t.length;for(this.clear();++er;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(38);t.exports=function(){this.__data__=nn(null){},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e10,e}},function(t,e,r){var n=r(38),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return__lodash_hash_undefined__===rvoid 0r}return o.call(e,t)e[t]void 0}},function(t,e,r){var n=r(38),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return nvoid 0!==e[t]o.call(e,t)}},function(t,e,r){var n=r(38);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)01,r[t]=n&&void 0===e__lodash_hash_undefined__e,this}},function(t,e,r){var n=r(39);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e10,e}},function(t,e){function r(t){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}t.exports=function(t){var e=r(t);returnstring==enumber==esymbol==eboolean==e__proto__!==tnull===t}},function(t,e,r){var n=r(39);t.exports=function(t){return n(this,t).get(t)}},function(t,e,r){var n=r(39);t.exports=function(t){return n(this,t).has(t)}},function(t,e,r){var n=r(39);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o01,this}},function(t,e,r){var n=r(26),o=r(14);t.exports=function(t,e){return t&&n(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++rt;)n[r]=e(r);return n}},function(t,e,r){var n=r(16),o=r(10);t.exports=function(t){return o(t)&&[object Arguments]==n(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(16),o=r(61),i=r(10),a={};a[[object Float32Array]]=a[[object Float64Array]]=a[[object Int8Array]]=a[[object Int16Array]]=a[[object Int32Array]]=a[[object Uint8Array]]=a[[object Uint8ClampedArray]]=a[[object Uint16Array]]=a[[object Uint32Array]]=!0,a[[object Arguments]]=a[[object Array]]=a[[object ArrayBuffer]]=a[[object Boolean]]=a[[object DataView]]=a[[object Date]]=a[[object Error]]=a[[object Function]]=a[[object Map]]=a[[object Number]]=a[[object Object]]=a[[object RegExp]]=a[[object Set]]=a[[object String]]=a[[object WeakMap]]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},function(t,e,r){var n=r(80)(Object.keys,Object);t.exports=n},function(t,e,r){var n=r(26),o=r(17);t.exports=function(t,e){return t&&n(e,o(e),t)}},function(t,e,r){var n=r(6),o=r(44),i=r(175),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var u in t)(constructor!=u!e&&a.call(t,u))&&r.push(u);return r}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},function(t,e,r){var n=r(26),o=r(64);t.exports=function(t,e){return n(t,o(t),e)}},function(t,e,r){var n=r(26),o=r(85);t.exports=function(t,e){return n(t,o(t),e)}},function(t,e,r){var n=r(87),o=r(85),i=r(17);t.exports=function(t){return n(t,i,o)}},function(t,e,r){var n=r(15)(r(8),DataView);t.exports=n},function(t,e,r){var n=r(15)(r(8),Promise);t.exports=n},function(t,e,r){var n=r(15)(r(8),WeakMap);t.exports=n},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&string==typeof t[0]&&r.call(t,index)&&(n.index=t.index,n.input=t.input),n}},function(t,e,r){var n=r(66),o=r(184),i=r(185),a=r(186),u=r(90);t.exports=function(t,e,r){var s=t.constructor;switch(e){case[object ArrayBuffer]return n(t);case[object Boolean]case[object Date]return new s(+t);case[object DataView]return o(t,r);case[object Float32Array]case[object Float64Array]case[object Int8Array]case[object Int16Array]case[object Int32Array]case[object Uint8Array]case[object Uint8ClampedArray]case[object Uint16Array]case[object Uint32Array]return u(t,r);case[object Map]return new s;case[object Number]case[object String]return new s(t);case[object RegExp]return i(t);case[object Set]return new s;case[object Symbol]return a(t)}}},function(t,e,r){var n=r(66);t.exports=function(t,e){var r=en(t.buffer)t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},function(t,e){var r=w$;t.exports=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,r){var n=r(21),o=nn.prototypevoid 0,i=oo.valueOfvoid 0;t.exports=function(t){return iObject(i.call(t)){}}},function(t,e,r){var n=r(188),o=r(43),i=r(62),a=i&&i.isMap,u=ao(a)n;t.exports=u},function(t,e,r){var n=r(23),o=r(10);t.exports=function(t){return o(t)&&[object Map]==n(t)}},function(t,e,r){var n=r(190),o=r(43),i=r(62),a=i&&i.isSet,u=ao(a)n;t.exports=u},function(t,e,r){var n=r(23),o=r(10);t.exports=function(t){return o(t)&&[object Set]==n(t)}},function(t,e){t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var s=a[tu++o];if(!1===r(i[s],s,i))break}return e}}},function(t,e,r){var n=r(12);t.exports=function(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var i=r.length,a=ei-1,u=Object(r);(ea--++ai)&&!1!==o(u[a],a,u););return r}}},function(t,e,r){var n=r(46);t.exports=function(t,e){var r=[];return n(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}},function(t,e,r){var n=r(195),o=r(203),i=r(102);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]i(e[0][0],e[0][1])function(r){return r===tn(r,t,e)}}},function(t,e,r){var n=r(35),o=r(97);t.exports=function(t,e,r,i){var a=r.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=r[a];if(s&&c[2]c[1]!==t[c[0]]!(c[0]in t))return!1}for(;++au;){var f=(c=r[a])[0],h=t[f],l=c[1];if(s&&c[2]){if(void 0===h&&!(f in t))return!1}else{var d=new n;if(i)var p=i(h,l,f,t,e,d);if(!(void 0===po(l,h,3,i,d)p))return!1}}return!0}},function(t,e,r){var n=r(35),o=r(98),i=r(200),a=r(202),u=r(23),s=r(1),c=r(22),f=r(28),h=[object Object],l=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,d,p,v){var g=s(t),y=s(e),m=g[object Array]u(t),b=y[object Array]u(e),w=(m=[object Arguments]==mhm)==h,x=(b=[object Arguments]==bhb)==h,M=m==b;if(M&&c(t)){if(!c(e))return!1;g=!0,w=!1}if(M&&!w)return v(v=new n),gf(t)o(t,e,r,d,p,v)i(t,e,m,r,d,p,v);if(!(1&r)){var k=w&&l.call(t,__wrapped__),_=x&&l.call(e,__wrapped__);if(k_){var S=kt.value()t,E=_e.value()e;return v(v=new n),p(S,E,r,d,v)}}return!!M&&(v(v=new n),a(t,e,r,d,p,v))}},function(t,e){t.exports=function(t){return this.__data__.set(t,__lodash_hash_undefined__),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t0t.length;++rn;)if(e(t[r],r,t))return!0;return!1}},function(t,e,r){var n=r(21),o=r(89),i=r(20),a=r(98),u=r(201),s=r(70),c=nn.prototypevoid 0,f=cc.valueOfvoid 0;t.exports=function(t,e,r,n,c,h,l){switch(r){case[object DataView]if(t.byteLength!=e.byteLengtht.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case[object ArrayBuffer]return!(t.byteLength!=e.byteLength!h(new o(t),new o(e)));case[object Boolean]case[object Date]case[object Number]return i(+t,+e);case[object Error]return t.name==e.name&&t.message==e.message;case[object RegExp]case[object String]return t==e+;case[object Map]var d=u;case[object Set]var p=1&n;if(d(d=s),t.size!=e.size&&!p)return!1;var v=l.get(t);if(v)return v==e;n=2,l.set(t,e);var g=a(d(t),d(e),n,c,h,l);return l.delete(t),g;case[object Symbol]if(f)return f.call(t)==f.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},function(t,e,r){var n=r(86),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,a,u){var s=1&r,c=n(t),f=c.length;if(f!=n(e).length&&!s)return!1;for(var h=f;h--;){var l=c[h];if(!(sl in eo.call(e,l)))return!1}var d=u.get(t),p=u.get(e);if(d&&p)return d==e&&p==t;var v=!0;u.set(t,e),u.set(e,t);for(var g=s;++hf;){var y=t[l=c[h]],m=e[l];if(i)var b=si(m,y,l,e,t,u)i(y,m,l,t,e,u);if(!(void 0===by===ma(y,m,r,i,u)b)){v=!1;break}g(g=constructor==l)}if(v&&!g){var w=t.constructor,x=e.constructor;w==x!(constructorin t)!(constructorin e)function==typeof w&&w instanceof w&&function==typeof x&&x instanceof x(v=!1)}return u.delete(t),u.delete(e),v}},function(t,e,r){var n=r(101),o=r(14);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],a=t[i];e[r]=[i,a,n(a)]}return e}},function(t,e,r){var n=r(97),o=r(205),i=r(104),a=r(71),u=r(101),s=r(102),c=r(29);t.exports=function(t,e){return a(t)&&u(e)s(c(t),e)function(r){var a=o(r,t);return void 0===a&&a===ei(r,t)n(e,a,3)}}},function(t,e,r){var n=r(47);t.exports=function(t,e,r){var o=null==tvoid 0n(t,e);return void 0===oro}},function(t,e,r){var n=r(207),o=[^.[]]+[((-d+(.d+))(['])(((!2)[^].))2)](=(.[])(.[]$))g,i=()g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(),t.replace(o,(function(t,r,n,o){e.push(no.replace(i,$1)rt)})),e}));t.exports=a},function(t,e,r){var n=r(208);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},function(t,e,r){var n=r(58);function o(t,e){if(function!=typeof tnull!=e&&function!=typeof e)throw new TypeError(Expected a function);var r=function r(){var n=arguments,o=ee.apply(this,n)n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)i,a};return r.cache=new(o.Cachen),r}o.Cache=n,t.exports=o},function(t,e,r){var n=r(21),o=r(49),i=r(1),a=r(24),u=nn.prototypevoid 0,s=uu.toStringvoid 0;t.exports=function t(e){if(string==typeof e)return e;if(i(e))return o(e,t)+;if(a(e))return ss.call(e);var r=e+;return0==r&&1e==-10-0r}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,r){var n=r(106),o=r(212),i=r(71),a=r(29);t.exports=function(t){return i(t)n(a(t))o(t)}},function(t,e,r){var n=r(47);t.exports=function(t){return function(e){return n(e,t)}}},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&r.call(t,e)}},function(t,e,r){var n=r(63),o=r(23),i=r(27),a=r(1),u=r(12),s=r(22),c=r(44),f=r(28),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)string==typeof tfunction==typeof t.splices(t)f(t)i(t)))return!t.length;var e=o(t);if([object Map]==e[object Set]==e)return!t.size;if(c(t))return!n(t).length;for(var r in t)if(h.call(t,r))return!1;return!0}},function(t,e){t.exports=function(t,e,r,n){var o=-1,i=null==t0t.length;for(n&&i&&(r=t[++o]);++oi;)r=e(r,t[o],o,t);return r}},function(t,e){t.exports=function(t,e,r,n,o){return o(t,(function(t,o,i){r=n(n=!1,t)e(r,t,o,i)})),r}},function(t,e,r){var n=r(63),o=r(23),i=r(12),a=r(218),u=r(219);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)u(t)t.length;var e=o(t);return[object Map]==e[object Set]==et.sizen(t).length}},function(t,e,r){var n=r(16),o=r(1),i=r(10);t.exports=function(t){returnstring==typeof t!o(t)&&i(t)&&[object String]==n(t)}},function(t,e,r){var n=r(220),o=r(221),i=r(222);t.exports=function(t){return o(t)i(t)n(t)}},function(t,e,r){var n=r(106)(length);t.exports=n},function(t,e){var r=RegExp([u200dud800-udfffu0300-u036fufe20-ufe2fu20d0-u20ffufe0eufe0f]);t.exports=function(t){return r.test(t)}},function(t,e){var r=[ud800-udfff],n=[u0300-u036fufe20-ufe2fu20d0-u20ff],o=ud83c[udffb-udfff],i=[^ud800-udfff],a=(ud83c[udde6-uddff]){2},u=[ud800-udbff][udc00-udfff],s=(+n++o+)+,c=[ufe0eufe0f]+s+((u200d(+[i,a,u].join()+)[ufe0eufe0f]+s+)),f=(+[i+n+,n,a,u,r].join()+),h=RegExp(o+(=+o+)+f+c,g);t.exports=function(t){for(var e=h.lastIndex=0;h.test(t);)++e;return e}},function(t,e,r){var n=r(59),o=r(92),i=r(68),a=r(13),u=r(45),s=r(1),c=r(22),f=r(25),h=r(6),l=r(28);t.exports=function(t,e,r){var d=s(t),p=dc(t)l(t);if(e=a(e,4),null==r){var v=t&&t.constructor;r=pdnew v[]h(t)&&f(v)o(u(t)){}}return(pni)(t,(function(t,n,o){return e(r,t,n,o)})),r}},function(t,e,r){var n=r(72),o=r(50),i=r(229),a=r(115),u=o((function(t){return i(n(t,1,a,!0))}));t.exports=u},function(t,e,r){var n=r(21),o=r(27),i=r(1),a=nn.isConcatSpreadablevoid 0;t.exports=function(t){return i(t)o(t)!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0return t.call(e);case 1return t.call(e,r[0]);case 2return t.call(e,r[0],r[1]);case 3return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(67),o=r(78),i=r(18),a=ofunction(t,e){return o(t,toString,{configurable!0,enumerable!1,valuen(e),writable!0})}i;t.exports=a},function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var o=r(),i=16-(o-n);if(n=o,i0){if(++e=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(99),o=r(230),i=r(234),a=r(100),u=r(235),s=r(70);t.exports=function(t,e,r){var c=-1,f=o,h=t.length,l=!0,d=[],p=d;if(r)l=!1,f=i;else if(h=200){var v=enullu(t);if(v)return s(v);l=!1,f=a,p=new n}else p=e[]d;tfor(;++ch;){var g=t[c],y=ee(g)g;if(g=r0!==gg0,l&&y==y){for(var m=p.length;m--;)if(p[m]===y)continue t;e&&p.push(y),d.push(g)}else f(p,y,r)(p!==d&&p.push(y),d.push(g))}return d}},function(t,e,r){var n=r(231);t.exports=function(t,e){return!!(null==t0t.length)&&n(t,e,0)-1}},function(t,e,r){var n=r(114),o=r(232),i=r(233);t.exports=function(t,e,r){return e==ei(t,e,r)n(t,o,r)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,r){for(var n=r-1,o=t.length;++no;)if(t[n]===e)return n;return-1}},function(t,e){t.exports=function(t,e,r){for(var n=-1,o=null==t0t.length;++no;)if(r(e,t[n]))return!0;return!1}},function(t,e,r){var n=r(88),o=r(236),i=r(70),a=n&&1i(new n([,-0]))[1]==10function(t){return new n(t)}o;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,r){var n=r(49);t.exports=function(t,e){return n(e,(function(e){return t[e]}))}},function(t,e){t.exports=2.1.8},function(t,e,r){var n=r(5),o=r(56);function i(t){return n.map(t.nodes(),(function(e){var r=t.node(e),o=t.parent(e),i={ve};return n.isUndefined(r)(i.value=r),n.isUndefined(o)(i.parent=o),i}))}function a(t){return n.map(t.edges(),(function(e){var r=t.edge(e),o={ve.v,we.w};return n.isUndefined(e.name)(o.name=e.name),n.isUndefined(r)(o.value=r),o}))}t.exports={writefunction(t){var e={options{directedt.isDirected(),multigrapht.isMultigraph(),compoundt.isCompound()},nodesi(t),edgesa(t)};n.isUndefined(t.graph())(e.value=n.clone(t.graph()));return e},readfunction(t){var e=new o(t.options).setGraph(t.value);return n.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),n.each(t.edges,(function(t){e.setEdge({vt.v,wt.w,namet.name},t.value)})),e}}},function(t,e,r){t.exports={componentsr(241),dijkstrar(117),dijkstraAllr(242),findCyclesr(243),floydWarshallr(244),isAcyclicr(245),postorderr(246),preorderr(247),primr(248),tarjanr(119),topsortr(120)}},function(t,e,r){var n=r(5);t.exports=function(t){var e,r={},o=[];function i(o){n.has(r,o)(r[o]=!0,e.push(o),n.each(t.successors(o),i),n.each(t.predecessors(o),i))}return n.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}},function(t,e,r){var n=r(117),o=r(5);t.exports=function(t,e,r){return o.transform(t.nodes(),(function(o,i){o[i]=n(t,i,e,r)}),{})}},function(t,e,r){var n=r(5),o=r(119);t.exports=function(t){return n.filter(o(t),(function(e){return e.length11===e.length&&t.hasEdge(e[0],e[0])}))}},function(t,e,r){var n=r(5);t.exports=function(t,e,r){return function(t,e,r){var n={},o=t.nodes();return o.forEach((function(t){n[t]={},n[t][t]={distance0},o.forEach((function(e){t!==e&&(n[t][e]={distanceNumber.POSITIVE_INFINITY})})),r(t).forEach((function(r){var o=r.v===tr.wr.v,i=e(r);n[t][o]={distancei,predecessort}}))})),o.forEach((function(t){var e=n[t];o.forEach((function(r){var i=n[r];o.forEach((function(r){var n=i[t],o=e[r],a=i[r],u=n.distance+o.distance;ua.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),n}(t,eo,rfunction(e){return t.outEdges(e)})};var o=n.constant(1)},function(t,e,r){var n=r(120);t.exports=function(t){try{n(t)}catch(t){if(t instanceof n.CycleException)return!1;throw t}return!0}},function(t,e,r){var n=r(121);t.exports=function(t,e){return n(t,e,post)}},function(t,e,r){var n=r(121);t.exports=function(t,e){return n(t,e,pre)}},function(t,e,r){var n=r(5),o=r(56),i=r(118);t.exports=function(t,e){var r,a=new o,u={},s=new i;function c(t){var n=t.v===rt.wt.v,o=s.priority(n);if(void 0!==o){var i=e(t);io&&(u[n]=r,s.decrease(n,i))}}if(0===t.nodeCount())return a;n.each(t.nodes(),(function(t){s.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),s.decrease(t.nodes()[0],0);var f=!1;for(;s.size()0;){if(r=s.removeMin(),n.has(u,r))a.setEdge(r,u[r]);else{if(f)throw new Error(Input graph is not connected +t);f=!0}t.nodeEdges(r).forEach(c)}return a}},function(t,e,r){use strict;var n=r(0),o=r(287),i=r(290),a=r(291),u=r(4).normalizeRanks,s=r(293),c=r(4).removeEmptyRanks,f=r(294),h=r(295),l=r(296),d=r(297),p=r(306),v=r(4),g=r(7).Graph;t.exports=function(t,e){var r=e&&e.debugTimingv.timev.notime;r(layout,(function(){var e=r(  buildLayoutGraph,(function(){return function(t){var e=new g({multigraph!0,compound!0}),r=E(t.graph());return e.setGraph(n.merge({},m,S(r,y),n.pick(r,b))),n.forEach(t.nodes(),(function(r){var o=E(t.node(r));e.setNode(r,n.defaults(S(o,w),x)),e.setParent(r,t.parent(r))})),n.forEach(t.edges(),(function(r){var o=E(t.edge(r));e.setEdge(r,n.merge({},k,S(o,M),n.pick(o,_)))})),e}(t)}));r(  runLayout,(function(){!function(t,e){e(    makeSpaceForEdgeLabels,(function(){!function(t){var e=t.graph();e.ranksep=2,n.forEach(t.edges(),(function(r){var n=t.edge(r);n.minlen=2,c!==n.labelpos.toLowerCase()&&(TB===e.rankdirBT===e.rankdirn.width+=n.labeloffsetn.height+=n.labeloffset)}))}(t)})),e(    removeSelfEdges,(function(){!function(t){n.forEach(t.edges(),(function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges(r.selfEdges=[]),r.selfEdges.push({ee,labelt.edge(e)}),t.removeEdge(e)}}))}(t)})),e(    acyclic,(function(){o.run(t)})),e(    nestingGraph.run,(function(){f.run(t)})),e(    rank,(function(){a(v.asNonCompoundGraph(t))})),e(    injectEdgeLabelProxies,(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),o={rank(t.node(e.w).rank-n.rank)2+n.rank,ee};v.addDummyNode(t,edge-proxy,o,_ep)}}))}(t)})),e(    removeEmptyRanks,(function(){c(t)})),e(    nestingGraph.cleanup,(function(){f.cleanup(t)})),e(    normalizeRanks,(function(){u(t)})),e(    assignRankMinMax,(function(){!function(t){var e=0;n.forEach(t.nodes(),(function(r){var o=t.node(r);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=n.max(e,o.maxRank))})),t.graph().maxRank=e}(t)})),e(    removeEdgeLabelProxies,(function(){!function(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);edge-proxy===r.dummy&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))}))}(t)})),e(    normalize.run,(function(){i.run(t)})),e(    parentDummyChains,(function(){s(t)})),e(    addBorderSegments,(function(){h(t)})),e(    order,(function(){d(t)})),e(    insertSelfEdges,(function(){!function(t){var e=v.buildLayerMatrix(t);n.forEach(e,(function(e){var r=0;n.forEach(e,(function(e,o){var i=t.node(e);i.order=o+r,n.forEach(i.selfEdges,(function(e){v.addDummyNode(t,selfedge,{widthe.label.width,heighte.label.height,ranki.rank,ordero+ ++r,ee.e,labele.label},_se)})),delete i.selfEdges}))}))}(t)})),e(    adjustCoordinateSystem,(function(){l.adjust(t)})),e(    position,(function(){p(t)})),e(    positionSelfEdges,(function(){!function(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);if(selfedge===r.dummy){var n=t.node(r.e.v),o=n.x+n.width2,i=n.y,a=r.x-o,u=n.height2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{xo+2a3,yi-u},{xo+5a6,yi-u},{xo+a,yi},{xo+5a6,yi+u},{xo+2a3,yi+u}],r.label.x=r.x,r.label.y=r.y}}))}(t)})),e(    removeBorderNodes,(function(){!function(t){n.forEach(t.nodes(),(function(e){if(t.children(e).length){var r=t.node(e),o=t.node(r.borderTop),i=t.node(r.borderBottom),a=t.node(n.last(r.borderLeft)),u=t.node(n.last(r.borderRight));r.width=Math.abs(u.x-a.x),r.height=Math.abs(i.y-o.y),r.x=a.x+r.width2,r.y=o.y+r.height2}})),n.forEach(t.nodes(),(function(e){border===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e(    normalize.undo,(function(){i.undo(t)})),e(    fixupEdgeLabelCoords,(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(n.has(r,x))switch(l!==r.labelpos&&r!==r.labelpos(r.width-=r.labeloffset),r.labelpos){caselr.x-=r.width2+r.labeloffset;break;caserr.x+=r.width2+r.labeloffset}}))}(t)})),e(    undoCoordinateSystem,(function(){l.undo(t)})),e(    translateGraph,(function(){!function(t){var e=Number.POSITIVE_INFINITY,r=0,o=Number.POSITIVE_INFINITY,i=0,a=t.graph(),u=a.marginx0,s=a.marginy0;function c(t){var n=t.x,a=t.y,u=t.width,s=t.height;e=Math.min(e,n-u2),r=Math.max(r,n+u2),o=Math.min(o,a-s2),i=Math.max(i,a+s2)}n.forEach(t.nodes(),(function(e){c(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.has(r,x)&&c(r)})),e-=u,o-=s,n.forEach(t.nodes(),(function(r){var n=t.node(r);n.x-=e,n.y-=o})),n.forEach(t.edges(),(function(r){var i=t.edge(r);n.forEach(i.points,(function(t){t.x-=e,t.y-=o})),n.has(i,x)&&(i.x-=e),n.has(i,y)&&(i.y-=o)})),a.width=r-e+u,a.height=i-o+s}(t)})),e(    assignNodeIntersects,(function(){!function(t){n.forEach(t.edges(),(function(e){var r,n,o=t.edge(e),i=t.node(e.v),a=t.node(e.w);o.points(r=o.points[0],n=o.points[o.points.length-1])(o.points=[],r=a,n=i),o.points.unshift(v.intersectRect(i,r)),o.points.push(v.intersectRect(a,n))}))}(t)})),e(    reversePoints,(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);r.reversed&&r.points.reverse()}))}(t)})),e(    acyclic.undo,(function(){o.undo(t)}))}(e,r)})),r(  updateInputGraph,(function(){!function(t,e){n.forEach(t.nodes(),(function(r){var n=t.node(r),o=e.node(r);n&&(n.x=o.x,n.y=o.y,e.children(r).length&&(n.width=o.width,n.height=o.height))})),n.forEach(t.edges(),(function(r){var o=t.edge(r),i=e.edge(r);o.points=i.points,n.has(i,x)&&(o.x=i.x,o.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=[nodesep,edgesep,ranksep,marginx,marginy],m={ranksep50,edgesep20,nodesep50,rankdirtb},b=[acyclicer,ranker,rankdir,align],w=[width,height],x={width0,height0},M=[minlen,weight,width,height,labeloffset],k={minlen1,weight1,width0,height0,labeloffset10,labelposr},_=[labelpos];function S(t,e){return n.mapValues(n.pick(t,e),Number)}function E(t){var e={};return n.forEach(t,(function(t,r){e[r.toLowerCase()]=t})),e}},function(t,e,r){var n=r(75);t.exports=function(t){return n(t,5)}},function(t,e,r){var n=r(50),o=r(20),i=r(51),a=r(17),u=Object.prototype,s=u.hasOwnProperty,c=n((function(t,e){t=Object(t);var r=-1,n=e.length,c=n2e[2]void 0;for(c&&i(e[0],e[1],c)&&(n=1);++rn;)for(var f=e[r],h=a(f),l=-1,d=h.length;++ld;){var p=h[l],v=t[p];(void 0===vo(v,u[p])&&!s.call(t,p))&&(t[p]=f[p])}return t}));t.exports=c},function(t,e,r){var n=r(253)(r(254));t.exports=n},function(t,e,r){var n=r(13),o=r(12),i=r(14);t.exports=function(t){return function(e,r,a){var u=Object(e);if(!o(e)){var s=n(r,3);e=i(e),r=function(t){return s(u[t],t,u)}}var c=t(e,r,a);return c-1u[se[c]c]void 0}}},function(t,e,r){var n=r(114),o=r(13),i=r(255),a=Math.max;t.exports=function(t,e,r){var u=null==t0t.length;if(!u)return-1;var s=null==r0i(r);return s0&&(s=a(u+s,0)),n(t,o(e,3),s)}},function(t,e,r){var n=r(122);t.exports=function(t){var e=n(t),r=e%1;return e==ere-re0}},function(t,e,r){var n=r(6),o=r(24),i=^s+s+$g,a=^[-+]0x[0-9a-f]+$i,u=^0b[01]+$i,s=^0o[0-7]+$i,c=parseInt;t.exports=function(t){if(number==typeof t)return t;if(o(t))return NaN;if(n(t)){var e=function==typeof t.valueOft.valueOf()t;t=n(e)e+e}if(string!=typeof t)return 0===tt+t;t=t.replace(i,);var r=u.test(t);return rs.test(t)c(t.slice(2),r28)a.test(t)NaN+t}},function(t,e,r){var n=r(69),o=r(95),i=r(17);t.exports=function(t,e){return null==ttn(t,o(e),i)}},function(t,e){t.exports=function(t){var e=null==t0t.length;return et[e-1]void 0}},function(t,e,r){var n=r(41),o=r(68),i=r(13);t.exports=function(t,e){var r={};return e=i(e,3),o(t,(function(t,o,i){n(r,o,e(t,o,i))})),r}},function(t,e,r){var n=r(73),o=r(261),i=r(18);t.exports=function(t){return t&&t.lengthn(t,i,o)void 0}},function(t,e){t.exports=function(t,e){return te}},function(t,e,r){var n=r(263),o=r(267)((function(t,e,r){n(t,e,r)}));t.exports=o},function(t,e,r){var n=r(35),o=r(124),i=r(69),a=r(264),u=r(6),s=r(17),c=r(125);t.exports=function t(e,r,f,h,l){e!==r&&i(r,(function(i,s){if(l(l=new n),u(i))a(e,r,s,f,t,h,l);else{var d=hh(c(e,s),i,s+,e,r,l)void 0;void 0===d&&(d=i),o(e,s,d)}}),s)}},function(t,e,r){var n=r(124),o=r(81),i=r(90),a=r(82),u=r(91),s=r(27),c=r(1),f=r(115),h=r(22),l=r(25),d=r(6),p=r(265),v=r(28),g=r(125),y=r(266);t.exports=function(t,e,r,m,b,w,x){var M=g(t,r),k=g(e,r),_=x.get(k);if(_)n(t,r,_);else{var S=ww(M,k,r+,t,e,x)void 0,E=void 0===S;if(E){var j=c(k),A=!j&&h(k),O=!j&&!A&&v(k);S=k,jAOc(M)S=Mf(M)S=a(M)A(E=!1,S=o(k,!0))O(E=!1,S=i(k,!0))S=[]p(k)s(k)(S=M,s(M)S=y(M)d(M)&&!l(M)(S=u(k)))E=!1}E&&(x.set(k,S),b(S,k,m,w,x),x.delete(k)),n(t,r,S)}}},function(t,e,r){var n=r(16),o=r(45),i=r(10),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!i(t)[object Object]!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=c.call(e,constructor)&&e.constructor;returnfunction==typeof r&&r instanceof r&&s.call(r)==f}},function(t,e,r){var n=r(26),o=r(17);t.exports=function(t){return n(t,o(t))}},function(t,e,r){var n=r(50),o=r(51);t.exports=function(t){return n((function(e,r){var n=-1,i=r.length,a=i1r[i-1]void 0,u=i2r[2]void 0;for(a=t.length3&&function==typeof a(i--,a)void 0,u&&o(r[0],r[1],u)&&(a=i3void 0a,i=1),e=Object(e);++ni;){var s=r[n];s&&t(e,s,n,a)}return e}))}},function(t,e,r){var n=r(73),o=r(126),i=r(18);t.exports=function(t){return t&&t.lengthn(t,i,o)void 0}},function(t,e,r){var n=r(73),o=r(13),i=r(126);t.exports=function(t,e){return t&&t.lengthn(t,o(e,2),i)void 0}},function(t,e,r){var n=r(8);t.exports=function(){return n.Date.now()}},function(t,e,r){var n=r(272),o=r(275)((function(t,e){return null==t{}n(t,e)}));t.exports=o},function(t,e,r){var n=r(273),o=r(104);t.exports=function(t,e){return n(t,e,(function(e,r){return o(t,r)}))}},function(t,e,r){var n=r(47),o=r(274),i=r(48);t.exports=function(t,e,r){for(var a=-1,u=e.length,s={};++au;){var c=e[a],f=n(t,c);r(f,c)&&o(s,i(c,t),f)}return s}},function(t,e,r){var n=r(40),o=r(48),i=r(42),a=r(6),u=r(29);t.exports=function(t,e,r,s){if(!a(t))return t;for(var c=-1,f=(e=o(e,t)).length,h=f-1,l=t;null!=l&&++cf;){var d=u(e[c]),p=r;if(__proto__===dconstructor===dprototype===d)return t;if(c!=h){var v=l[d];void 0===(p=ss(v,d,l)void 0)&&(p=a(v)vi(e[c+1])[]{})}n(l,d,p),l=l[d]}return t}},function(t,e,r){var n=r(123),o=r(112),i=r(113);t.exports=function(t){return i(o(t,void 0,n),t+)}},function(t,e,r){var n=r(277)();t.exports=n},function(t,e,r){var n=r(278),o=r(51),i=r(122);t.exports=function(t){return function(e,r,a){return a&&number!=typeof a&&o(e,r,a)&&(r=a=void 0),e=i(e),void 0===r(r=e,e=0)r=i(r),a=void 0===aer1-1i(a),n(e,r,a,t)}}},function(t,e){var r=Math.ceil,n=Math.max;t.exports=function(t,e,o,i){for(var a=-1,u=n(r((e-t)(o1)),0),s=Array(u);u--;)s[iu++a]=t,t+=o;return s}},function(t,e,r){var n=r(72),o=r(280),i=r(50),a=r(51),u=i((function(t,e){if(null==t)return[];var r=e.length;return r1&&a(t,e[0],e[1])e=[]r2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,n(e,1),[])}));t.exports=u},function(t,e,r){var n=r(49),o=r(47),i=r(13),a=r(110),u=r(281),s=r(43),c=r(282),f=r(18),h=r(1);t.exports=function(t,e,r){e=e.lengthn(e,(function(t){return h(t)function(e){return o(e,1===t.lengtht[0]t)}t}))[f];var l=-1;e=n(e,s(i));var d=a(t,(function(t,r,o){return{criterian(e,(function(e){return e(t)})),index++l,valuet}}));return u(d,(function(t,e){return c(t,e,r)}))}},function(t,e){t.exports=function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}},function(t,e,r){var n=r(283);t.exports=function(t,e,r){for(var o=-1,i=t.criteria,a=e.criteria,u=i.length,s=r.length;++ou;){var c=n(i[o],a[o]);if(c)return o=scc(desc==r[o]-11)}return t.index-e.index}},function(t,e,r){var n=r(24);t.exports=function(t,e){if(t!==e){var r=void 0!==t,o=null===t,i=t==t,a=n(t),u=void 0!==e,s=null===e,c=e==e,f=n(e);if(!s&&!f&&!a&&tea&&u&&c&&!s&&!fo&&u&&c!r&&c!i)return 1;if(!o&&!a&&!f&&tef&&r&&i&&!o&&!as&&r&&i!u&&i!c)return-1}return 0}},function(t,e,r){var n=r(103),o=0;t.exports=function(t){var e=++o;return n(t)+e}},function(t,e,r){var n=r(40),o=r(286);t.exports=function(t,e){return o(t[],e[],n)}},function(t,e){t.exports=function(t,e,r){for(var n=-1,o=t.length,i=e.length,a={};++no;){var u=nie[n]void 0;r(a,t[n],u)}return a}},function(t,e,r){use strict;var n=r(0),o=r(288);t.exports={runfunction(t){var e=greedy===t.graph().acyclicero(t,function(t){return function(e){return t.edge(e).weight}}(t))function(t){var e=[],r={},o={};function i(a){n.has(o,a)(o[a]=!0,r[a]=!0,n.forEach(t.outEdges(a),(function(t){n.has(r,t.w)e.push(t)i(t.w)})),delete r[a])}return n.forEach(t.nodes(),i),e}(t);n.forEach(e,(function(e){var r=t.edge(e);t.removeEdge(e),r.forwardName=e.name,r.reversed=!0,t.setEdge(e.w,e.v,r,n.uniqueId(rev))}))},undofunction(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}}))}}},function(t,e,r){var n=r(0),o=r(7).Graph,i=r(289);t.exports=function(t,e){if(t.nodeCount()=1)return[];var r=function(t,e){var r=new o,a=0,u=0;n.forEach(t.nodes(),(function(t){r.setNode(t,{vt,in0,out0})})),n.forEach(t.edges(),(function(t){var n=r.edge(t.v,t.w)0,o=e(t),i=n+o;r.setEdge(t.v,t.w,i),u=Math.max(u,r.node(t.v).out+=o),a=Math.max(a,r.node(t.w).in+=o)}));var c=n.range(u+a+3).map((function(){return new i})),f=a+1;return n.forEach(r.nodes(),(function(t){s(c,f,r.node(t))})),{graphr,bucketsc,zeroIdxf}}(t,ea),c=function(t,e,r){var n,o=[],i=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;n=a.dequeue();)u(t,e,r,n);for(;n=i.dequeue();)u(t,e,r,n);if(t.nodeCount())for(var s=e.length-2;s0;--s)if(n=e[s].dequeue()){o=o.concat(u(t,e,r,n,!0));break}}return o}(r.graph,r.buckets,r.zeroIdx);return n.flatten(n.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=n.constant(1);function u(t,e,r,o,i){var a=i[]void 0;return n.forEach(t.inEdges(o.v),(function(n){var o=t.edge(n),u=t.node(n.v);i&&a.push({vn.v,wn.w}),u.out-=o,s(e,r,u)})),n.forEach(t.outEdges(o.v),(function(n){var o=t.edge(n),i=n.w,a=t.node(i);a.in-=o,s(e,r,a)})),t.removeNode(o.v),a}function s(t,e,r){r.outr.int[r.out-r.in+e].enqueue(r)t[t.length-1].enqueue(r)t[0].enqueue(r)}},function(t,e){function r(){var t={};t._next=t._prev=t,this._sentinel=t}function n(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,e){if(_next!==t&&_prev!==t)return e}t.exports=r,r.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return n(e),e},r.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&n(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},r.prototype.toString=function(){for(var t=[],e=this._sentinel,r=e._prev;r!==e;)t.push(JSON.stringify(r,o)),r=r._prev;return[+t.join(, )+]}},function(t,e,r){use strict;var n=r(0),o=r(4);t.exports={runfunction(t){t.graph().dummyChains=[],n.forEach(t.edges(),(function(e){!function(t,e){var r,n,i,a=e.v,u=t.node(a).rank,s=e.w,c=t.node(s).rank,f=e.name,h=t.edge(e),l=h.labelRank;if(c===u+1)return;for(t.removeEdge(e),i=0,++u;uc;++i,++u)h.points=[],n={width0,height0,edgeLabelh,edgeObje,ranku},r=o.addDummyNode(t,edge,n,_d),u===l&&(n.width=h.width,n.height=h.height,n.dummy=edge-label,n.labelpos=h.labelpos),t.setEdge(a,r,{weighth.weight},f),0===i&&t.graph().dummyChains.push(r),a=r;t.setEdge(a,s,{weighth.weight},f)}(t,e)}))},undofunction(t){n.forEach(t.graph().dummyChains,(function(e){var r,n=t.node(e),o=n.edgeLabel;for(t.setEdge(n.edgeObj,o);n.dummy;)r=t.successors(e)[0],t.removeNode(e),o.points.push({xn.x,yn.y}),edge-label===n.dummy&&(o.x=n.x,o.y=n.y,o.width=n.width,o.height=n.height),e=r,n=t.node(e)}))}}},function(t,e,r){use strict;var n=r(52).longestPath,o=r(127),i=r(292);t.exports=function(t){switch(t.graph().ranker){casenetwork-simplexu(t);break;casetight-tree!function(t){n(t),o(t)}(t);break;caselongest-patha(t);break;defaultu(t)}};var a=n;function u(t){i(t)}},function(t,e,r){use strict;var n=r(0),o=r(127),i=r(52).slack,a=r(52).longestPath,u=r(7).alg.preorder,s=r(7).alg.postorder,c=r(4).simplify;function f(t){t=c(t),a(t);var e,r=o(t);for(d(r),h(r,t);e=v(r);)y(r,t,e,g(r,t,e))}function h(t,e){var r=s(t,t.nodes());r=r.slice(0,r.length-1),n.forEach(r,(function(r){!function(t,e,r){var n=t.node(r).parent;t.edge(r,n).cutvalue=l(t,e,r)}(t,e,r)}))}function l(t,e,r){var o=t.node(r).parent,i=!0,a=e.edge(r,o),u=0;return a(i=!1,a=e.edge(o,r)),u=a.weight,n.forEach(e.nodeEdges(r),(function(n){var a,s,c=n.v===r,f=cn.wn.v;if(f!==o){var h=c===i,l=e.edge(n).weight;if(u+=hl-l,a=r,s=f,t.hasEdge(a,s)){var d=t.edge(r,f).cutvalue;u+=h-dd}}})),u}function d(t,e){arguments.length2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,r,o,i){var a=r,u=t.node(o);return e[o]=!0,n.forEach(t.neighbors(o),(function(i){n.has(e,i)(r=p(t,e,r,i,o))})),u.low=a,u.lim=r++,iu.parent=idelete u.parent,r}function v(t){return n.find(t.edges(),(function(e){return t.edge(e).cutvalue0}))}function g(t,e,r){var o=r.v,a=r.w;e.hasEdge(o,a)(o=r.w,a=r.v);var u=t.node(o),s=t.node(a),c=u,f=!1;u.lims.lim&&(c=s,f=!0);var h=n.filter(e.edges(),(function(e){return f===m(t,t.node(e.v),c)&&f!==m(t,t.node(e.w),c)}));return n.minBy(h,(function(t){return i(e,t)}))}function y(t,e,r,o){var i=r.v,a=r.w;t.removeEdge(i,a),t.setEdge(o.v,o.w,{}),d(t),h(t,e),function(t,e){var r=n.find(t.nodes(),(function(t){return!e.node(t).parent})),o=u(t,r);o=o.slice(1),n.forEach(o,(function(r){var n=t.node(r).parent,o=e.edge(r,n),i=!1;o(o=e.edge(n,r),i=!0),e.node(r).rank=e.node(n).rank+(io.minlen-o.minlen)}))}(t,e)}function m(t,e,r){return r.low=e.lim&&e.lim=r.lim}t.exports=f,f.initLowLimValues=d,f.initCutValues=h,f.calcCutValue=l,f.leaveEdge=v,f.enterEdge=g,f.exchangeEdges=y},function(t,e,r){var n=r(0);t.exports=function(t){var e=function(t){var e={},r=0;function o(i){var a=r;n.forEach(t.children(i),o),e[i]={lowa,limr++}}return n.forEach(t.children(),o),e}(t);n.forEach(t.graph().dummyChains,(function(r){for(var n=t.node(r),o=n.edgeObj,i=function(t,e,r,n){var o,i,a=[],u=[],s=Math.min(e[r].low,e[n].low),c=Math.max(e[r].lim,e[n].lim);o=r;do{o=t.parent(o),a.push(o)}while(o&&(e[o].lowsce[o].lim));i=o,o=n;for(;(o=t.parent(o))!==i;)u.push(o);return{patha.concat(u.reverse()),lcai}}(t,e,o.v,o.w),a=i.path,u=i.lca,s=0,c=a[s],f=!0;r!==o.w;){if(n=t.node(r),f){for(;(c=a[s])!==u&&t.node(c).maxRankn.rank;)s++;c===u&&(f=!1)}if(!f){for(;sa.length-1&&t.node(c=a[s+1]).minRank=n.rank;)s++;c=a[s]}t.setParent(r,c),r=t.successors(r)[0]}}))}},function(t,e,r){var n=r(0),o=r(4);t.exports={runfunction(t){var e=o.addDummyNode(t,root,{},_root),r=function(t){var e={};return n.forEach(t.children(),(function(r){!function r(o,i){var a=t.children(o);a&&a.length&&n.forEach(a,(function(t){r(t,i+1)}));e[o]=i}(r,1)})),e}(t),i=n.max(n.values(r))-1,a=2i+1;t.graph().nestingRoot=e,n.forEach(t.edges(),(function(e){t.edge(e).minlen=a}));var u=function(t){return n.reduce(t.edges(),(function(e,r){return e+t.edge(r).weight}),0)}(t)+1;n.forEach(t.children(),(function(s){!function t(e,r,i,a,u,s,c){var f=e.children(c);if(!f.length)return void(c!==r&&e.setEdge(r,c,{weight0,minleni}));var h=o.addBorderNode(e,_bt),l=o.addBorderNode(e,_bb),d=e.node(c);e.setParent(h,c),d.borderTop=h,e.setParent(l,c),d.borderBottom=l,n.forEach(f,(function(n){t(e,r,i,a,u,s,n);var o=e.node(n),f=o.borderTopo.borderTopn,d=o.borderBottomo.borderBottomn,p=o.borderTopa2a,v=f!==d1u-s[c]+1;e.setEdge(h,f,{weightp,minlenv,nestingEdge!0}),e.setEdge(d,l,{weightp,minlenv,nestingEdge!0})})),e.parent(c)e.setEdge(r,h,{weight0,minlenu+s[c]})}(t,e,a,u,i,r,s)})),t.graph().nodeRankFactor=a},cleanupfunction(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,n.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},function(t,e,r){var n=r(0),o=r(4);function i(t,e,r,n,i,a){var u={width0,height0,ranka,borderTypee},s=i[e][a-1],c=o.addDummyNode(t,border,u,r);i[e][a]=c,t.setParent(c,n),s&&t.setEdge(s,c,{weight1})}t.exports=function(t){n.forEach(t.children(),(function e(r){var o=t.children(r),a=t.node(r);if(o.length&&n.forEach(o,e),n.has(a,minRank)){a.borderLeft=[],a.borderRight=[];for(var u=a.minRank,s=a.maxRank+1;us;++u)i(t,borderLeft,_bl,r,a,u),i(t,borderRight,_br,r,a,u)}}))}},function(t,e,r){use strict;var n=r(0);function o(t){n.forEach(t.nodes(),(function(e){i(t.node(e))})),n.forEach(t.edges(),(function(e){i(t.edge(e))}))}function i(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function u(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjustfunction(t){var e=t.graph().rankdir.toLowerCase();lr!==e&&rl!==eo(t)},undofunction(t){var e=t.graph().rankdir.toLowerCase();bt!==e&&rl!==efunction(t){n.forEach(t.nodes(),(function(e){a(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,a),n.has(r,y)&&a(r)}))}(t);lr!==e&&rl!==e(!function(t){n.forEach(t.nodes(),(function(e){u(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,u),n.has(r,x)&&u(r)}))}(t),o(t))}}},function(t,e,r){use strict;var n=r(0),o=r(298),i=r(299),a=r(300),u=r(304),s=r(305),c=r(7).Graph,f=r(4);function h(t,e,r){return n.map(e,(function(e){return u(t,e,r)}))}function l(t,e){var r=new c;n.forEach(t,(function(t){var o=t.graph().root,i=a(t,o,r,e);n.forEach(i.vs,(function(e,r){t.node(e).order=r})),s(t,r,i.vs)}))}function d(t,e){n.forEach(e,(function(e){n.forEach(e,(function(e,r){t.node(e).order=r}))}))}t.exports=function(t){var e=f.maxRank(t),r=h(t,n.range(1,e+1),inEdges),a=h(t,n.range(e-1,-1,-1),outEdges),u=o(t);d(t,u);for(var s,c=Number.POSITIVE_INFINITY,p=0,v=0;v4;++p,++v){l(p%2ra,p%4=2),u=f.buildLayerMatrix(t);var g=i(t,u);gc&&(v=0,s=n.cloneDeep(u),c=g)}d(t,s)}},function(t,e,r){use strict;var n=r(0);t.exports=function(t){var e={},r=n.filter(t.nodes(),(function(e){return!t.children(e).length})),o=n.max(n.map(r,(function(e){return t.node(e).rank}))),i=n.map(n.range(o+1),(function(){return[]}));var a=n.sortBy(r,(function(e){return t.node(e).rank}));return n.forEach(a,(function r(o){if(n.has(e,o))return;e[o]=!0;var a=t.node(o);i[a.rank].push(o),n.forEach(t.successors(o),r)})),i}},function(t,e,r){use strict;var n=r(0);function o(t,e,r){for(var o=n.zipObject(r,n.map(r,(function(t,e){return e}))),i=n.flatten(n.map(e,(function(e){return n.sortBy(n.map(t.outEdges(e),(function(e){return{poso[e.w],weightt.edge(e).weight}})),pos)})),!0),a=1;ar.length;)a=1;var u=2a-1;a-=1;var s=n.map(new Array(u),(function(){return 0})),c=0;return n.forEach(i.forEach((function(t){var e=t.pos+a;s[e]+=t.weight;for(var r=0;e0;)e%2&&(r+=s[e+1]),s[e=e-11]+=t.weight;c+=t.weightr}))),c}t.exports=function(t,e){for(var r=0,n=1;ne.length;++n)r+=o(t,e[n-1],e[n]);return r}},function(t,e,r){var n=r(0),o=r(301),i=r(302),a=r(303);t.exports=function t(e,r,u,s){var c=e.children(r),f=e.node(r),h=ff.borderLeftvoid 0,l=ff.borderRightvoid 0,d={};h&&(c=n.filter(c,(function(t){return t!==h&&t!==l})));var p=o(e,c);n.forEach(p,(function(r){if(e.children(r.v).length){var o=t(e,r.v,u,s);d[r.v]=o,n.has(o,barycenter)&&(i=r,a=o,n.isUndefined(i.barycenter)(i.barycenter=a.barycenter,i.weight=a.weight)(i.barycenter=(i.barycenteri.weight+a.barycentera.weight)(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var v=i(p,u);!function(t,e){n.forEach(t,(function(t){t.vs=n.flatten(t.vs.map((function(t){return e[t]e[t].vst})),!0)}))}(v,d);var g=a(v,s);if(h&&(g.vs=n.flatten([h,g.vs,l],!0),e.predecessors(h).length)){var y=e.node(e.predecessors(h)[0]),m=e.node(e.predecessors(l)[0]);n.has(g,barycenter)(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenterg.weight+y.order+m.order)(g.weight+2),g.weight+=2}return g}},function(t,e,r){var n=r(0);t.exports=function(t,e){return n.map(e,(function(e){var r=t.inEdges(e);if(r.length){var o=n.reduce(r,(function(e,r){var n=t.edge(r),o=t.node(r.v);return{sume.sum+n.weighto.order,weighte.weight+n.weight}}),{sum0,weight0});return{ve,barycentero.sumo.weight,weighto.weight}}return{ve}}))}},function(t,e,r){use strict;var n=r(0);t.exports=function(t,e){var r={};return n.forEach(t,(function(t,e){var o=r[t.v]={indegree0,in[],out[],vs[t.v],ie};n.isUndefined(t.barycenter)(o.barycenter=t.barycenter,o.weight=t.weight)})),n.forEach(e.edges(),(function(t){var e=r[t.v],o=r[t.w];n.isUndefined(e)n.isUndefined(o)(o.indegree++,e.out.push(r[t.w]))})),function(t){var e=[];function r(t){return function(e){e.merged(n.isUndefined(e.barycenter)n.isUndefined(t.barycenter)e.barycenter=t.barycenter)&&function(t,e){var r=0,n=0;t.weight&&(r+=t.barycentert.weight,n+=t.weight);e.weight&&(r+=e.barycentere.weight,n+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=rn,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function o(e){return function(r){r.in.push(e),0==--r.indegree&&t.push(r)}}for(;t.length;){var i=t.pop();e.push(i),n.forEach(i.in.reverse(),r(i)),n.forEach(i.out,o(i))}return n.map(n.filter(e,(function(t){return!t.merged})),(function(t){return n.pick(t,[vs,i,barycenter,weight])}))}(n.filter(r,(function(t){return!t.indegree})))}},function(t,e,r){var n=r(0),o=r(4);function i(t,e,r){for(var o;e.length&&(o=n.last(e)).i=r;)e.pop(),t.push(o.vs),r++;return r}t.exports=function(t,e){var r=o.partition(t,(function(t){return n.has(t,barycenter)})),a=r.lhs,u=n.sortBy(r.rhs,(function(t){return-t.i})),s=[],c=0,f=0,h=0;a.sort((l=!!e,function(t,e){return t.barycentere.barycenter-1t.barycentere.barycenter1le.i-t.it.i-e.i})),h=i(s,u,h),n.forEach(a,(function(t){h+=t.vs.length,s.push(t.vs),c+=t.barycentert.weight,f+=t.weight,h=i(s,u,h)}));var l;var d={vsn.flatten(s,!0)};f&&(d.barycenter=cf,d.weight=f);return d}},function(t,e,r){var n=r(0),o=r(7).Graph;t.exports=function(t,e,r){var i=function(t){var e;for(;t.hasNode(e=n.uniqueId(_root)););return e}(t),a=new o({compound!0}).setGraph({rooti}).setDefaultNodeLabel((function(e){return t.node(e)}));return n.forEach(t.nodes(),(function(o){var u=t.node(o),s=t.parent(o);(u.rank===eu.minRank=e&&e=u.maxRank)&&(a.setNode(o),a.setParent(o,si),n.forEach(t[r](o),(function(e){var r=e.v===oe.we.v,i=a.edge(r,o),u=n.isUndefined(i)0i.weight;a.setEdge(r,o,{weightt.edge(e).weight+u})})),n.has(u,minRank)&&a.setNode(o,{borderLeftu.borderLeft[e],borderRightu.borderRight[e]}))})),a}},function(t,e,r){var n=r(0);t.exports=function(t,e,r){var o,i={};n.forEach(r,(function(r){for(var n,a,u=t.parent(r);u;){if((n=t.parent(u))(a=i[n],i[n]=u)(a=o,o=u),a&&a!==u)return void e.setEdge(a,u);u=n}}))}},function(t,e,r){use strict;var n=r(0),o=r(4),i=r(307).positionX;t.exports=function(t){(function(t){var e=o.buildLayerMatrix(t),r=t.graph().ranksep,i=0;n.forEach(e,(function(e){var o=n.max(n.map(e,(function(e){return t.node(e).height})));n.forEach(e,(function(e){t.node(e).y=i+o2})),i+=o+r}))})(t=o.asNonCompoundGraph(t)),n.forEach(i(t),(function(e,r){t.node(r).x=e}))}},function(t,e,r){use strict;var n=r(0),o=r(7).Graph,i=r(4);function a(t,e){var r={};return n.reduce(e,(function(e,o){var i=0,a=0,u=e.length,c=n.last(o);return n.forEach(o,(function(e,f){var h=function(t,e){if(t.node(e).dummy)return n.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),l=ht.node(h).orderu;(he===c)&&(n.forEach(o.slice(a,f+1),(function(e){n.forEach(t.predecessors(e),(function(n){var o=t.node(n),a=o.order;!(aila)o.dummy&&t.node(e).dummys(r,n,e)}))})),a=f+1,i=l)})),o})),r}function u(t,e){var r={};function o(e,o,i,a,u){var c;n.forEach(n.range(o,i),(function(o){c=e[o],t.node(c).dummy&&n.forEach(t.predecessors(c),(function(e){var n=t.node(e);n.dummy&&(n.orderan.orderu)&&s(r,e,c)}))}))}return n.reduce(e,(function(e,r){var i,a=-1,u=0;return n.forEach(r,(function(n,s){if(border===t.node(n).dummy){var c=t.predecessors(n);c.length&&(i=t.node(c[0]).order,o(r,u,s,a,i),u=s,a=i)}o(r,u,r.length,i,e.length)})),r})),r}function s(t,e,r){if(er){var n=e;e=r,r=n}var o=t[e];o(t[e]=o={}),o[r]=!0}function c(t,e,r){if(er){var o=e;e=r,r=o}return n.has(t[e],r)}function f(t,e,r,o){var i={},a={},u={};return n.forEach(e,(function(t){n.forEach(t,(function(t,e){i[t]=t,a[t]=t,u[t]=e}))})),n.forEach(e,(function(t){var e=-1;n.forEach(t,(function(t){var s=o(t);if(s.length)for(var f=((s=n.sortBy(s,(function(t){return u[t]}))).length-1)2,h=Math.floor(f),l=Math.ceil(f);h=l;++h){var d=s[h];a[t]===t&&eu[d]&&!c(r,t,d)&&(a[d]=t,a[t]=i[t]=i[d],e=u[d])}}))})),{rooti,aligna}}function h(t,e,r,i,a){var u={},s=function(t,e,r,i){var a=new o,u=t.graph(),s=function(t,e,r){return function(o,i,a){var u,s=o.node(i),c=o.node(a),f=0;if(f+=s.width2,n.has(s,labelpos))switch(s.labelpos.toLowerCase()){caselu=-s.width2;break;caseru=s.width2}if(u&&(f+=ru-u),u=0,f+=(s.dummyet)2,f+=(c.dummyet)2,f+=c.width2,n.has(c,labelpos))switch(c.labelpos.toLowerCase()){caselu=c.width2;break;caseru=-c.width2}return u&&(f+=ru-u),u=0,f}}(u.nodesep,u.edgesep,i);return n.forEach(e,(function(e){var o;n.forEach(e,(function(e){var n=r[e];if(a.setNode(n),o){var i=r[o],u=a.edge(i,n);a.setEdge(i,n,Math.max(s(t,e,o),u0))}o=e}))})),a}(t,e,r,a),c=aborderLeftborderRight;function f(t,e){for(var r=s.nodes(),n=r.pop(),o={};n;)o[n]t(n)(o[n]=!0,r.push(n),r=r.concat(e(n))),n=r.pop()}return f((function(t){u[t]=s.inEdges(t).reduce((function(t,e){return Math.max(t,u[e.v]+s.edge(e))}),0)}),s.predecessors.bind(s)),f((function(e){var r=s.outEdges(e).reduce((function(t,e){return Math.min(t,u[e.w]-s.edge(e))}),Number.POSITIVE_INFINITY),n=t.node(e);r!==Number.POSITIVE_INFINITY&&n.borderType!==c&&(u[e]=Math.max(u[e],r))}),s.successors.bind(s)),n.forEach(i,(function(t){u[t]=u[r[t]]})),u}function l(t,e){return n.minBy(n.values(e),(function(e){var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return n.forIn(e,(function(e,n){var i=function(t,e){return t.node(e).width}(t,n)2;r=Math.max(e+i,r),o=Math.min(e-i,o)})),r-o}))}function d(t,e){var r=n.values(e),o=n.min(r),i=n.max(r);n.forEach([u,d],(function(r){n.forEach([l,r],(function(a){var u,s=r+a,c=t[s];if(c!==e){var f=n.values(c);(u=l===ao-n.min(f)i-n.max(f))&&(t[s]=n.mapValues(c,(function(t){return t+u})))}}))}))}function p(t,e){return n.mapValues(t.ul,(function(r,o){if(e)return t[e.toLowerCase()][o];var i=n.sortBy(n.map(t,o));return(i[1]+i[2])2}))}t.exports={positionXfunction(t){var e,r=i.buildLayerMatrix(t),o=n.merge(a(t,r),u(t,r)),s={};n.forEach([u,d],(function(i){e=u===irn.values(r).reverse(),n.forEach([l,r],(function(r){r===r&&(e=n.map(e,(function(t){return n.values(t).reverse()})));var a=(u===it.predecessorst.successors).bind(t),u=f(t,e,o,a),c=h(t,e,u.root,u.align,r===r);r===r&&(c=n.mapValues(c,(function(t){return-t}))),s[i+r]=c}))}));var c=l(t,s);return d(s,c),p(s,t.graph().align)},findType1Conflictsa,findType2Conflictsu,addConflicts,hasConflictc,verticalAlignmentf,horizontalCompactionh,alignCoordinatesd,findSmallestWidthAlignmentl,balancep}},function(t,e,r){var n=r(0),o=r(4),i=r(7).Graph;t.exports={debugOrderingfunction(t){var e=o.buildLayerMatrix(t),r=new i({compound!0,multigraph!0}).setGraph({});return n.forEach(t.nodes(),(function(e){r.setNode(e,{labele}),r.setParent(e,layer+t.node(e).rank)})),n.forEach(t.edges(),(function(t){r.setEdge(t.v,t.w,{},t.name)})),n.forEach(e,(function(t,e){var o=layer+e;r.setNode(o,{ranksame}),n.reduce(t,(function(t,e){return r.setEdge(t,e,{styleinvis}),e}))})),r}}},function(t,e){t.exports=0.8.5},function(t,e,r){var n=r(311),o=r(312),i={};for(var a in n)n.hasOwnProperty(a)&&(i[n[a]]=a);var u=t.exports={to{},get{}};function s(t,e,r){return Math.min(Math.max(e,t),r)}function c(t){var e=t.toString(16).toUpperCase();return e.length20+ee}u.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){casehsle=u.get.hsl(t),r=hsl;break;casehwbe=u.get.hwb(t),r=hwb;break;defaulte=u.get.rgb(t),r=rgb}return e{modelr,valuee}null},u.get.rgb=function(t){if(!t)return null;var e,r,o,i=[0,0,0,1];if(e=t.match(^#([a-f0-9]{6})([a-f0-9]{2})$i)){for(o=e[2],e=e[1],r=0;r3;r++){var a=2r;i[r]=parseInt(e.slice(a,a+2),16)}o&&(i[3]=parseInt(o,16)255)}else if(e=t.match(^#([a-f0-9]{3,4})$i)){for(o=(e=e[1])[3],r=0;r3;r++)i[r]=parseInt(e[r]+e[r],16);o&&(i[3]=parseInt(o+o,16)255)}else if(e=t.match(^rgba(s([+-]d+)s,s([+-]d+)s,s([+-]d+)s(,s([+-][d.]+)s))$)){for(r=0;r3;r++)i[r]=parseInt(e[r+1],0);e[4]&&(i[3]=parseFloat(e[4]))}else{if(!(e=t.match(^rgba(s([+-][d.]+)%s,s([+-][d.]+)%s,s([+-][d.]+)%s(,s([+-][d.]+)s))$)))return(e=t.match((D+)))transparent===e[1][0,0,0,0](i=n[e[1]])(i[3]=1,i)nullnull;for(r=0;r3;r++)i[r]=Math.round(2.55parseFloat(e[r+1]));e[4]&&(i[3]=parseFloat(e[4]))}for(r=0;r3;r++)i[r]=s(i[r],0,255);return i[3]=s(i[3],0,1),i},u.get.hsl=function(t){if(!t)return null;var e=t.match(^hsla(s([+-](d.)d+)(deg)s,s([+-][d.]+)%s,s([+-][d.]+)%s(,s([+-][d.]+)s))$);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(r)1r,0,1)]}return null},u.get.hwb=function(t){if(!t)return null;var e=t.match(^hwb(s([+-]d[.]d+)(deg)s,s([+-][d.]+)%s,s([+-][d.]+)%s(,s([+-][d.]+)s))$);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(r)1r,0,1)]}return null},u.to.hex=function(){var t=o(arguments);return#+c(t[0])+c(t[1])+c(t[2])+(t[3]1c(Math.round(255t[3])))},u.to.rgb=function(){var t=o(arguments);return t.length41===t[3]rgb(+Math.round(t[0])+, +Math.round(t[1])+, +Math.round(t[2])+)rgba(+Math.round(t[0])+, +Math.round(t[1])+, +Math.round(t[2])+, +t[3]+)},u.to.rgb.percent=function(){var t=o(arguments),e=Math.round(t[0]255100),r=Math.round(t[1]255100),n=Math.round(t[2]255100);return t.length41===t[3]rgb(+e+%, +r+%, +n+%)rgba(+e+%, +r+%, +n+%, +t[3]+)},u.to.hsl=function(){var t=o(arguments);return t.length41===t[3]hsl(+t[0]+, +t[1]+%, +t[2]+%)hsla(+t[0]+, +t[1]+%, +t[2]+%, +t[3]+)},u.to.hwb=function(){var t=o(arguments),e=;return t.length=4&&1!==t[3]&&(e=, +t[3]),hwb(+t[0]+, +t[1]+%, +t[2]+%+e+)},u.to.keyword=function(t){return i[t.slice(0,3)]}},function(t,e,r){use strict;t.exports={aliceblue[240,248,255],antiquewhite[250,235,215],aqua[0,255,255],aquamarine[127,255,212],azure[240,255,255],beige[245,245,220],bisque[255,228,196],black[0,0,0],blanchedalmond[255,235,205],blue[0,0,255],blueviolet[138,43,226],brown[165,42,42],burlywood[222,184,135],cadetblue[95,158,160],chartreuse[127,255,0],chocolate[210,105,30],coral[255,127,80],cornflowerblue[100,149,237],cornsilk[255,248,220],crimson[220,20,60],cyan[0,255,255],darkblue[0,0,139],darkcyan[0,139,139],darkgoldenrod[184,134,11],darkgray[169,169,169],darkgreen[0,100,0],darkgrey[169,169,169],darkkhaki[189,183,107],darkmagenta[139,0,139],darkolivegreen[85,107,47],darkorange[255,140,0],darkorchid[153,50,204],darkred[139,0,0],darksalmon[233,150,122],darkseagreen[143,188,143],darkslateblue[72,61,139],darkslategray[47,79,79],darkslategrey[47,79,79],darkturquoise[0,206,209],darkviolet[148,0,211],deeppink[255,20,147],deepskyblue[0,191,255],dimgray[105,105,105],dimgrey[105,105,105],dodgerblue[30,144,255],firebrick[178,34,34],floralwhite[255,250,240],forestgreen[34,139,34],fuchsia[255,0,255],gainsboro[220,220,220],ghostwhite[248,248,255],gold[255,215,0],goldenrod[218,165,32],gray[128,128,128],green[0,128,0],greenyellow[173,255,47],grey[128,128,128],honeydew[240,255,240],hotpink[255,105,180],indianred[205,92,92],indigo[75,0,130],ivory[255,255,240],khaki[240,230,140],lavender[230,230,250],lavenderblush[255,240,245],lawngreen[124,252,0],lemonchiffon[255,250,205],lightblue[173,216,230],lightcoral[240,128,128],lightcyan[224,255,255],lightgoldenrodyellow[250,250,210],lightgray[211,211,211],lightgreen[144,238,144],lightgrey[211,211,211],lightpink[255,182,193],lightsalmon[255,160,122],lightseagreen[32,178,170],lightskyblue[135,206,250],lightslategray[119,136,153],lightslategrey[119,136,153],lightsteelblue[176,196,222],lightyellow[255,255,224],lime[0,255,0],limegreen[50,205,50],linen[250,240,230],magenta[255,0,255],maroon[128,0,0],mediumaquamarine[102,205,170],mediumblue[0,0,205],mediumorchid[186,85,211],mediumpurple[147,112,219],mediumseagreen[60,179,113],mediumslateblue[123,104,238],mediumspringgreen[0,250,154],mediumturquoise[72,209,204],mediumvioletred[199,21,133],midnightblue[25,25,112],mintcream[245,255,250],mistyrose[255,228,225],moccasin[255,228,181],navajowhite[255,222,173],navy[0,0,128],oldlace[253,245,230],olive[128,128,0],olivedrab[107,142,35],orange[255,165,0],orangered[255,69,0],orchid[218,112,214],palegoldenrod[238,232,170],palegreen[152,251,152],paleturquoise[175,238,238],palevioletred[219,112,147],papayawhip[255,239,213],peachpuff[255,218,185],peru[205,133,63],pink[255,192,203],plum[221,160,221],powderblue[176,224,230],purple[128,0,128],rebeccapurple[102,51,153],red[255,0,0],rosybrown[188,143,143],royalblue[65,105,225],saddlebrown[139,69,19],salmon[250,128,114],sandybrown[244,164,96],seagreen[46,139,87],seashell[255,245,238],sienna[160,82,45],silver[192,192,192],skyblue[135,206,235],slateblue[106,90,205],slategray[112,128,144],slategrey[112,128,144],snow[255,250,250],springgreen[0,255,127],steelblue[70,130,180],tan[210,180,140],teal[0,128,128],thistle[216,191,216],tomato[255,99,71],turquoise[64,224,208],violet[238,130,238],wheat[245,222,179],white[255,255,255],whitesmoke[245,245,245],yellow[255,255,0],yellowgreen[154,205,50]}},function(t,e,r){use strict;var n=r(313),o=Array.prototype.concat,i=Array.prototype.slice,a=t.exports=function(t){for(var e=[],r=0,a=t.length;ra;r++){var u=t[r];n(u)e=o.call(e,i.call(u))e.push(u)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},function(t,e){t.exports=function(t){return!(!tstring==typeof t)&&(t instanceof ArrayArray.isArray(t)t.length=0&&(t.splice instanceof FunctionObject.getOwnPropertyDescriptor(t,t.length-1)&&String!==t.constructor.name))}},function(t,e,r){function n(t){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var o=r(128),i=r(316),a={};Object.keys(o).forEach((function(t){a[t]={},Object.defineProperty(a[t],channels,{valueo[t].channels}),Object.defineProperty(a[t],labels,{valueo[t].labels});var e=i(t);Object.keys(e).forEach((function(r){var o=e[r];a[t][r]=function(t){var e=function(e){if(null==e)return e;arguments.length1&&(e=Array.prototype.slice.call(arguments));var r=t(e);if(object===n(r))for(var o=r.length,i=0;io;i++)r[i]=Math.round(r[i]);return r};returnconversionin t&&(e.conversion=t.conversion),e}(o),a[t][r].raw=function(t){var e=function(e){return null==ee(arguments.length1&&(e=Array.prototype.slice.call(arguments)),t(e))};returnconversionin t&&(e.conversion=t.conversion),e}(o)}))})),t.exports=a},function(t,e,r){use strict;t.exports={aliceblue[240,248,255],antiquewhite[250,235,215],aqua[0,255,255],aquamarine[127,255,212],azure[240,255,255],beige[245,245,220],bisque[255,228,196],black[0,0,0],blanchedalmond[255,235,205],blue[0,0,255],blueviolet[138,43,226],brown[165,42,42],burlywood[222,184,135],cadetblue[95,158,160],chartreuse[127,255,0],chocolate[210,105,30],coral[255,127,80],cornflowerblue[100,149,237],cornsilk[255,248,220],crimson[220,20,60],cyan[0,255,255],darkblue[0,0,139],darkcyan[0,139,139],darkgoldenrod[184,134,11],darkgray[169,169,169],darkgreen[0,100,0],darkgrey[169,169,169],darkkhaki[189,183,107],darkmagenta[139,0,139],darkolivegreen[85,107,47],darkorange[255,140,0],darkorchid[153,50,204],darkred[139,0,0],darksalmon[233,150,122],darkseagreen[143,188,143],darkslateblue[72,61,139],darkslategray[47,79,79],darkslategrey[47,79,79],darkturquoise[0,206,209],darkviolet[148,0,211],deeppink[255,20,147],deepskyblue[0,191,255],dimgray[105,105,105],dimgrey[105,105,105],dodgerblue[30,144,255],firebrick[178,34,34],floralwhite[255,250,240],forestgreen[34,139,34],fuchsia[255,0,255],gainsboro[220,220,220],ghostwhite[248,248,255],gold[255,215,0],goldenrod[218,165,32],gray[128,128,128],green[0,128,0],greenyellow[173,255,47],grey[128,128,128],honeydew[240,255,240],hotpink[255,105,180],indianred[205,92,92],indigo[75,0,130],ivory[255,255,240],khaki[240,230,140],lavender[230,230,250],lavenderblush[255,240,245],lawngreen[124,252,0],lemonchiffon[255,250,205],lightblue[173,216,230],lightcoral[240,128,128],lightcyan[224,255,255],lightgoldenrodyellow[250,250,210],lightgray[211,211,211],lightgreen[144,238,144],lightgrey[211,211,211],lightpink[255,182,193],lightsalmon[255,160,122],lightseagreen[32,178,170],lightskyblue[135,206,250],lightslategray[119,136,153],lightslategrey[119,136,153],lightsteelblue[176,196,222],lightyellow[255,255,224],lime[0,255,0],limegreen[50,205,50],linen[250,240,230],magenta[255,0,255],maroon[128,0,0],mediumaquamarine[102,205,170],mediumblue[0,0,205],mediumorchid[186,85,211],mediumpurple[147,112,219],mediumseagreen[60,179,113],mediumslateblue[123,104,238],mediumspringgreen[0,250,154],mediumturquoise[72,209,204],mediumvioletred[199,21,133],midnightblue[25,25,112],mintcream[245,255,250],mistyrose[255,228,225],moccasin[255,228,181],navajowhite[255,222,173],navy[0,0,128],oldlace[253,245,230],olive[128,128,0],olivedrab[107,142,35],orange[255,165,0],orangered[255,69,0],orchid[218,112,214],palegoldenrod[238,232,170],palegreen[152,251,152],paleturquoise[175,238,238],palevioletred[219,112,147],papayawhip[255,239,213],peachpuff[255,218,185],peru[205,133,63],pink[255,192,203],plum[221,160,221],powderblue[176,224,230],purple[128,0,128],rebeccapurple[102,51,153],red[255,0,0],rosybrown[188,143,143],royalblue[65,105,225],saddlebrown[139,69,19],salmon[250,128,114],sandybrown[244,164,96],seagreen[46,139,87],seashell[255,245,238],sienna[160,82,45],silver[192,192,192],skyblue[135,206,235],slateblue[106,90,205],slategray[112,128,144],slategrey[112,128,144],snow[255,250,250],springgreen[0,255,127],steelblue[70,130,180],tan[210,180,140],teal[0,128,128],thistle[216,191,216],tomato[255,99,71],turquoise[64,224,208],violet[238,130,238],wheat[245,222,179],white[255,255,255],whitesmoke[245,245,245],yellow[255,255,0],yellowgreen[154,205,50]}},function(t,e,r){var n=r(128);function o(t){var e=function(){for(var t={},e=Object.keys(n),r=e.length,o=0;or;o++)t[e[o]]={distance-1,parentnull};return t}(),r=[t];for(e[t].distance=0;r.length;)for(var o=r.pop(),i=Object.keys(n[o]),a=i.length,u=0;ua;u++){var s=i[u],c=e[s];-1===c.distance&&(c.distance=e[o].distance+1,c.parent=o,r.unshift(s))}return e}function i(t,e){return function(r){return e(t(r))}}function a(t,e){for(var r=[e[t].parent,t],o=n[e[t].parent][t],a=e[t].parent;e[a].parent;)r.unshift(e[a].parent),o=i(n[e[a].parent][a],o),a=e[a].parent;return o.conversion=r,o}t.exports=function(t){for(var e=o(t),r={},n=Object.keys(e),i=n.length,u=0;ui;u++){var s=n[u];null!==e[s].parent&&(r[s]=a(s,e))}return r}},function(t,e,r){use strict;r.r(e);var n=r(53),o=r.n(n);n! nCopyright (c) Microsoft Corporation.nnPermission to use, copy, modify, andor distribute this software for anynpurpose with or without fee is hereby granted.nnTHE SOFTWARE IS PROVIDED AS IS AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITHnREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITYnAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROMnLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE ORnOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE ORnPERFORMANCE OF THIS SOFTWARE.n nvar i=function(t,e){return(i=Object.setPrototypeOf{__proto__[]}instanceof Array&&function(t,e){t.__proto__=e}function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function a(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===eObject.create(e)(r.prototype=e.prototype,new r)}Object.create;Object.create;var u=r(30),s=r.n(u),c=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return t.prototype.init=function(t){this.nodes=t.nodes[],this.edges=t.edges[],this.combos=t.combos[]},t.prototype.execute=function(){},t.prototype.layout=function(t){this.init(t),this.execute()},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){s()(this,t)},t.prototype.destroy=function(){this.positions=null,this.nodes=null,this.edges=null,this.destroyed=!0},t}(),f={registerLayoutfunction(t,e,r){if(void 0===r&&(r=c),!e)throw new Error(please specify handler for this layout +t);var n=function(t){function r(r){var n=t.call(this)this,i=n,a={},u=i.getDefaultCfg();return s()(a,u,e,r),o()(a,(function(t,e){i[e]=t})),n}return a(r,t),r}(r);f[t]=n}},h=f,l=r(3);l.translate=function(t,e,r){var n=new Array(9);return l.fromTranslation(n,r),l.multiply(t,n,e)},l.rotate=function(t,e,r){var n=new Array(9);return l.fromRotation(n,r),l.multiply(t,n,e)},l.scale=function(t,e,r){var n=new Array(9);return l.fromScaling(n,r),l.multiply(t,n,e)},l.transform=function(t,e){for(var r=[].concat(t),n=0,o=e.length;no;n++){var i=e[n];switch(i[0]){casetl.translate(r,r,[i[1],i[2]]);break;casesl.scale(r,r,[i[1],i[2]]);break;caserl.rotate(r,r,i[1])}}return r};var d=r(9),p={}.toString,v=function(t,e){return p.call(t)===[object +e+]},g=function(t){return v(t,Function)},y=function(t){return Array.isArrayArray.isArray(t)v(t,Array)};function m(t){return(m=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var b=function(t){var e=m(t);return null!==t&&object===efunction===e};var w=function(t,e){if(t)if(y(t))for(var r=0,n=t.length;rn&&!1!==e(t[r],r);r++);else if(b(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break};Object.keys;var x=Array.prototype;x.splice,x.indexOf,Array.prototype.splice;Object.prototype.hasOwnProperty;var M=function(t,e,r){return teetrrt},k=function(t){return v(t,Number)};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI,Object.values;Object.prototype;function _(t){return(_=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var S=function t(e){if(object!==_(e)null===e)return e;var r;if(y(e)){r=[];for(var n=0,o=e.length;no;n++)object===_(e[n])&&null!=e[n]r[n]=t(e[n])r[n]=e[n]}else for(var i in r={},e)object===_(e[i])&&null!=e[i]r[i]=t(e[i])r[i]=e[i];return r};Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var r=this.map[t];return void 0===rer},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();d.angle=function(t,e){var r=d.dot(t,e)(d.length(t)d.length(e));return Math.acos(M(r,-1,1))},d.direction=function(t,e){return t[0]e[1]-e[0]t[1]},d.angleTo=function(t,e,r){var n=d.angle(t,e),o=d.direction(t,e)=0;return ro2Math.PI-nnon2Math.PI-n},d.vertical=function(t,e,r){return r(t[0]=e[1],t[1]=-1e[0])(t[0]=-1e[1],t[1]=e[0]),t};r(129);var E=r(2),j=r.n(E),A=function(t){for(var e=[],r=t.length,n=0;nr;n+=1){e[n]=[];for(var o=0;or;o+=1)n===oe[n][o]=00!==t[n][o]&&t[n][o]e[n][o]=t[n][o]e[n][o]=10}for(var i=0;ir;i+=1)for(n=0;nr;n+=1)for(o=0;or;o+=1)e[n][o]e[n][i]+e[i][o]&&(e[n][o]=e[n][i]+e[i][o]);return e},O=function(t,e){var r=t.nodes,n=t.edges,o=[],i={};if(!r)throw new Error(invalid nodes data!);return r&&r.forEach((function(t,e){i[t.id]=e;o.push([])})),n&&n.forEach((function(t){var r=t.source,n=t.target,a=i[r],u=i[n];o[a][u]=1,e(o[u][a]=1)})),o},N=function(t,e,r){for(var n=[],o=0;ot;o++)n[o]=0;return r.forEach((function(t){t.source&&(n[e[t.source]]+=1),t.target&&(n[e[t.target]]+=1)})),n};!function(){function t(t,e,r,n){this.x1=t,this.y1=e,this.x2=r,this.y2=n}t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2);return{xt,ye,minXt,minYe,maxXr,maxYn,widthr-t,heightn-e}}}();function I(t,e){return t.degreee.degree-1t.degreee.degree10}var R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.radius=null,e.startRadius=null,e.endRadius=null,e.startAngle=0,e.endAngle=2Math.PI,e.clockwise=!0,e.divisions=1,e.ordering=null,e.angleRatio=1,e.nodes=[],e.edges=[],e.nodeMap={},e.degrees=[],e.width=300,e.height=300,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],radiusnull,startRadiusnull,endRadiusnull,startAngle0,endAngle2Math.PI,clockwise!0,divisions1,orderingnull,angleRatio1}},e.prototype.execute=function(){var t=this.nodes,e=this.edges,r=t.length,n=this.center;if(0!==r){if(1===r)return t[0].x=n[0],void(t[0].y=n[1]);var o=this.radius,i=this.startRadius,a=this.endRadius,u=this.divisions,s=this.startAngle,c=this.endAngle,f=(c-s)r,h={};t.forEach((function(t,e){h[t.id]=e})),this.nodeMap=h;var l=N(t.length,h,e);this.degrees=l,this.widthundefined==typeof window(this.width=window.innerWidth),this.heightundefined==typeof window(this.height=window.innerHeight),oia!i&&ai=ai&&!a&&(a=i)o=this.heightthis.widththis.width2this.height2;var d=fthis.angleRatio;this.astep=d;var p=this.ordering,v=[];v=topology===pthis.topologyOrdering()topology-directed===pthis.topologyOrdering(!0)degree===pthis.degreeOrdering()t;for(var g=this.clockwise,y=Math.ceil(ru),m=0;mr;++m){var b=o;bnull===inull===a(b=i+m(a-i)(r-1)),b(b=10+100m(r-1));var w=s+m%yd+2Math.PIuMath.floor(my);g(w=c-m%yd-2Math.PIuMath.floor(my)),v[m].x=n[0]+Math.cos(w)b,v[m].y=n[1]+Math.sin(w)b,v[m].weight=l[m]}}},e.prototype.topologyOrdering=function(t){void 0===t&&(t=!1);var e=this.degrees,r=this.edges,n=this.nodes,o=S(n),i=this.nodeMap,a=[o[0]],u=[n[0]],s=[],c=n.length;s[0]=!0,function(t,e,r,n){t.forEach((function(e,r){t[r].children=[],t[r].parent=[]})),ne.forEach((function(e){var n=0;e.source&&(n=r[e.source]);var o=0;e.target&&(o=r[e.target]),t[n].children.push(t[o].id),t[o].parent.push(t[n].id)}))e.forEach((function(e){var n=0;e.source&&(n=r[e.source]);var o=0;e.target&&(o=r[e.target]),t[n].children.push(t[o].id),t[o].children.push(t[n].id)}))}(o,r,i,t);var f=0;return o.forEach((function(t,h){if(0!==h)if(h!==c-1&&e[h]===e[h+1]&&!function(t,e,r){for(var n=r.length,o=0;on;o++)if(t.id===r[o].source&&e.id===r[o].targete.id===r[o].source&&t.id===r[o].target)return!0;return!1}(a[f],t,r)!0===s[h]){for(var l=a[f].children,d=!1,p=0;pl.length;p++){var v=i[l[p]];if(e[v]===e[h]&&!0!==s[v]){a.push(o[v]),u.push(n[i[o[v].id]]),s[v]=!0,d=!0;break}}for(var g=0;!d&&(s[g](a.push(o[g]),u.push(n[i[o[g].id]]),s[g]=!0,d=!0),++g!==c););}else a.push(t),u.push(n[i[t.id]]),s[h]=!0,f++})),u},e.prototype.degreeOrdering=function(){var t=this.nodes,e=[],r=this.degrees;return t.forEach((function(t,n){t.degree=r[n],e.push(t)})),e.sort(I),e},e}(c),P=r(11),C=r.n(P),z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.nodeSize=30,e.minNodeSpacing=10,e.preventOverlap=!1,e.equidistant=!1,e.startAngle=1.5Math.PI,e.clockwise=!0,e.sortBy=degree,e.nodes=[],e.edges=[],e.width=300,e.height=300,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],nodeSize30,minNodeSpacing10,preventOverlap!1,sweepvoid 0,equidistant!1,startAngle1.5Math.PI,clockwise!0,maxLevelDiffvoid 0,sortBydegree}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges,n=e.length,o=t.center;if(0!==n){if(1===n)return e[0].x=o[0],void(e[0].y=o[1]);var i,a=[];i=j()(t.nodeSize)Math.max(t.nodeSize[0],t.nodeSize[1])t.nodeSize,e.forEach((function(t){a.push(t);var e=i;j()(t.size)e=Math.max(t.size[0],t.size[1])k(t.size)&&(e=t.size),i=Math.max(i,e)})),t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight),t.clockwise=void 0!==t.counterclockwise!t.counterclockwiset.clockwise;var u={},s={};if(a.forEach((function(t,e){u[t.id]=t,s[t.id]=e})),!(degree!==t.sortBy&&C()(t.sortBy)&&void 0!==a[0][t.sortBy](t.sortBy=degree,k(e[0].degree)))){var c=N(e.length,s,r);a.forEach((function(t,e){t.degree=c[e]}))}a.sort((function(e,r){return r[t.sortBy]-e[t.sortBy]})),t.maxValueNode=a[0],t.maxLevelDiff=t.maxLevelDifft.maxValueNode[t.sortBy]4;var f=[[]],h=f[0];a.forEach((function(e){if(h.length0){var r=Math.abs(h[0][t.sortBy]-e[t.sortBy]);t.maxLevelDiff&&r=t.maxLevelDiff&&(h=[],f.push(h))}h.push(e)}));var l=i+t.minNodeSpacing;if(!t.preventOverlap){var d=f.length0&&f[0].length1,p=(Math.min(t.width,t.height)2-l)(f.length+(d10));l=Math.min(l,p)}var v=0;if(f.forEach((function(e){var r=t.sweep;void 0===r&&(r=2Math.PI-2Math.PIe.length);var n=e.dTheta=rMath.max(1,e.length-1);if(e.length1&&t.preventOverlap){var o=Math.cos(n)-Math.cos(0),i=Math.sin(n)-Math.sin(0),a=Math.sqrt(ll(oo+ii));v=Math.max(a,v)}e.r=v,v+=l})),t.equidistant){for(var g=0,y=0,m=0;mf.length;m++){var b=f[m].r-y;g=Math.max(g,b)}y=0,f.forEach((function(t,e){0===e&&(y=t.r),t.r=y,y+=g}))}f.forEach((function(e){var r=e.dTheta,n=e.r;e.forEach((function(e,i){var a=t.startAngle+(t.clockwise1-1)ri;e.x=o[0]+nMath.cos(a),e.y=o[1]+nMath.sin(a)}))}))}},e}(c),F=r(74),T=r.n(F),D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.rankdir=TB,e.nodesep=50,e.ranksep=50,e.controlPoints=!1,e.sortByCombo=!1,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{rankdirTB,alignvoid 0,nodeSizevoid 0,nodesepFuncvoid 0,ranksepFuncvoid 0,nodesep50,ranksep50,controlPoints!1}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.nodeSize,n=t.rankdir;if(e){var o,i=t.edges[],a=new T.a.graphlib.Graph;o=rj()(r)function(){return r}function(){return[r,r]}function(t){return t.sizej()(t.size)t.size[t.size,t.size][40,40]};var u,s=q(t.nodesepFunc,t.nodesep,50),c=q(t.ranksepFunc,t.ranksep,50);LR!==n&&RL!==n(s=q(t.ranksepFunc,t.ranksep,50),c=q(t.nodesepFunc,t.nodesep,50)),a.setDefaultEdgeLabel((function(){return{}})),a.setGraph(t),e.forEach((function(t){var e=o(t),r=c(t),n=s(t),i=e[0]+2n,u=e[1]+2r;a.setNode(t.id,{widthi,heightu})})),i.forEach((function(t){a.setEdge(t.source,t.target,{weightt.weight1})})),T.a.layout(a),a.nodes().forEach((function(t){u=a.node(t);var r=e.findIndex((function(e){return e.id===t}));e[r].x=u.x,e[r].y=u.y})),a.edges().forEach((function(e){u=a.edge(e);var r=i.findIndex((function(t){return t.source===e.v&&t.target===e.w}));t.controlPoints&&loop!==i[r].type&&loop!==i[r].shape&&(i[r].controlPoints=u.points.slice(1,u.points.length-1))})),t.sortByCombo&&t.sortLevel(comboId)}},e.prototype.sortLevel=function(t){var e=this.nodes,r={};e.forEach((function(t){r[t.y](r[t.y]={yt.y,nodes[]}),r[t.y].nodes.push(t)})),Object.keys(r).forEach((function(e){var n=r[e].nodes,o=n.length,i={};if(n.forEach((function(t){var e=t.comboId;i[e](i[e]={x0,y0,count0}),i[e].x+=t.x,i[e].y+=t.y,i[e].count++})),Object.keys(i).forEach((function(t){i[t].x=i[t].count,i[t].y=i[t].count})),1!==o){var a=n.sort((function(t,e){return t.x-e.x})),u=a[0].x,s=(a[o-1].x-u)(o-1);n.sort((function(e,r){var n=e[t]undefined,o=r[t]undefined;return no-1no10})).forEach((function(t,e){t.x=u+es}))}}))},e}(c);function q(t,e,r){return t(k(e)function(){return e}function(){return r})}function L(t,e,r,n){if(isNaN(e)isNaN(r))return t;var o,i,a,u,s,c,f,h,l,d=t._root,p={datan},v=t._x0,g=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e=(i=(v+y)2))v=iy=i,(f=r=(a=(g+m)2))g=am=a,o=d,!(d=d[h=f1c]))return o[h]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),e===u&&r===s)return p.next=d,oo[h]=pt._root=p,t;do{o=oo[h]=new Array(4)t._root=new Array(4),(c=e=(i=(v+y)2))v=iy=i,(f=r=(a=(g+m)2))g=am=a}while((h=f1c)==(l=(s=a)1u=i));return o[l]=d,o[h]=p,t}var B=function(t,e,r,n,o){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=o};function V(t){return t[0]}function U(t){return t[1]}function Y(t,e,r){var n=new H(null==eVe,null==rUr,NaN,NaN,NaN,NaN);return null==tnn.addAll(t)}function H(t,e,r,n,o,i){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=o,this._y1=i,this._root=void 0}function W(t){for(var e={datat.data},r=e;t=t.next;)r=r.next={datat.data};return e}var G=Y.prototype=H.prototype;G.copy=function(){var t,e,r=new H(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=W(n),r;for(t=[{sourcen,targetr._root=new Array(4)}];n=t.pop();)for(var o=0;o4;++o)(e=n.source[o])&&(e.lengtht.push({sourcee,targetn.target[o]=new Array(4)})n.target[o]=W(e));return r},G.add=function(t){var e=+this._x.call(null,t),r=+this._y.call(null,t);return L(this.cover(e,r),e,r,t)},G.addAll=function(t){var e,r,n,o,i=t.length,a=new Array(i),u=new Array(i),s=10,c=10,f=-10,h=-10;for(r=0;ri;++r)isNaN(n=+this._x.call(null,e=t[r]))isNaN(o=+this._y.call(null,e))(a[r]=n,u[r]=o,ns&&(s=n),nf&&(f=n),oc&&(c=o),oh&&(h=o));if(sfch)return this;for(this.cover(s,c).cover(f,h),r=0;ri;++r)L(this,a[r],u[r],t[r]);return this},G.cover=function(t,e){if(isNaN(t=+t)isNaN(e=+e))return this;var r=this._x0,n=this._y0,o=this._x1,i=this._y1;if(isNaN(r))o=(r=Math.floor(t))+1,i=(n=Math.floor(e))+1;else{for(var a,u,s=o-r1,c=this._root;rtt=onee=i;)switch(u=(en)1tr,(a=new Array(4))[u]=c,c=a,s=2,u){case 0o=r+s,i=n+s;break;case 1r=o-s,i=n+s;break;case 2o=r+s,n=i-s;break;case 3r=o-s,n=i-s}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=n,this._x1=o,this._y1=i,this},G.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},G.extent=function(t){return arguments.lengththis.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1])isNaN(this._x0)void 0[[this._x0,this._y0],[this._x1,this._y1]]},G.find=function(t,e,r){var n,o,i,a,u,s,c,f=this._x0,h=this._y0,l=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new B(v,f,h,l,d)),null==rr=10(f=t-r,h=e-r,l=t+r,d=e+r,r=r);s=p.pop();)if(!(!(v=s.node)(o=s.x0)l(i=s.y0)d(a=s.x1)f(u=s.y1)h))if(v.length){var g=(o+a)2,y=(i+u)2;p.push(new B(v[3],g,y,a,u),new B(v[2],o,y,g,u),new B(v[1],g,i,a,y),new B(v[0],o,i,g,y)),(c=(e=y)1t=g)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var m=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),w=mm+bb;if(wr){var x=Math.sqrt(r=w);f=t-x,h=e-x,l=t+x,d=e+x,n=v.data}}return n},G.remove=function(t){if(isNaN(i=+this._x.call(null,t))isNaN(a=+this._y.call(null,t)))return this;var e,r,n,o,i,a,u,s,c,f,h,l,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i=(u=(p+g)2))p=ug=u,(f=a=(s=(v+y)2))v=sy=s,e=d,!(d=d[h=f1c]))return this;if(!d.length)break;(e[h+1&3]e[h+2&3]e[h+3&3])&&(r=e,l=h)}for(;d.data!==t;)if(n=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,n(on.next=odelete n.next,this)e(oe[h]=odelete e[h],(d=e[0]e[1]e[2]e[3])&&d===(e[3]e[2]e[1]e[0])&&!d.length&&(rr[l]=dthis._root=d),this)(this._root=o,this)},G.removeAll=function(t){for(var e=0,r=t.length;er;++e)this.remove(t[e]);return this},G.root=function(){return this._root},G.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},G.visit=function(t){var e,r,n,o,i,a,u=[],s=this._root;for(s&&u.push(new B(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,n=e.x0,o=e.y0,i=e.x1,a=e.y1)&&s.length){var c=(n+i)2,f=(o+a)2;(r=s[3])&&u.push(new B(r,c,f,i,a)),(r=s[2])&&u.push(new B(r,n,f,c,a)),(r=s[1])&&u.push(new B(r,c,o,i,f)),(r=s[0])&&u.push(new B(r,n,o,c,f))}return this},G.visitAfter=function(t){var e,r=[],n=[];for(this._root&&r.push(new B(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var o=e.node;if(o.length){var i,a=e.x0,u=e.y0,s=e.x1,c=e.y1,f=(a+s)2,h=(u+c)2;(i=o[0])&&r.push(new B(i,a,u,f,h)),(i=o[1])&&r.push(new B(i,f,u,s,h)),(i=o[2])&&r.push(new B(i,a,h,f,c)),(i=o[3])&&r.push(new B(i,f,h,s,c))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},G.x=function(t){return arguments.length(this._x=t,this)this._x},G.y=function(t){return arguments.length(this._y=t,this)this._y};var $=function(t){return function(){return t}},X=function(t){return 1e-6(t()-.5)},J={valuefunction(){}};function Q(){for(var t,e=0,r=arguments.length,n={};er;++e){if(!(t=arguments[e]+)t in n[s.].test(t))throw new Error(illegal type +t);n[t]=[]}return new K(n)}function K(t){this._=t}function Z(t,e){return t.trim().split(^s+).map((function(t){var r=,n=t.indexOf(.);if(n=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error(unknown type +t);return{typet,namer}}))}function tt(t,e){for(var r,n=0,o=t.length;no;++n)if((r=t[n]).name===e)return r.value}function et(t,e,r){for(var n=0,o=t.length;no;++n)if(t[n].name===e){t[n]=J,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({namee,valuer}),t}K.prototype=Q.prototype={constructorK,onfunction(t,e){var r,n=this._,o=Z(t+,n),i=-1,a=o.length;if(!(arguments.length2)){if(null!=e&&function!=typeof e)throw new Error(invalid callback +e);for(;++ia;)if(r=(t=o[i]).type)n[r]=et(n[r],t.name,e);else if(null==e)for(r in n)n[r]=et(n[r],t.name,null);return this}for(;++ia;)if((r=(t=o[i]).type)&&(r=tt(n[r],t.name)))return r},copyfunction(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new K(t)},callfunction(t,e){if((r=arguments.length-2)0)for(var r,n,o=new Array(r),i=0;ir;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error(unknown type +t);for(i=0,r=(n=this._[t]).length;ir;++i)n[i].value.apply(e,o)},applyfunction(t,e,r){if(!this._.hasOwnProperty(t))throw new Error(unknown type +t);for(var n=this._[t],o=0,i=n.length;oi;++o)n[o].value.apply(e,r)}};var rt=Q;function nt(t){return(nt=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}var ot,it,at=0,ut=0,st=0,ct=0,ft=0,ht=0,lt=object===(undefined==typeof performanceundefinednt(performance))&&performance.nowperformanceDate,dt=object===(undefined==typeof windowundefinednt(window))&&window.requestAnimationFramewindow.requestAnimationFrame.bind(window)function(t){setTimeout(t,17)};function pt(){return ft(dt(vt),ft=lt.now()+ht)}function vt(){ft=0}function gt(){this._call=this._time=this._next=null}function yt(t,e,r){var n=new gt;return n.restart(t,e,r),n}function mt(){ft=(ct=lt.now())+ht,at=ut=0;try{!function(){pt(),++at;for(var t,e=ot;e;)(t=ft-e._time)=0&&e._call.call(null,t),e=e._next;--at}()}finally{at=0,function(){var t,e,r=ot,n=10;for(;r;)r._call(nr._time&&(n=r._time),t=r,r=r._next)(e=r._next,r._next=null,r=tt._next=eot=e);it=t,wt(n)}(),ft=0}}function bt(){var t=lt.now(),e=t-ct;e1e3&&(ht-=e,ct=t)}function wt(t){at(ut&&(ut=clearTimeout(ut)),t-ft24(t10&&(ut=setTimeout(mt,t-lt.now()-ht)),st&&(st=clearInterval(st)))(st(ct=lt.now(),st=setInterval(bt,1e3)),at=1,dt(mt)))}gt.prototype=yt.prototype={constructorgt,restartfunction(t,e,r){if(function!=typeof t)throw new TypeError(callback is not a function);r=(null==rpt()+r)+(null==e0+e),this._nextit===this(itit._next=thisot=this,it=this),this._call=t,this._time=r,wt()},stopfunction(){this._call&&(this._call=null,this._time=10,wt())}};function xt(t){return t.x}function Mt(t){return t.y}var kt=Math.PI(3-Math.sqrt(5)),_t=function(t){var e,r,n=1,o=.001,i=1-Math.pow(o,1300),a=0,u=.6,s=new Map,c=yt(l),f=rt(tick,end),h=(r=1,function(){return(r=(1664525r+1013904223)%4294967296)4294967296});function l(){d(),f.call(tick,e),no&&(c.stop(),f.call(end,e))}function d(r){var o,c,f=t.length;void 0===r&&(r=1);for(var h=0;hr;++h)for(n+=(a-n)i,s.forEach((function(t){t(n)})),o=0;of;++o)null==(c=t[o]).fxc.x+=c.vx=u(c.x=c.fx,c.vx=0),null==c.fyc.y+=c.vy=u(c.y=c.fy,c.vy=0);return e}function p(){for(var e,r=0,n=t.length;rn;++r){if((e=t[r]).index=r,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)isNaN(e.y)){var o=10Math.sqrt(.5+r),i=rkt;e.x=oMath.cos(i),e.y=oMath.sin(i)}(isNaN(e.vx)isNaN(e.vy))&&(e.vx=e.vy=0)}}function v(e){return e.initialize&&e.initialize(t,h),e}return null==t&&(t=[]),p(),e={tickd,restartfunction(){return c.restart(l),e},stopfunction(){return c.stop(),e},nodesfunction(r){return arguments.length(t=r,p(),s.forEach(v),e)t},alphafunction(t){return arguments.length(n=+t,e)n},alphaMinfunction(t){return arguments.length(o=+t,e)o},alphaDecayfunction(t){return arguments.length(i=+t,e)+i},alphaTargetfunction(t){return arguments.length(a=+t,e)a},velocityDecayfunction(t){return arguments.length(u=1-t,e)1-u},randomSourcefunction(t){return arguments.length(h=t,s.forEach(v),e)h},forcefunction(t,r){return arguments.length1(null==rs.delete(t)s.set(t,v(r)),e)s.get(t)},findfunction(e,r,n){var o,i,a,u,s,c=0,f=t.length;for(null==nn=10n=n,c=0;cf;++c)(a=(o=e-(u=t[c]).x)o+(i=r-u.y)i)n&&(s=u,n=a);return s},onfunction(t,r){return arguments.length1(f.on(t,r),e)f.on(t)}}},St=function(){var t,e,r,n,o,i=$(-30),a=1,u=10,s=.81;function c(r){var o,i=t.length,a=Y(t,xt,Mt).visitAfter(h);for(n=r,o=0;oi;++o)e=t[o],a.visit(l)}function f(){if(t){var e,r,n=t.length;for(o=new Array(n),e=0;en;++e)r=t[e],o[r.index]=+i(r,e,t)}}function h(t){var e,r,n,i,a,u=0,s=0;if(t.length){for(n=i=a=0;a4;++a)(e=t[a])&&(r=Math.abs(e.value))&&(u+=e.value,s+=r,n+=re.x,i+=re.y);t.x=ns,t.y=is}else{(e=t).x=e.data.x,e.y=e.data.y;do{u+=o[e.data.index]}while(e=e.next)}t.value=u}function l(t,i,c,f){if(!t.value)return!0;var h=t.x-e.x,l=t.y-e.y,d=f-i,p=hh+ll;if(ddsp)return pu&&(0===h&&(p+=(h=X(r))h),0===l&&(p+=(l=X(r))l),pa&&(p=Math.sqrt(ap)),e.vx+=ht.valuenp,e.vy+=lt.valuenp),!0;if(!(t.lengthp=u)){(t.data!==et.next)&&(0===h&&(p+=(h=X(r))h),0===l&&(p+=(l=X(r))l),pa&&(p=Math.sqrt(ap)));do{t.data!==e&&(d=o[t.data.index]np,e.vx+=hd,e.vy+=ld)}while(t=t.next)}}return c.initialize=function(e,n){t=e,r=n,f()},c.strength=function(t){return arguments.length(i=function==typeof tt$(+t),f(),c)i},c.distanceMin=function(t){return arguments.length(a=tt,c)Math.sqrt(a)},c.distanceMax=function(t){return arguments.length(u=tt,c)Math.sqrt(u)},c.theta=function(t){return arguments.length(s=tt,c)Math.sqrt(s)},c};function Et(t){return(Et=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}function jt(t){return t.index}function At(t,e){var r=t.get(e);if(!r)throw new Error(node not found +e);return r}var Ot=function(t){var e,r,n,o,i,a,u=jt,s=function(t){return 1Math.min(o[t.source.index],o[t.target.index])},c=$(30),f=1;function h(n){for(var o=0,u=t.length;of;++o)for(var s,c,h,l,d,p,v,g=0;gu;++g)c=(s=t[g]).source,l=(h=s.target).x+h.vx-c.x-c.vxX(a),d=h.y+h.vy-c.y-c.vyX(a),l=p=((p=Math.sqrt(ll+dd))-r[g])pne[g],d=p,h.vx-=l(v=i[g]),h.vy-=dv,c.vx+=l(v=1-v),c.vy+=dv}function l(){if(n){var a,s,c=n.length,f=t.length,h=new Map(n.map((function(t,e){return[u(t,e,n),t]})));for(a=0,o=new Array(c);af;++a)(s=t[a]).index=a,object!==Et(s.source)&&(s.source=At(h,s.source)),object!==Et(s.target)&&(s.target=At(h,s.target)),o[s.source.index]=(o[s.source.index]0)+1,o[s.target.index]=(o[s.target.index]0)+1;for(a=0,i=new Array(f);af;++a)s=t[a],i[a]=o[s.source.index](o[s.source.index]+o[s.target.index]);e=new Array(f),d(),r=new Array(f),p()}}function d(){if(n)for(var r=0,o=t.length;ro;++r)e[r]=+s(t[r],r,t)}function p(){if(n)for(var e=0,o=t.length;eo;++e)r[e]=+c(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){n=t,a=e,l()},h.links=function(e){return arguments.length(t=e,l(),h)t},h.id=function(t){return arguments.length(u=t,h)u},h.iterations=function(t){return arguments.length(f=+t,h)f},h.strength=function(t){return arguments.length(s=function==typeof tt$(+t),d(),h)s},h.distance=function(t){return arguments.length(c=function==typeof tt$(+t),p(),h)c},h};function Nt(t){return t.x+t.vx}function It(t){return t.y+t.vy}var Rt=function(t){var e,r,n,o=1,i=1;function a(){for(var t,a,s,c,f,h,l,d=e.length,p=0;pi;++p)for(a=Y(e,Nt,It).visitAfter(u),t=0;td;++t)s=e[t],h=r[s.index],l=hh,c=s.x+s.vx,f=s.y+s.vy,a.visit(v);function v(t,e,r,i,a){var u=t.data,d=t.r,p=h+d;if(!u)return ec+pic-prf+paf-p;if(u.indexs.index){var v=c-u.x-u.vx,g=f-u.y-u.vy,y=vv+gg;ypp&&(0===v&&(y+=(v=X(n))v),0===g&&(y+=(g=X(n))g),y=(p-(y=Math.sqrt(y)))yo,s.vx+=(v=y)(p=(d=d)(l+d)),s.vy+=(g=y)p,u.vx-=v(p=1-p),u.vy-=gp)}}}function u(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;e4;++e)t[e]&&t[e].rt.r&&(t.r=t[e].r)}function s(){if(e){var n,o,i=e.length;for(r=new Array(i),n=0;ni;++n)o=e[n],r[o.index]=+t(o,n,e)}}returnfunction!=typeof t&&(t=$(null==t1+t)),a.initialize=function(t,r){e=t,n=r,s()},a.iterations=function(t){return arguments.length(i=+t,a)i},a.strength=function(t){return arguments.length(o=+t,a)o},a.radius=function(e){return arguments.length(t=function==typeof ee$(+e),s(),a)t},a};function Pt(){function t(t){return function(){return t}}var e,r=function(t){return t.cluster},n=t(1),o=t(-1),i=t(100),a=t(.1),u=[0,0],s=[],c={},f=[],h=100,l=100,d={none{x0,y0}},p=[],v=force,g=!0,y=.1;function m(t){if(!g)return m;e.tick(),w();for(var n=0,o=s.length,i=void 0,a=ty;no;++n)(i=s[n]).vx+=(d[r(i)].x-i.x)a,i.vy+=(d[r(i)].y-i.y)a}function b(){s&&function(){if(!s!s.length)return;if(void 0===r(s[0]))throw Error(Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links());var t=(d=[],v=[],g={},y=[],u=function(t){var e={};return t.forEach((function(t){var n=r(t);e[n](e[n]={count0,sumforceNodeSize0})})),t.forEach((function(t){var o=r(t),i=n(t),a=e[o];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI(ii)1.3,e[o]=a})),e}(s),y=function(t){var e={},n=[];return t.forEach((function(t){var n=function(t){var e=r(c[t.source]),n=r(c[t.target]);return e=ne+~+nn+~+e}(t),o=0;void 0!==e[n]&&(o=e[n]),o+=1,e[n]=o})),Object.entries(e).forEach((function(t){var e=t[0],r=t[1],o=e.split(~)[0],i=e.split(~)[1];void 0!==o&&void 0!==i&&n.push({sourceo,targeti,countr})})),n}(f),Object.keys(u).forEach((function(t,e){var r=u[t];d.push({idt,sizer.count,rMath.sqrt(r.sumforceNodeSizeMath.PI)}),g[t]=e})),y.forEach((function(t){var e=g[t.source],r=g[t.target];void 0!==e&&void 0!==r&&v.push({sourcee,targetr,countt.count})})),{nodesd,linksv});var u,d,v,g,y;e=_t(t.nodes).force(x,function(t){var e,r,n,o=$(.1);function i(t){for(var o,i=0,a=e.length;ia;++i)(o=e[i]).vx+=(n[i]-o.x)r[i]t}function a(){if(e){var i,a=e.length;for(r=new Array(a),n=new Array(a),i=0;ia;++i)r[i]=isNaN(n[i]=+t(e[i],i,e))0+o(e[i],i,e)}}returnfunction!=typeof t&&(t=$(null==t0+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length(o=function==typeof tt$(+t),a(),i)o},i.x=function(e){return arguments.length(t=function==typeof ee$(+e),a(),i)t},i}(h).strength(.1)).force(y,function(t){var e,r,n,o=$(.1);function i(t){for(var o,i=0,a=e.length;ia;++i)(o=e[i]).vy+=(n[i]-o.y)r[i]t}function a(){if(e){var i,a=e.length;for(r=new Array(a),n=new Array(a),i=0;ia;++i)r[i]=isNaN(n[i]=+t(e[i],i,e))0+o(e[i],i,e)}}returnfunction!=typeof t&&(t=$(null==t0+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length(o=function==typeof tt$(+t),a(),i)o},i.y=function(e){return arguments.length(t=function==typeof ee$(+e),a(),i)t},i}(l).strength(.1)).force(collide,Rt((function(t){return t.r})).iterations(4)).force(charge,St().strength(o)).force(links,Ot(t.nodes.lengtht.links[]).distance(i).strength(a)),p=e.nodes(),w()}()}function w(){return d={none{x0,y0}},p.forEach((function(t){d[t.id]={xt.x-u[0],yt.y-u[1]}})),d}function x(t){c={},t.forEach((function(t){c[t.id]=t}))}return m.initialize=function(t){s=t,b()},m.template=function(t){return arguments.length(v=t,b(),m)v},m.groupBy=function(t){return arguments.lengthstring==typeof t(r=function(e){return e[t]},m)(r=t,m)r},m.enableGrouping=function(t){return arguments.length(g=t,m)g},m.strength=function(t){return arguments.length(y=t,m)y},m.centerX=function(t){return arguments.length(h=t,m)h},m.centerY=function(t){return arguments.length(l=t,m)l},m.nodes=function(t){return arguments.length(x(t[]),s=t[],m)s},m.links=function(t){return arguments.length(f=t[],b(),m)f},m.forceNodeSize=function(e){return arguments.length(n=function==typeof eet(+e),b(),m)n},m.nodeSize=m.forceNodeSize,m.forceCharge=function(e){return arguments.length(o=function==typeof eet(+e),b(),m)o},m.forceLinkDistance=function(e){return arguments.length(i=function==typeof eet(+e),b(),m)i},m.forceLinkStrength=function(e){return arguments.length(a=function==typeof eet(+e),b(),m)a},m.offset=function(t){return arguments.length(u=t,m)u},m.getFocis=w,m}var Ct=r(31),zt=r.n(Ct),Ft=r(19),Tt=r.n(Ft),Dt=LAYOUT_RUN,qt=LAYOUT_END,Lt=LAYOUT_ERROR,Bt=LAYOUT_TICK,Vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.nodeStrength=null,e.edgeStrength=null,e.preventOverlap=!1,e.clusterNodeStrength=null,e.clusterEdgeStrength=null,e.clusterEdgeDistance=null,e.clusterNodeSize=null,e.clusterFociStrength=null,e.linkDistance=50,e.alphaDecay=.028,e.alphaMin=.001,e.alpha=.3,e.collideStrength=1,e.workerEnabled=!1,e.tick=function(){},e.onLayoutEnd=function(){},e.onTick=function(){},e.ticking=void 0,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],nodeStrengthnull,edgeStrengthnull,preventOverlap!1,nodeSizevoid 0,nodeSpacingvoid 0,linkDistance50,forceSimulationnull,alphaDecay.028,alphaMin.001,alpha.3,collideStrength1,clustering!1,clusterNodeStrength-1,clusterEdgeStrength.1,clusterEdgeDistance100,clusterFociStrength.8,clusterNodeSize10,tickfunction(){},onLayoutEndfunction(){},onTickfunction(){},workerEnabled!1}},e.prototype.init=function(t){this.nodes=t.nodes[];var e=t.edges[];this.edges=e.map((function(t){var e={},r=[targetNode,sourceNode,startPoint,endPoint];return Object.keys(t).forEach((function(n){r.indexOf(n)-1(e[n]=t[n])})),e})),this.ticking=!1},e.prototype.execute=function(t){var e=this,r=e.nodes,n=e.edges;if(!e.ticking){var o=e.forceSimulation,i=e.alphaMin,a=e.alphaDecay,u=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(r),e.clusterForce.links(n)),o.nodes(r),e.edgeForce.links(n)),e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var s=St();if(e.nodeStrength&&s.strength(e.nodeStrength),o=_t().nodes(r),e.clustering){var c=Pt();c.centerX(e.center[0]).centerY(e.center[1]).template(force).strength(e.clusterFociStrength),n&&c.links(n),r&&c.nodes(r),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force(group,c)}if(o.force(center,function(t,e){var r,n=1;function o(){var o,i,a=r.length,u=0,s=0;for(o=0;oa;++o)u+=(i=r[o]).x,s+=i.y;for(u=(ua-t)n,s=(sa-e)n,o=0;oa;++o)(i=r[o]).x-=u,i.y-=s}return null==t&&(t=0),null==e&&(e=0),o.initialize=function(t){r=t},o.x=function(e){return arguments.length(t=+e,o)t},o.y=function(t){return arguments.length(e=+t,o)e},o.strength=function(t){return arguments.length(n=+t,o)n},o}(e.center[0],e.center[1])).force(charge,s).alpha(u).alphaDecay(a).alphaMin(i),e.preventOverlap&&e.overlapProcess(o),n){var f=Ot().id((function(t){return t.id})).links(n);e.edgeStrength&&f.strength(e.edgeStrength),e.linkDistance&&f.distance(e.linkDistance),e.edgeForce=f,o.force(link,f)}if(e.workerEnabled&&!Ut()&&(e.workerEnabled=!1,console.warn(workerEnabled option is only supported when running in web worker.)),e.workerEnabled){o.stop();for(var h=function(t){var e=t.alphaMin(),r=t.alphaTarget(),n=t.alpha(),o=Math.log((e-r)(n-r))Math.log(1-t.alphaDecay());return Math.ceil(o)}(o),l=1;l=h;l++)o.tick(),postMessage({typeBt,currentTickl,totalTicksh,nodesr},void 0);e.ticking=!1}else o.on(tick,(function(){e.tick()})).on(end,(function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()})),e.ticking=!0;e.forceSimulation=o,e.ticking=!0}catch(t){e.ticking=!1,console.warn(t)}}},e.prototype.overlapProcess=function(t){var e,r,n=this.nodeSize,o=this.nodeSpacing,i=this.collideStrength;if(r=Tt()(o)function(){return o}zt()(o)ofunction(){return 0},n)if(zt()(n))e=function(t){return n(t)+r(t)};else if(j()(n)){var a=(n[0]n[1]n[0]n[1])2;e=function(t){return a+r(t)}}else if(Tt()(n)){var u=n2;e=function(t){return u+r(t)}}else e=function(){return 10};else e=function(t){return t.sizej()(t.size)(t.size[0]t.size[1]t.size[0]t.size[1])2+r(t)t.size2+r(t)10+r(t)};t.force(collisionForce,Rt(e).strength(i))},e.prototype.updateCfg=function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,s()(this,t)},e.prototype.destroy=function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0},e}(c);function Ut(){returnundefined!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}var Yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.maxIteration=500,e.gravity=10,e.clustering=!1,e.clusterGravity=10,e.linkDistance=50,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1300),e.alphaTarget=0,e.velocityDecay=.6,e.linkStrength=1,e.nodeStrength=30,e.preventOverlap=!1,e.collideStrength=1,e.optimizeRangeFactor=1,e.tick=function(){},e.nodes=[],e.edges=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.nodeIdxMap={},e}return a(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration1e3,center[0,0],gravity10,clustering!1,clusterGravity10,preventOverlap!1,nodeSpacingvoid 0,collideStrength10}},e.prototype.execute=function(){var t=this.nodes,e=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);var r={},n={};t.forEach((function(t,e){r[t.id]=t,n[t.id]=e})),this.nodeMap=r,this.nodeIdxMap=n,this.run()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.edges,n=t.maxIteration;t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight);var o,i=t.center,a=t.velocityDecay,u=t.clustering;t.initVals(),u&&(o=t.getClusterMap());for(var s=function(n){var i=[];e.forEach((function(t,e){i[e]={x0,y0}})),t.applyCalculate(e,r,i),u&&t.applyClusterForce(o,i),e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=i[e].xa,t.y+=i[e].ya)})),c.alpha+=(c.alphaTarget-c.alpha)c.alphaDecay,t.tick()},c=this,f=0;fn;f++)s();var h=[0,0];e.forEach((function(t){k(t.x)&&k(t.y)&&(h[0]+=t.x,h[1]+=t.y)})),h[0]=e.length,h[1]=e.length;var l=[i[0]-h[0],i[1]-h[1]];e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=l[0],t.y+=l[1])}))},e.prototype.initVals=function(){for(var t=this.edges,e={},r=0;rt.length;++r)e[t[r].source]e[t[r].source]++e[t[r].source]=1,e[t[r].target]e[t[r].target]++e[t[r].target]=1;var n=[];for(r=0;rt.length;++r)n[r]=e[t[r].source](e[t[r].source]+e[t[r].target]);this.bias=n;var o,i,a=this.nodeSize,u=this.nodeSpacing;if(i=k(u)function(){return u}g(u)ufunction(){return 0},a)if(g(a))o=function(t){return a(t)+i(t)};else if(y(a)){var s=(a[0]a[1]a[0]a[1])2;o=function(t){return s+i(t)}}else if(k(a)){var c=a2;o=function(t){return c+i(t)}}else o=function(){return 10};else o=function(t){return t.sizey(t.size)(t.size[0]t.size[1]t.size[0]t.size[1])2+i(t)t.size2+i(t)10+i(t)};this.nodeSize=o;var f,h=this.linkDistance;h(h=50),k(h)&&(f=function(t){return h}),this.linkDistance=f;var l,d=this.linkStrength;d(d=1),k(d)&&(l=function(t){return d}),this.linkStrength=l;var p,v=this.nodeStrength;v(v=30),k(v)&&(p=function(t){return v}),this.nodeStrength=p},e.prototype.getClusterMap=function(){var t=this.nodes,e={};for(var r in t.forEach((function(t){if(void 0===e[t.cluster]){var r={namet.cluster,cx0,cy0,count0};e[t.cluster]=r}var n=e[t.cluster];k(t.x)&&(n.cx+=t.x),k(t.y)&&(n.cy+=t.y),n.count++})),e)e[r].cx=e[r].count,e[r].cy=e[r].count;return e},e.prototype.applyClusterForce=function(t,e){var r=this.gravity,n=this.nodes,o=this.clusterGravityr,i=this.alpha;for(var a in n.forEach((function(r,n){if(k(r.x)&&k(r.y)){var a=t[r.cluster],u=r.x-a.cx,s=r.y-a.cy,c=Math.sqrt(uu+ss);e[n].x-=uoic,e[n].y-=soic}})),t)t[a].cx=0,t[a].cy=0,t[a].count=0;for(var a in n.forEach((function(e){var r=t[e.cluster];k(e.x)&&(r.cx+=e.x),k(e.y)&&(r.cy+=e.y),r.count++})),t)t[a].cx=t[a].count,t[a].cy=t[a].count},e.prototype.applyCalculate=function(t,e,r){var n={};t.forEach((function(e,o){r[o]={x0,y0},t.forEach((function(t,r){if(!(or)){var i=e.x-t.x,a=e.y-t.y,u=ii+aa;u1&&(u=Math.sqrt(u)),0===i&&(u+=(i=.01Math.random())i),0===a&&(u+=(a=.01Math.random())a);var s=Math.sqrt(u);n[e.id+-+t.id]={vxi,vya,vlu,sqrtVls},n[t.id+-+e.id]={vx-i,vy-a,vlu,sqrtVls}}}))})),this.calRepulsive(t,r,n),this.calAttractive(e,r,n)},e.prototype.calRepulsive=function(t,e,r){var n=this.widththis.optimizeRangeFactorthis.widththis.optimizeRangeFactor,o=this.nodeStrength,i=this.alpha,a=this.collideStrength,u=this.preventOverlap,s=this.nodeSize;t.forEach((function(c,f){t.forEach((function(t,h){if(f!==h&&k(c.x)&&k(t.x)&&k(c.y)&&k(t.y)){var l=r[c.id+-+t.id],d=l.vl,p=l.vx,v=l.vy;if(!(dn)&&(e[f].x+=po(t)id,e[f].y+=vo(t)id,u&&fh)){var g=s(c),y=s(t),m=g+y;if(dmm){var b=r[c.id+-+t.id].sqrtVl,w=(m-b)ba,x=yy(gg+yy),M=pw,_=vw;e[f].x+=Mx,e[f].y+=_x,x=1-x,e[h].x-=Mx,e[h].y-=_x}}}}))}))},e.prototype.calAttractive=function(t,e,r){var n=this,o=this.linkDistance,i=this.alpha,a=this.linkStrength,u=this.bias;t.forEach((function(t,s){if(t.source&&t.target){var c=n.nodeIdxMap[t.source],f=n.nodeIdxMap[t.target];if(c!==f){var h=n.nodeMap[t.source],l=n.nodeMap[t.target];if(k(l.x)&&k(h.x)&&k(l.y)&&k(h.y)){var d=r[t.target+-+t.source],p=(d.vl,d.sqrtVl),v=d.vx,g=d.vy,y=(p-o(t))pia(t),m=vy,b=gy,w=u[s];e[f].x-=mw,e[f].y-=bw,e[c].x+=m(1-w),e[c].y+=b(1-w)}}}}))},e}(c),Ht=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.maxIteration=1e3,e.gravity=10,e.speed=1,e.clustering=!1,e.clusterGravity=10,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e}return a(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration1e3,center[0,0],gravity10,speed1,clustering!1,clusterGravity10}},e.prototype.execute=function(){var t=this,e=this.nodes,r=this.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=r[0],void(e[0].y=r[1]);var n={},o={};e.forEach((function(e,r){k(e.x)(e.x=Math.random()t.width),k(e.y)(e.y=Math.random()t.height),n[e.id]=e,o[e.id]=r})),this.nodeMap=n,this.nodeIdxMap=o,this.run()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.edges,n=t.maxIteration;t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight);var o=t.center,i=t.width10,a=Math.sqrt(t.widtht.height(e.length+1)),u=t.gravity,s=t.speed,c=t.clustering,f={};if(c)for(var h in e.forEach((function(t){if(void 0===f[t.cluster]){var e={namet.cluster,cx0,cy0,count0};f[t.cluster]=e}var r=f[t.cluster];k(t.x)&&(r.cx+=t.x),k(t.y)&&(r.cy+=t.y),r.count++})),f)f[h].cx=f[h].count,f[h].cy=f[h].count;for(var l=function(n){var h=[];if(e.forEach((function(t,e){h[e]={x0,y0}})),t.applyCalculate(e,r,h,a),c){var l=t.clusterGravityu;for(var d in e.forEach((function(t,e){if(k(t.x)&&k(t.y)){var r=f[t.cluster],n=Math.sqrt((t.x-r.cx)(t.x-r.cx)+(t.y-r.cy)(t.y-r.cy)),o=al;h[e].x-=o(t.x-r.cx)n,h[e].y-=o(t.y-r.cy)n}})),f)f[d].cx=0,f[d].cy=0,f[d].count=0;for(var d in e.forEach((function(t){var e=f[t.cluster];k(t.x)&&(e.cx+=t.x),k(t.y)&&(e.cy+=t.y),e.count++})),f)f[d].cx=f[d].count,f[d].cy=f[d].count}e.forEach((function(t,e){if(k(t.x)&&k(t.y)){var r=.01au;h[e].x-=r(t.x-o[0]),h[e].y-=r(t.y-o[1])}})),e.forEach((function(t,e){if(k(t.x)&&k(t.y)){var r=Math.sqrt(h[e].xh[e].x+h[e].yh[e].y);if(r0){var n=Math.min(i(s800),r);t.x+=h[e].xrn,t.y+=h[e].yrn}}}))},d=0;dn;d++)l()},e.prototype.applyCalculate=function(t,e,r,n){this.calRepulsive(t,r,n),this.calAttractive(e,r,n)},e.prototype.calRepulsive=function(t,e,r){t.forEach((function(n,o){e[o]={x0,y0},t.forEach((function(t,i){if(o!==i&&k(n.x)&&k(t.x)&&k(n.y)&&k(t.y)){var a=n.x-t.x,u=n.y-t.y,s=aa+uu;if(0===s){s=1;var c=oi1-1;a=.01c,u=.01c}var f=rrs;e[o].x+=af,e[o].y+=uf}}))}))},e.prototype.calAttractive=function(t,e,r){var n=this;t.forEach((function(t){if(t.source&&t.target){var o=n.nodeIdxMap[t.source],i=n.nodeIdxMap[t.target];if(o!==i){var a=n.nodeMap[t.source],u=n.nodeMap[t.target];if(k(u.x)&&k(a.x)&&k(u.y)&&k(a.y)){var s=u.x-a.x,c=u.y-a.y,f=Math.sqrt(ss+cc),h=ffr;e[i].x-=sfh,e[i].y-=cfh,e[o].x+=sfh,e[o].y+=cfh}}}}))},e}(c),Wt=(r(54),r(130)),Gt=(function(t){function e(e,r){var n=t.call(this,e,r)this;return n.item=r.item,n.canvasX=r.canvasX,n.canvasY=r.canvasY,n.wheelDelta=r.wheelDelta,n.detail=r.detail,n}a(e,t)}(r.n(Wt).a),function(t){return Number.isNaN(Number(t))}),$t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.begin=[0,0],e.preventOverlap=!0,e.preventOverlapPadding=10,e.condense=!1,e.sortBy=degree,e.nodeSize=30,e.nodes=[],e.edges=[],e.center=[0,0],e.width=300,e.height=300,e.row=0,e.col=0,e.cellWidth=0,e.cellHeight=0,e.cellUsed={},e.id2manPos={},e}return a(e,t),e.prototype.getDefaultCfg=function(){return{begin[0,0],preventOverlap!0,preventOverlapPadding10,condense!1,rowsvoid 0,colsvoid 0,positionvoid 0,sortBydegree,nodeSize30}},e.prototype.execute=function(){var t=this,e=t.nodes,r=e.length,n=t.center;if(0!==r){if(1===r)return e[0].x=n[0],void(e[0].y=n[1]);var o=t.edges,i=[];e.forEach((function(t){i.push(t)}));var a={};if(i.forEach((function(t,e){a[t.id]=e})),(degree===t.sortBy!C()(t.sortBy)void 0===i[0][t.sortBy])&&(t.sortBy=degree,Gt(e[0].degree))){var u=N(i.length,a,o);i.forEach((function(t,e){t.degree=u[e]}))}i.sort((function(e,r){return r[t.sortBy]-e[t.sortBy]})),t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight);var s=t.rows,c=null!=t.colst.colst.columns;if(t.cells=r,null!=s&&null!=c(t.rows=s,t.cols=c)null!=s&&null==c(t.rows=s,t.cols=Math.ceil(t.cellst.rows))null==s&&null!=c(t.cols=c,t.rows=Math.ceil(t.cellst.cols))(t.splits=Math.sqrt(t.cellst.heightt.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.widtht.heightt.splits)),t.colst.rowst.cells)((h=t.small())-1)(f=t.large())=t.cellst.small(h-1)(f-1)h=t.cells&&t.large(f-1);else for(;t.colst.rowst.cells;){var f,h=t.small();((f=t.large())+1)h=t.cellst.large(f+1)t.small(h+1)}t.cellWidth=t.widtht.cols,t.cellHeight=t.heightt.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&i.forEach((function(e){var r,n;e.x&&e.y(e.x=0,e.y=0),y(e.size)(r=e.size[0],n=e.size[1])k(e.size)&&(r=e.size,n=e.size),void 0!==r&&void 0!==n(y(t.nodeSize)(r=t.nodeSize[0],n=t.nodeSize[1])k(t.nodeSize)(r=t.nodeSize,n=t.nodeSize)(r=30,n=30));var o=t.preventOverlapPadding,i=r+o,a=n+o;t.cellWidth=Math.max(t.cellWidth,i),t.cellHeight=Math.max(t.cellHeight,a)})),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var l=0;li.length;l++){var d=i[l],p=void 0;if(t.position&&(p=t.position(d)),p&&(void 0!==p.rowvoid 0!==p.col)){var v={rowp.row,colp.col};if(void 0===v.col)for(v.col=0;t.used(v.row,v.col);)v.col++;else if(void 0===v.row)for(v.row=0;t.used(v.row,v.col);)v.row++;t.id2manPos[d.id]=v,t.use(v.row,v.col)}t.getPos(d)}}},e.prototype.small=function(t){var e,r=this.rows5,n=this.cols5;null==te=Math.min(r,n)Math.min(r,n)===this.rowsthis.rows=tthis.cols=t;return e},e.prototype.large=function(t){var e,r=this.rows5,n=this.cols5;null==te=Math.max(r,n)Math.max(r,n)===this.rowsthis.rows=tthis.cols=t;return e},e.prototype.used=function(t,e){return this.cellUsed[c-+t+-+e]!1},e.prototype.use=function(t,e){this.cellUsed[c-+t+-+e]=!0},e.prototype.moveToNextCell=function(){var t=this.cols5;this.col++,this.col=t&&(this.col=0,this.row++)},e.prototype.getPos=function(t){var e,r,n=this.begin,o=this.cellWidth,i=this.cellHeight,a=this.id2manPos[t.id];if(a)e=a.colo+o2+n[0],r=a.rowi+i2+n[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();e=this.colo+o2+n[0],r=this.rowi+i2+n[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=e,t.y=r},e}(c),Xt=Object.prototype.toString;function Jt(t){return Xt.call(t).endsWith(Array])}var Qt=function(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(!Jt(t))throw new TypeError(input must be an array);if(0===t.length)throw new TypeError(input must not be empty);var r=e.fromIndex,n=void 0===r0r,o=e.toIndex,i=void 0===ot.lengtho;if(n0n=t.length!Number.isInteger(n))throw new Error(fromIndex must be a positive integer smaller than length);if(i=nit.length!Number.isInteger(i))throw new Error(toIndex must be an integer greater than fromIndex and at most equal to length);for(var a=t[n],u=n+1;ui;u++)t[u]a&&(a=t[u]);return a};var Kt=function(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(!Jt(t))throw new TypeError(input must be an array);if(0===t.length)throw new TypeError(input must not be empty);var r=e.fromIndex,n=void 0===r0r,o=e.toIndex,i=void 0===ot.lengtho;if(n0n=t.length!Number.isInteger(n))throw new Error(fromIndex must be a positive integer smaller than length);if(i=nit.length!Number.isInteger(i))throw new Error(toIndex must be an integer greater than fromIndex and at most equal to length);for(var a=t[n],u=n+1;ui;u++)t[u]a&&(a=t[u]);return a};var Zt=function(t){var e,r=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(!Jt(t))throw new TypeError(input must be an array);if(0===t.length)throw new TypeError(input must not be empty);if(void 0!==r.output){if(!Jt(r.output))throw new TypeError(output option must be an array if specified);e=r.output}else e=new Array(t.length);var n=Kt(t),o=Qt(t);if(n===o)throw new RangeError(minimum and maximum input values are equal. Cannot rescale a constant array);var i=r.min,a=void 0===ir.autoMinMaxn0i,u=r.max,s=void 0===ur.autoMinMaxo1u;if(a=s)throw new RangeError(min option must be smaller than max option);for(var c=(s-a)(o-n),f=0;ft.length;f++)e[f]=(t[f]-n)c+a;return e},te= .repeat(2),ee= .repeat(4);function re(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{},r=e.maxRows,n=void 0===r15r,o=e.maxColumns,i=void 0===o10o,a=e.maxNumSize,u=void 0===a8a;return.concat(t.constructor.name, {n).concat(te,[n).concat(ee).concat(ne(t,n,i,u),n).concat(te,]n).concat(te,rows ).concat(t.rows,n).concat(te,columns ).concat(t.columns,n})}function ne(t,e,r,n){for(var o=t.rows,i=t.columns,a=Math.min(o,e),u=Math.min(i,r),s=[],c=0;ca;c++){for(var f=[],h=0;hu;h++)f.push(oe(t.get(c,h),n));s.push(.concat(f.join( )))}return u!==i&&(s[s.length-1]+= ... .concat(i-r, more columns)),a!==o&&s.push(... .concat(o-e, more rows)),s.join(n.concat(ee))}function oe(t,e){var r=String(t);if(r.length=e)return r.padEnd(e, );var n=t.toPrecision(e-2);if(n.length=e)return n;var o=t.toExponential(e-2),i=o.indexOf(e),a=o.slice(i);return o.slice(0,e-a.length)+a}function ie(t){return(ie=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}function ae(t,e,r){var n=rt.rowst.rows-1;if(e0en)throw new RangeError(Row index out of range)}function ue(t,e,r){var n=rt.columnst.columns-1;if(e0en)throw new RangeError(Column index out of range)}function se(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError(vector size must be the same as the number of columns);return e}function ce(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError(vector size must be the same as the number of rows);return e}function fe(t,e){if(object!==ie(e))throw new TypeError(unexpected type for row indices);if(e.some((function(e){return e0e=t.rows})))throw new RangeError(row indices are out of range);return Array.isArray(e)(e=Array.from(e)),e}function he(t,e){if(object!==ie(e))throw new TypeError(unexpected type for column indices);if(e.some((function(e){return e0e=t.columns})))throw new RangeError(column indices are out of range);return Array.isArray(e)(e=Array.from(e)),e}function le(t,e,r,n,o){if(5!==arguments.length)throw new RangeError(expected 4 arguments);if(pe(startRow,e),pe(endRow,r),pe(startColumn,n),pe(endColumn,o),ernoe0e=t.rowsr0r=t.rowsn0n=t.columnso0o=t.columns)throw new RangeError(Submatrix indices are out of range)}function de(t){for(var e=arguments.length1&&void 0!==arguments[1]arguments[1]0,r=[],n=0;nt;n++)r.push(e);return r}function pe(t,e){if(number!=typeof e)throw new TypeError(.concat(t, must be a number))}function ve(t,e,r){for(var n=t.rows,o=t.columns,i=[],a=0;an;a++){for(var u=0,s=0,c=0,f=0;fo;f++)u+=c=t.get(a,f)-r[a],s+=cc;ei.push((s-uuo)(o-1))i.push((s-uuo)o)}return i}function ge(t,e,r){for(var n=t.rows,o=t.columns,i=[],a=0;ao;a++){for(var u=0,s=0,c=0,f=0;fn;f++)u+=c=t.get(f,a)-r[a],s+=cc;ei.push((s-uun)(n-1))i.push((s-uun)n)}return i}function ye(t,e,r){for(var n=t.rows,o=t.columns,i=no,a=0,u=0,s=0,c=0;cn;c++)for(var f=0;fo;f++)a+=s=t.get(c,f)-r,u+=ss;return e(u-aai)(i-1)(u-aai)i}function me(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)-e[r])}function be(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)-e[n])}function we(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)-e)}function xe(t){for(var e=[],r=0;rt.rows;r++){for(var n=0,o=0;ot.columns;o++)n+=Math.pow(t.get(r,o),2)(t.columns-1);e.push(Math.sqrt(n))}return e}function Me(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)e[r])}function ke(t){for(var e=[],r=0;rt.columns;r++){for(var n=0,o=0;ot.rows;o++)n+=Math.pow(t.get(o,r),2)(t.rows-1);e.push(Math.sqrt(n))}return e}function _e(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)e[n])}function Se(t){for(var e=t.size-1,r=0,n=0;nt.columns;n++)for(var o=0;ot.rows;o++)r+=Math.pow(t.get(o,n),2)e;return Math.sqrt(r)}function Ee(t,e){for(var r=0;rt.rows;r++)for(var n=0;nt.columns;n++)t.set(r,n,t.get(r,n)e)}function je(t,e){return(je=Object.setPrototypeOffunction(t,e){return t.__proto__=e,t})(t,e)}function Ae(t){var e=function(){if(undefined==typeof Reflect!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(function==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ne(t);if(e){var o=Ne(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Oe(this,r)}}function Oe(t,e){return!eobject!==Ie(e)&&function!=typeof efunction(t){if(void 0===t)throw new ReferenceError(this hasn't been initialised - super() hasn't been called);return t}(t)e}function Ne(t){return(Ne=Object.setPrototypeOfObject.getPrototypeOffunction(t){return t.__proto__Object.getPrototypeOf(t)})(t)}function Ie(t){return(Ie=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}function Re(t,e){if(!(t instanceof e))throw new TypeError(Cannot call a class as a function)}function Pe(t,e){for(var r=0;re.length;r++){var n=e[r];n.enumerable=n.enumerable!1,n.configurable=!0,valuein n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ce(t,e,r){return e&&Pe(t.prototype,e),r&&Pe(t,r),t}var ze=function(){function t(){Re(this,t)}return Ce(t,[{keyapply,valuefunction(t){if(function!=typeof t)throw new TypeError(callback must be a function);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)t.call(this,e,r);return this}},{keyto1DArray,valuefunction(){for(var t=[],e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)t.push(this.get(e,r));return t}},{keyto2DArray,valuefunction(){for(var t=[],e=0;ethis.rows;e++){t.push([]);for(var r=0;rthis.columns;r++)t[e].push(this.get(e,r))}return t}},{keytoJSON,valuefunction(){return this.to2DArray()}},{keyisRowVector,valuefunction(){return 1===this.rows}},{keyisColumnVector,valuefunction(){return 1===this.columns}},{keyisVector,valuefunction(){return 1===this.rows1===this.columns}},{keyisSquare,valuefunction(){return this.rows===this.columns}},{keyisSymmetric,valuefunction(){if(this.isSquare()){for(var t=0;tthis.rows;t++)for(var e=0;e=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{keyisEchelonForm,valuefunction(){for(var t=0,e=0,r=-1,n=!0,o=!1;tthis.rows&&n;){for(e=0,o=!1;ethis.columns&&!1===o;)0===this.get(t,e)e++1===this.get(t,e)&&er(o=!0,r=e)(n=!1,o=!0);t++}return n}},{keyisReducedEchelonForm,valuefunction(){for(var t=0,e=0,r=-1,n=!0,o=!1;tthis.rows&&n;){for(e=0,o=!1;ethis.columns&&!1===o;)0===this.get(t,e)e++1===this.get(t,e)&&er(o=!0,r=e)(n=!1,o=!0);for(var i=e+1;ithis.rows;i++)0!==this.get(t,i)&&(n=!1);t++}return n}},{keyechelonForm,valuefunction(){for(var t=this.clone(),e=0,r=0;et.rows&&rt.columns;){for(var n=e,o=e;ot.rows;o++)t.get(o,r)t.get(n,r)&&(n=o);if(0===t.get(n,r))r++;else{t.swapRows(e,n);for(var i=t.get(e,r),a=r;at.columns;a++)t.set(e,a,t.get(e,a)i);for(var u=e+1;ut.rows;u++){var s=t.get(u,r)t.get(e,r);t.set(u,r,0);for(var c=r+1;ct.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)s)}e++,r++}}return t}},{keyreducedEchelonForm,valuefunction(){for(var t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;n=0;)if(0===t.maxRow(n))n--;else{for(var o=0,i=!1;or&&!1===i;)1===t.get(n,o)i=!0o++;for(var a=0;an;a++)for(var u=t.get(a,o),s=o;se;s++){var c=t.get(a,s)-ut.get(n,s);t.set(a,s,c)}n--}return t}},{keyset,valuefunction(){throw new Error(set method is unimplemented)}},{keyget,valuefunction(){throw new Error(get method is unimplemented)}},{keyrepeat,valuefunction(){var t=arguments.length0&&void 0!==arguments[0]arguments[0]{};if(object!==Ie(t))throw new TypeError(options must be an object);var e=t.rows,r=void 0===e1e,n=t.columns,o=void 0===n1n;if(!Number.isInteger(r)r=0)throw new TypeError(rows must be a positive integer);if(!Number.isInteger(o)o=0)throw new TypeError(columns must be a positive integer);for(var i=new qe(this.rowsr,this.columnso),a=0;ar;a++)for(var u=0;uo;u++)i.setSubMatrix(this,this.rowsa,this.columnsu);return i}},{keyfill,valuefunction(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,t);return this}},{keyneg,valuefunction(){return this.mulS(-1)}},{keygetRow,valuefunction(t){ae(this,t);for(var e=[],r=0;rthis.columns;r++)e.push(this.get(t,r));return e}},{keygetRowVector,valuefunction(t){return qe.rowVector(this.getRow(t))}},{keysetRow,valuefunction(t,e){ae(this,t),e=se(this,e);for(var r=0;rthis.columns;r++)this.set(t,r,e[r]);return this}},{keyswapRows,valuefunction(t,e){ae(this,t),ae(this,e);for(var r=0;rthis.columns;r++){var n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}},{keygetColumn,valuefunction(t){ue(this,t);for(var e=[],r=0;rthis.rows;r++)e.push(this.get(r,t));return e}},{keygetColumnVector,valuefunction(t){return qe.columnVector(this.getColumn(t))}},{keysetColumn,valuefunction(t,e){ue(this,t),e=ce(this,e);for(var r=0;rthis.rows;r++)this.set(r,t,e[r]);return this}},{keyswapColumns,valuefunction(t,e){ue(this,t),ue(this,e);for(var r=0;rthis.rows;r++){var n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}},{keyaddRowVector,valuefunction(t){t=se(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}},{keysubRowVector,valuefunction(t){t=se(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}},{keymulRowVector,valuefunction(t){t=se(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t[r]);return this}},{keydivRowVector,valuefunction(t){t=se(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t[r]);return this}},{keyaddColumnVector,valuefunction(t){t=ce(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}},{keysubColumnVector,valuefunction(t){t=ce(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}},{keymulColumnVector,valuefunction(t){t=ce(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t[e]);return this}},{keydivColumnVector,valuefunction(t){t=ce(this,t);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t[e]);return this}},{keymulRow,valuefunction(t,e){ae(this,t);for(var r=0;rthis.columns;r++)this.set(t,r,this.get(t,r)e);return this}},{keymulColumn,valuefunction(t,e){ue(this,t);for(var r=0;rthis.rows;r++)this.set(r,t,this.get(r,t)e);return this}},{keymax,valuefunction(){for(var t=this.get(0,0),e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.get(e,r)t&&(t=this.get(e,r));return t}},{keymaxIndex,valuefunction(){for(var t=this.get(0,0),e=[0,0],r=0;rthis.rows;r++)for(var n=0;nthis.columns;n++)this.get(r,n)t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}},{keymin,valuefunction(){for(var t=this.get(0,0),e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.get(e,r)t&&(t=this.get(e,r));return t}},{keyminIndex,valuefunction(){for(var t=this.get(0,0),e=[0,0],r=0;rthis.rows;r++)for(var n=0;nthis.columns;n++)this.get(r,n)t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}},{keymaxRow,valuefunction(t){ae(this,t);for(var e=this.get(t,0),r=1;rthis.columns;r++)this.get(t,r)e&&(e=this.get(t,r));return e}},{keymaxRowIndex,valuefunction(t){ae(this,t);for(var e=this.get(t,0),r=[t,0],n=1;nthis.columns;n++)this.get(t,n)e&&(e=this.get(t,n),r[1]=n);return r}},{keyminRow,valuefunction(t){ae(this,t);for(var e=this.get(t,0),r=1;rthis.columns;r++)this.get(t,r)e&&(e=this.get(t,r));return e}},{keyminRowIndex,valuefunction(t){ae(this,t);for(var e=this.get(t,0),r=[t,0],n=1;nthis.columns;n++)this.get(t,n)e&&(e=this.get(t,n),r[1]=n);return r}},{keymaxColumn,valuefunction(t){ue(this,t);for(var e=this.get(0,t),r=1;rthis.rows;r++)this.get(r,t)e&&(e=this.get(r,t));return e}},{keymaxColumnIndex,valuefunction(t){ue(this,t);for(var e=this.get(0,t),r=[0,t],n=1;nthis.rows;n++)this.get(n,t)e&&(e=this.get(n,t),r[0]=n);return r}},{keyminColumn,valuefunction(t){ue(this,t);for(var e=this.get(0,t),r=1;rthis.rows;r++)this.get(r,t)e&&(e=this.get(r,t));return e}},{keyminColumnIndex,valuefunction(t){ue(this,t);for(var e=this.get(0,t),r=[0,t],n=1;nthis.rows;n++)this.get(n,t)e&&(e=this.get(n,t),r[0]=n);return r}},{keydiag,valuefunction(){for(var t=Math.min(this.rows,this.columns),e=[],r=0;rt;r++)e.push(this.get(r,r));return e}},{keynorm,valuefunction(){var t=arguments.length0&&void 0!==arguments[0]arguments[0]frobenius,e=0;if(max===t)return this.max();if(frobenius===t){for(var r=0;rthis.rows;r++)for(var n=0;nthis.columns;n++)e+=this.get(r,n)this.get(r,n);return Math.sqrt(e)}throw new RangeError(unknown norm type .concat(t))}},{keycumulativeSum,valuefunction(){for(var t=0,e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}},{keydot,valuefunction(e){t.isMatrix(e)&&(e=e.to1DArray());var r=this.to1DArray();if(r.length!==e.length)throw new RangeError(vectors do not have the same size);for(var n=0,o=0;or.length;o++)n+=r[o]e[o];return n}},{keymmul,valuefunction(t){t=qe.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.columns,o=new qe(e,n),i=new Float64Array(r),a=0;an;a++){for(var u=0;ur;u++)i[u]=t.get(u,a);for(var s=0;se;s++){for(var c=0,f=0;fr;f++)c+=this.get(s,f)i[f];o.set(s,a,c)}}return o}},{keystrassen2x2,valuefunction(t){t=qe.checkMatrix(t);var e=new qe(2,2),r=this.get(0,0),n=t.get(0,0),o=this.get(0,1),i=t.get(0,1),a=this.get(1,0),u=t.get(1,0),s=this.get(1,1),c=t.get(1,1),f=(r+s)(n+c),h=(a+s)n,l=r(i-c),d=s(u-n),p=(r+o)c,v=f+d-p+(o-s)(u+c),g=l+p,y=h+d,m=f-h+l+(a-r)(n+i);return e.set(0,0,v),e.set(0,1,g),e.set(1,0,y),e.set(1,1,m),e}},{keystrassen3x3,valuefunction(t){t=qe.checkMatrix(t);var e=new qe(3,3),r=this.get(0,0),n=this.get(0,1),o=this.get(0,2),i=this.get(1,0),a=this.get(1,1),u=this.get(1,2),s=this.get(2,0),c=this.get(2,1),f=this.get(2,2),h=t.get(0,0),l=t.get(0,1),d=t.get(0,2),p=t.get(1,0),v=t.get(1,1),g=t.get(1,2),y=t.get(2,0),m=t.get(2,1),b=t.get(2,2),w=(r-i)(-l+v),x=(-r+i+a)(h-l+v),M=(i+a)(-h+l),k=rh,_=(-r+s+c)(h-d+g),S=(-r+s)(d-g),E=(s+c)(-h+d),j=(-o+c+f)(v+y-m),A=(o-f)(v-m),O=oy,N=(c+f)(-y+m),I=(-o+a+u)(g+y-b),R=(o-u)(g-b),P=(a+u)(-y+b),C=k+O+np,z=(r+n+o-i-a-c-f)v+x+M+k+j+O+N,F=k+_+E+(r+n+o-a-u-s-c)g+O+I+P,T=w+a(-h+l+p-v-g-y+b)+x+k+O+I+R,D=w+x+M+k+um,q=O+I+R+P+id,L=k+_+S+c(-h+d+p-v-g-y+m)+j+A+O,B=j+A+O+N+sl,V=k+_+S+E+fb;return e.set(0,0,C),e.set(0,1,z),e.set(0,2,F),e.set(1,0,T),e.set(1,1,D),e.set(1,2,q),e.set(2,0,L),e.set(2,1,B),e.set(2,2,V),e}},{keymmulStrassen,valuefunction(e){e=qe.checkMatrix(e);var r=this.clone(),n=r.rows,o=r.columns,i=e.rows,a=e.columns;function u(e,r,n){var o=e.rows,i=e.columns;if(o===r&&i===n)return e;var a=t.zeros(r,n);return a=a.setSubMatrix(e,0,0)}o!==i&&console.warn(Multiplying .concat(n, x ).concat(o, and ).concat(i, x ).concat(a, matrix dimensions do not match.));var s=Math.max(n,i),c=Math.max(o,a);return function e(r,n,o,i){if(o=512i=512)return r.mmul(n);o%2==1&&i%2==1(r=u(r,o+1,i+1),n=u(n,o+1,i+1))o%2==1(r=u(r,o+1,i),n=u(n,o+1,i))i%2==1&&(r=u(r,o,i+1),n=u(n,o,i+1));var a=parseInt(r.rows2,10),s=parseInt(r.columns2,10),c=r.subMatrix(0,a-1,0,s-1),f=n.subMatrix(0,a-1,0,s-1),h=r.subMatrix(0,a-1,s,r.columns-1),l=n.subMatrix(0,a-1,s,n.columns-1),d=r.subMatrix(a,r.rows-1,0,s-1),p=n.subMatrix(a,n.rows-1,0,s-1),v=r.subMatrix(a,r.rows-1,s,r.columns-1),g=n.subMatrix(a,n.rows-1,s,n.columns-1),y=e(t.add(c,v),t.add(f,g),a,s),m=e(t.add(d,v),f,a,s),b=e(c,t.sub(l,g),a,s),w=e(v,t.sub(p,f),a,s),x=e(t.add(c,h),g,a,s),M=e(t.sub(d,c),t.add(f,l),a,s),k=e(t.sub(h,v),t.add(p,g),a,s),_=t.add(y,w);_.sub(x),_.add(k);var S=t.add(b,x),E=t.add(m,w),j=t.sub(y,m);j.add(b),j.add(M);var A=t.zeros(2_.rows,2_.columns);return(A=(A=(A=(A=A.setSubMatrix(_,0,0)).setSubMatrix(S,_.rows,0)).setSubMatrix(E,0,_.columns)).setSubMatrix(j,_.rows,_.columns)).subMatrix(0,o-1,0,i-1)}(r=u(r,s,c),e=u(e,s,c),s,c)}},{keyscaleRows,valuefunction(){var t=arguments.length0&&void 0!==arguments[0]arguments[0]{};if(object!==Ie(t))throw new TypeError(options must be an object);var e=t.min,r=void 0===e0e,n=t.max,o=void 0===n1n;if(!Number.isFinite(r))throw new TypeError(min must be a number);if(!Number.isFinite(o))throw new TypeError(max must be a number);if(r=o)throw new RangeError(min must be smaller than max);for(var i=new qe(this.rows,this.columns),a=0;athis.rows;a++){var u=this.getRow(a);Zt(u,{minr,maxo,outputu}),i.setRow(a,u)}return i}},{keyscaleColumns,valuefunction(){var t=arguments.length0&&void 0!==arguments[0]arguments[0]{};if(object!==Ie(t))throw new TypeError(options must be an object);var e=t.min,r=void 0===e0e,n=t.max,o=void 0===n1n;if(!Number.isFinite(r))throw new TypeError(min must be a number);if(!Number.isFinite(o))throw new TypeError(max must be a number);if(r=o)throw new RangeError(min must be smaller than max);for(var i=new qe(this.rows,this.columns),a=0;athis.columns;a++){var u=this.getColumn(a);Zt(u,{minr,maxo,outputu}),i.setColumn(a,u)}return i}},{keyflipRows,valuefunction(){for(var t=Math.ceil(this.columns2),e=0;ethis.rows;e++)for(var r=0;rt;r++){var n=this.get(e,r),o=this.get(e,this.columns-1-r);this.set(e,r,o),this.set(e,this.columns-1-r,n)}return this}},{keyflipColumns,valuefunction(){for(var t=Math.ceil(this.rows2),e=0;ethis.columns;e++)for(var r=0;rt;r++){var n=this.get(r,e),o=this.get(this.rows-1-r,e);this.set(r,e,o),this.set(this.rows-1-r,e,n)}return this}},{keykroneckerProduct,valuefunction(t){t=qe.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.rows,o=t.columns,i=new qe(en,ro),a=0;ae;a++)for(var u=0;ur;u++)for(var s=0;sn;s++)for(var c=0;co;c++)i.set(na+s,ou+c,this.get(a,u)t.get(s,c));return i}},{keytranspose,valuefunction(){for(var t=new qe(this.columns,this.rows),e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)t.set(r,e,this.get(e,r));return t}},{keysortRows,valuefunction(){for(var t=arguments.length0&&void 0!==arguments[0]arguments[0]Fe,e=0;ethis.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{keysortColumns,valuefunction(){for(var t=arguments.length0&&void 0!==arguments[0]arguments[0]Fe,e=0;ethis.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{keysubMatrix,valuefunction(t,e,r,n){le(this,t,e,r,n);for(var o=new qe(e-t+1,n-r+1),i=t;i=e;i++)for(var a=r;a=n;a++)o.set(i-t,a-r,this.get(i,a));return o}},{keysubMatrixRow,valuefunction(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),ere0e=this.columnsr0r=this.columns)throw new RangeError(Argument out of range);for(var n=new qe(t.length,r-e+1),o=0;ot.length;o++)for(var i=e;i=r;i++){if(t[o]0t[o]=this.rows)throw new RangeError(Row index out of range .concat(t[o]));n.set(o,i-e,this.get(t[o],i))}return n}},{keysubMatrixColumn,valuefunction(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),ere0e=this.rowsr0r=this.rows)throw new RangeError(Argument out of range);for(var n=new qe(r-e+1,t.length),o=0;ot.length;o++)for(var i=e;i=r;i++){if(t[o]0t[o]=this.columns)throw new RangeError(Column index out of range .concat(t[o]));n.set(i-e,o,this.get(i,t[o]))}return n}},{keysetSubMatrix,valuefunction(t,e,r){le(this,e,e+(t=qe.checkMatrix(t)).rows-1,r,r+t.columns-1);for(var n=0;nt.rows;n++)for(var o=0;ot.columns;o++)this.set(e+n,r+o,t.get(n,o));return this}},{keyselection,valuefunction(t,e){for(var r=function(t,e,r){return{rowfe(t,e),columnhe(t,r)}}(this,t,e),n=new qe(t.length,e.length),o=0;or.row.length;o++)for(var i=r.row[o],a=0;ar.column.length;a++){var u=r.column[a];n.set(o,a,this.get(i,u))}return n}},{keytrace,valuefunction(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;rt;r++)e+=this.get(r,r);return e}},{keyclone,valuefunction(){for(var t=new qe(this.rows,this.columns),e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)t.set(e,r,this.get(e,r));return t}},{keysum,valuefunction(t){switch(t){caserowreturn function(t){for(var e=de(t.rows),r=0;rt.rows;++r)for(var n=0;nt.columns;++n)e[r]+=t.get(r,n);return e}(this);casecolumnreturn function(t){for(var e=de(t.columns),r=0;rt.rows;++r)for(var n=0;nt.columns;++n)e[n]+=t.get(r,n);return e}(this);case void 0return function(t){for(var e=0,r=0;rt.rows;r++)for(var n=0;nt.columns;n++)e+=t.get(r,n);return e}(this);defaultthrow new Error(invalid option .concat(t))}}},{keyproduct,valuefunction(t){switch(t){caserowreturn function(t){for(var e=de(t.rows,1),r=0;rt.rows;++r)for(var n=0;nt.columns;++n)e[r]=t.get(r,n);return e}(this);casecolumnreturn function(t){for(var e=de(t.columns,1),r=0;rt.rows;++r)for(var n=0;nt.columns;++n)e[n]=t.get(r,n);return e}(this);case void 0return function(t){for(var e=1,r=0;rt.rows;r++)for(var n=0;nt.columns;n++)e=t.get(r,n);return e}(this);defaultthrow new Error(invalid option .concat(t))}}},{keymean,valuefunction(t){var e=this.sum(t);switch(t){caserowfor(var r=0;rthis.rows;r++)e[r]=this.columns;return e;casecolumnfor(var n=0;nthis.columns;n++)e[n]=this.rows;return e;case void 0return ethis.size;defaultthrow new Error(invalid option .concat(t))}}},{keyvariance,valuefunction(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(object===Ie(t)&&(e=t,t=void 0),object!==Ie(e))throw new TypeError(options must be an object);var r=e,n=r.unbiased,o=void 0===nn,i=r.mean,a=void 0===ithis.mean(t)i;if(boolean!=typeof o)throw new TypeError(unbiased must be a boolean);switch(t){caserowif(!Array.isArray(a))throw new TypeError(mean must be an array);return ve(this,o,a);casecolumnif(!Array.isArray(a))throw new TypeError(mean must be an array);return ge(this,o,a);case void 0if(number!=typeof a)throw new TypeError(mean must be a number);return ye(this,o,a);defaultthrow new Error(invalid option .concat(t))}}},{keystandardDeviation,valuefunction(t,e){object===Ie(t)&&(e=t,t=void 0);var r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(var n=0;nr.length;n++)r[n]=Math.sqrt(r[n]);return r}},{keycenter,valuefunction(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(object===Ie(t)&&(e=t,t=void 0),object!==Ie(e))throw new TypeError(options must be an object);var r=e,n=r.center,o=void 0===nthis.mean(t)n;switch(t){caserowif(!Array.isArray(o))throw new TypeError(center must be an array);return me(this,o),this;casecolumnif(!Array.isArray(o))throw new TypeError(center must be an array);return be(this,o),this;case void 0if(number!=typeof o)throw new TypeError(center must be a number);return we(this,o),this;defaultthrow new Error(invalid option .concat(t))}}},{keyscale,valuefunction(t){var e=arguments.length1&&void 0!==arguments[1]arguments[1]{};if(object===Ie(t)&&(e=t,t=void 0),object!==Ie(e))throw new TypeError(options must be an object);var r=e.scale;switch(t){caserowif(void 0===r)r=xe(this);else if(!Array.isArray(r))throw new TypeError(scale must be an array);return Me(this,r),this;casecolumnif(void 0===r)r=ke(this);else if(!Array.isArray(r))throw new TypeError(scale must be an array);return _e(this,r),this;case void 0if(void 0===r)r=Se(this);else if(number!=typeof r)throw new TypeError(scale must be a number);return Ee(this,r),this;defaultthrow new Error(invalid option .concat(t))}}},{keytoString,valuefunction(t){return re(this,t)}},{keysize,getfunction(){return this.rowsthis.columns}}],[{keyfrom1DArray,valuefunction(t,e,r){if(te!==r.length)throw new RangeError(data length does not match given dimensions);for(var n=new qe(t,e),o=0;ot;o++)for(var i=0;ie;i++)n.set(o,i,r[oe+i]);return n}},{keyrowVector,valuefunction(t){for(var e=new qe(1,t.length),r=0;rt.length;r++)e.set(0,r,t[r]);return e}},{keycolumnVector,valuefunction(t){for(var e=new qe(t.length,1),r=0;rt.length;r++)e.set(r,0,t[r]);return e}},{keyzeros,valuefunction(t,e){return new qe(t,e)}},{keyones,valuefunction(t,e){return new qe(t,e).fill(1)}},{keyrand,valuefunction(t,e){var r=arguments.length2&&void 0!==arguments[2]arguments[2]{};if(object!==Ie(r))throw new TypeError(options must be an object);for(var n=r.random,o=void 0===nMath.randomn,i=new qe(t,e),a=0;at;a++)for(var u=0;ue;u++)i.set(a,u,o());return i}},{keyrandInt,valuefunction(t,e){var r=arguments.length2&&void 0!==arguments[2]arguments[2]{};if(object!==Ie(r))throw new TypeError(options must be an object);var n=r.min,o=void 0===n0n,i=r.max,a=void 0===i1e3i,u=r.random,s=void 0===uMath.randomu;if(!Number.isInteger(o))throw new TypeError(min must be an integer);if(!Number.isInteger(a))throw new TypeError(max must be an integer);if(o=a)throw new RangeError(min must be smaller than max);for(var c=a-o,f=new qe(t,e),h=0;ht;h++)for(var l=0;le;l++){var d=o+Math.round(s()c);f.set(h,l,d)}return f}},{keyeye,valuefunction(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);for(var n=Math.min(t,e),o=this.zeros(t,e),i=0;in;i++)o.set(i,i,r);return o}},{keydiag,valuefunction(t,e,r){var n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);for(var o=Math.min(n,e,r),i=this.zeros(e,r),a=0;ao;a++)i.set(a,a,t[a]);return i}},{keymin,valuefunction(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,o=new qe(r,n),i=0;ir;i++)for(var a=0;an;a++)o.set(i,a,Math.min(t.get(i,a),e.get(i,a)));return o}},{keymax,valuefunction(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,o=new this(r,n),i=0;ir;i++)for(var a=0;an;a++)o.set(i,a,Math.max(t.get(i,a),e.get(i,a)));return o}},{keycheckMatrix,valuefunction(e){return t.isMatrix(e)enew qe(e)}},{keyisMatrix,valuefunction(t){return null!=t&&Matrix===t.klass}}]),t}();function Fe(t,e){return t-e}ze.prototype.klass=Matrix,undefined!=typeof Symbol&&(ze.prototype[Symbol.for(nodejs.util.inspect.custom)]=function(){return re(this)}),ze.random=ze.rand,ze.randomInt=ze.randInt,ze.diagonal=ze.diag,ze.prototype.diagonal=ze.prototype.diag,ze.identity=ze.eye,ze.prototype.negate=ze.prototype.neg,ze.prototype.tensorProduct=ze.prototype.kroneckerProduct;var Te,De,qe=function(t){!function(t,e){if(function!=typeof e&&null!==e)throw new TypeError(Super expression must either be null or a function);t.prototype=Object.create(e&&e.prototype,{constructor{valuet,writable!0,configurable!0}}),e&&je(t,e)}(r,t);var e=Ae(r);function r(t,n){var o;if(Re(this,r),o=e.call(this),r.isMatrix(t))return Oe(o,t.clone());if(Number.isInteger(t)&&t0){if(o.data=[],!(Number.isInteger(n)&&n0))throw new TypeError(nColumns must be a positive integer);for(var i=0;it;i++)o.data.push(new Float64Array(n))}else{if(!Array.isArray(t))throw new TypeError(First argument must be a positive number or an array);var a=t;if(t=a.length,number!=typeof(n=a[0].length)0===n)throw new TypeError(Data must be a 2D array with at least one element);o.data=[];for(var u=0;ut;u++){if(a[u].length!==n)throw new RangeError(Inconsistent array dimensions);o.data.push(Float64Array.from(a[u]))}}return o.rows=t,o.columns=n,o}return Ce(r,[{keyset,valuefunction(t,e,r){return this.data[t][e]=r,this}},{keyget,valuefunction(t,e){return this.data[t][e]}},{keyremoveRow,valuefunction(t){if(ae(this,t),1===this.rows)throw new RangeError(A matrix cannot have less than one row);return this.data.splice(t,1),this.rows-=1,this}},{keyaddRow,valuefunction(t,e){return void 0===e&&(e=t,t=this.rows),ae(this,t,!0),e=Float64Array.from(se(this,e)),this.data.splice(t,0,e),this.rows+=1,this}},{keyremoveColumn,valuefunction(t){if(ue(this,t),1===this.columns)throw new RangeError(A matrix cannot have less than one column);for(var e=0;ethis.rows;e++){for(var r=new Float64Array(this.columns-1),n=0;nt;n++)r[n]=this.data[e][n];for(var o=t+1;othis.columns;o++)r[o-1]=this.data[e][o];this.data[e]=r}return this.columns-=1,this}},{keyaddColumn,valuefunction(t,e){void 0===e&&(e=t,t=this.columns),ue(this,t,!0),e=ce(this,e);for(var r=0;rthis.rows;r++){for(var n=new Float64Array(this.columns+1),o=0;ot;o++)n[o]=this.data[r][o];for(n[o++]=e[r];othis.columns+1;o++)n[o]=this.data[r][o-1];this.data[r]=n}return this.columns+=1,this}}]),r}(ze);function Le(t){return(Le=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(t){return typeof t}function(t){return t&&function==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototypesymboltypeof t})(t)}function Be(t,e){for(var r=0;re.length;r++){var n=e[r];n.enumerable=n.enumerable!1,n.configurable=!0,valuein n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ve(t,e){return(Ve=Object.setPrototypeOffunction(t,e){return t.__proto__=e,t})(t,e)}function Ue(t){var e=function(){if(undefined==typeof Reflect!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(function==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=He(t);if(e){var o=He(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ye(this,r)}}function Ye(t,e){return!eobject!==Le(e)&&function!=typeof efunction(t){if(void 0===t)throw new ReferenceError(this hasn't been initialised - super() hasn't been called);return t}(t)e}function He(t){return(He=Object.setPrototypeOfObject.getPrototypeOffunction(t){return t.__proto__Object.getPrototypeOf(t)})(t)}De=qe,(Te=ze).prototype.add=function(t){returnnumber==typeof tthis.addS(t)this.addM(t)},Te.prototype.addS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)+t);return this},Te.prototype.addM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},Te.add=function(t,e){return new De(t).add(e)},Te.prototype.sub=function(t){returnnumber==typeof tthis.subS(t)this.subM(t)},Te.prototype.subS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)-t);return this},Te.prototype.subM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},Te.sub=function(t,e){return new De(t).sub(e)},Te.prototype.subtract=Te.prototype.sub,Te.prototype.subtractS=Te.prototype.subS,Te.prototype.subtractM=Te.prototype.subM,Te.subtract=Te.sub,Te.prototype.mul=function(t){returnnumber==typeof tthis.mulS(t)this.mulM(t)},Te.prototype.mulS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Te.prototype.mulM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Te.mul=function(t,e){return new De(t).mul(e)},Te.prototype.multiply=Te.prototype.mul,Te.prototype.multiplyS=Te.prototype.mulS,Te.prototype.multiplyM=Te.prototype.mulM,Te.multiply=Te.mul,Te.prototype.div=function(t){returnnumber==typeof tthis.divS(t)this.divM(t)},Te.prototype.divS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Te.prototype.divM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Te.div=function(t,e){return new De(t).div(e)},Te.prototype.divide=Te.prototype.div,Te.prototype.divideS=Te.prototype.divS,Te.prototype.divideM=Te.prototype.divM,Te.divide=Te.div,Te.prototype.mod=function(t){returnnumber==typeof tthis.modS(t)this.modM(t)},Te.prototype.modS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)%t);return this},Te.prototype.modM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},Te.mod=function(t,e){return new De(t).mod(e)},Te.prototype.modulus=Te.prototype.mod,Te.prototype.modulusS=Te.prototype.modS,Te.prototype.modulusM=Te.prototype.modM,Te.modulus=Te.mod,Te.prototype.and=function(t){returnnumber==typeof tthis.andS(t)this.andM(t)},Te.prototype.andS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)&t);return this},Te.prototype.andM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},Te.and=function(t,e){return new De(t).and(e)},Te.prototype.or=function(t){returnnumber==typeof tthis.orS(t)this.orM(t)},Te.prototype.orS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Te.prototype.orM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Te.or=function(t,e){return new De(t).or(e)},Te.prototype.xor=function(t){returnnumber==typeof tthis.xorS(t)this.xorM(t)},Te.prototype.xorS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)^t);return this},Te.prototype.xorM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},Te.xor=function(t,e){return new De(t).xor(e)},Te.prototype.leftShift=function(t){returnnumber==typeof tthis.leftShiftS(t)this.leftShiftM(t)},Te.prototype.leftShiftS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Te.prototype.leftShiftM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Te.leftShift=function(t,e){return new De(t).leftShift(e)},Te.prototype.signPropagatingRightShift=function(t){returnnumber==typeof tthis.signPropagatingRightShiftS(t)this.signPropagatingRightShiftM(t)},Te.prototype.signPropagatingRightShiftS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Te.prototype.signPropagatingRightShiftM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Te.signPropagatingRightShift=function(t,e){return new De(t).signPropagatingRightShift(e)},Te.prototype.rightShift=function(t){returnnumber==typeof tthis.rightShiftS(t)this.rightShiftM(t)},Te.prototype.rightShiftS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t);return this},Te.prototype.rightShiftM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,this.get(e,r)t.get(e,r));return this},Te.rightShift=function(t,e){return new De(t).rightShift(e)},Te.prototype.zeroFillRightShift=Te.prototype.rightShift,Te.prototype.zeroFillRightShiftS=Te.prototype.rightShiftS,Te.prototype.zeroFillRightShiftM=Te.prototype.rightShiftM,Te.zeroFillRightShift=Te.rightShift,Te.prototype.not=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,~this.get(t,e));return this},Te.not=function(t){return new De(t).not()},Te.prototype.abs=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},Te.abs=function(t){return new De(t).abs()},Te.prototype.acos=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},Te.acos=function(t){return new De(t).acos()},Te.prototype.acosh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},Te.acosh=function(t){return new De(t).acosh()},Te.prototype.asin=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},Te.asin=function(t){return new De(t).asin()},Te.prototype.asinh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},Te.asinh=function(t){return new De(t).asinh()},Te.prototype.atan=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},Te.atan=function(t){return new De(t).atan()},Te.prototype.atanh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},Te.atanh=function(t){return new De(t).atanh()},Te.prototype.cbrt=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},Te.cbrt=function(t){return new De(t).cbrt()},Te.prototype.ceil=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},Te.ceil=function(t){return new De(t).ceil()},Te.prototype.clz32=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},Te.clz32=function(t){return new De(t).clz32()},Te.prototype.cos=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},Te.cos=function(t){return new De(t).cos()},Te.prototype.cosh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},Te.cosh=function(t){return new De(t).cosh()},Te.prototype.exp=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},Te.exp=function(t){return new De(t).exp()},Te.prototype.expm1=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},Te.expm1=function(t){return new De(t).expm1()},Te.prototype.floor=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},Te.floor=function(t){return new De(t).floor()},Te.prototype.fround=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},Te.fround=function(t){return new De(t).fround()},Te.prototype.log=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},Te.log=function(t){return new De(t).log()},Te.prototype.log1p=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},Te.log1p=function(t){return new De(t).log1p()},Te.prototype.log10=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},Te.log10=function(t){return new De(t).log10()},Te.prototype.log2=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},Te.log2=function(t){return new De(t).log2()},Te.prototype.round=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},Te.round=function(t){return new De(t).round()},Te.prototype.sign=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},Te.sign=function(t){return new De(t).sign()},Te.prototype.sin=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},Te.sin=function(t){return new De(t).sin()},Te.prototype.sinh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},Te.sinh=function(t){return new De(t).sinh()},Te.prototype.sqrt=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},Te.sqrt=function(t){return new De(t).sqrt()},Te.prototype.tan=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},Te.tan=function(t){return new De(t).tan()},Te.prototype.tanh=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},Te.tanh=function(t){return new De(t).tanh()},Te.prototype.trunc=function(){for(var t=0;tthis.rows;t++)for(var e=0;ethis.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},Te.trunc=function(t){return new De(t).trunc()},Te.pow=function(t,e){return new De(t).pow(e)},Te.prototype.pow=function(t){returnnumber==typeof tthis.powS(t)this.powM(t)},Te.prototype.powS=function(t){for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t));return this},Te.prototype.powM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rowsthis.columns!==t.columns)throw new RangeError(Matrices dimensions must be equal);for(var e=0;ethis.rows;e++)for(var r=0;rthis.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t.get(e,r)));return this};var We=function(t){!function(t,e){if(function!=typeof e&&null!==e)throw new TypeError(Super expression must either be null or a function);t.prototype=Object.create(e&&e.prototype,{constructor{valuet,writable!0,configurable!0}}),e&&Ve(t,e)}(i,t);var e,r,n,o=Ue(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(Cannot call a class as a function)}(this,i),(e=o.call(this)).data=t,e.rows=t.length,e.columns=t[0].length,e}return e=i,(r=[{keyset,valuefunction(t,e,r){return this.data[t][e]=r,this}},{keyget,valuefunction(t,e){return this.data[t][e]}}])&&Be(e.prototype,r),n&&Be(e,n),i}(ze);function Ge(t,e){var r=0;return Math.abs(t)Math.abs(e)(r=et,Math.abs(t)Math.sqrt(1+rr))0!==e(r=te,Math.abs(e)Math.sqrt(1+rr))0}function $e(t,e){if(!(t instanceof e))throw new TypeError(Cannot call a class as a function)}function Xe(t,e){for(var r=0;re.length;r++){var n=e[r];n.enumerable=n.enumerable!1,n.configurable=!0,valuein n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Je=function(){function t(e){var r=arguments.length1&&void 0!==arguments[1]arguments[1]{};$e(this,t);var n,o=(e=We.checkMatrix(e)).rows,i=e.columns,a=r.computeLeftSingularVectors,u=void 0===aa,s=r.computeRightSingularVectors,c=void 0===ss,f=r.autoTranspose,h=void 0!==f&&f,l=Boolean(u),d=Boolean(c),p=!1;if(oi)if(h){o=(n=e.transpose()).rows,i=n.columns,p=!0;var v=l;l=d,d=v}else n=e.clone(),console.warn(Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose);else n=e.clone();for(var g=Math.min(o,i),y=Math.min(o+1,i),m=new Float64Array(y),b=new qe(o,g),w=new qe(i,i),x=new Float64Array(i),M=new Float64Array(o),k=new Float64Array(y),_=0;_y;_++)k[_]=_;for(var S=Math.min(o-1,i),E=Math.max(0,Math.min(i-2,o)),j=Math.max(S,E),A=0;Aj;A++){if(AS){m[A]=0;for(var O=A;Oo;O++)m[A]=Ge(m[A],n.get(O,A));if(0!==m[A]){n.get(A,A)0&&(m[A]=-m[A]);for(var N=A;No;N++)n.set(N,A,n.get(N,A)m[A]);n.set(A,A,n.get(A,A)+1)}m[A]=-m[A]}for(var I=A+1;Ii;I++){if(AS&&0!==m[A]){for(var R=0,P=A;Po;P++)R+=n.get(P,A)n.get(P,I);R=-Rn.get(A,A);for(var C=A;Co;C++)n.set(C,I,n.get(C,I)+Rn.get(C,A))}x[I]=n.get(A,I)}if(l&&AS)for(var z=A;zo;z++)b.set(z,A,n.get(z,A));if(AE){x[A]=0;for(var F=A+1;Fi;F++)x[A]=Ge(x[A],x[F]);if(0!==x[A]){x[A+1]0&&(x[A]=0-x[A]);for(var T=A+1;Ti;T++)x[T]=x[A];x[A+1]+=1}if(x[A]=-x[A],A+1o&&0!==x[A]){for(var D=A+1;Do;D++)M[D]=0;for(var q=A+1;qo;q++)for(var L=A+1;Li;L++)M[q]+=x[L]n.get(q,L);for(var B=A+1;Bi;B++)for(var V=-x[B]x[A+1],U=A+1;Uo;U++)n.set(U,B,n.get(U,B)+VM[U])}if(d)for(var Y=A+1;Yi;Y++)w.set(Y,A,x[Y])}}var H=Math.min(i,o+1);if(Si&&(m[S]=n.get(S,S)),oH&&(m[H-1]=0),E+1H&&(x[E]=n.get(E,H-1)),x[H-1]=0,l){for(var W=S;Wg;W++){for(var G=0;Go;G++)b.set(G,W,0);b.set(W,W,1)}for(var $=S-1;$=0;$--)if(0!==m[$]){for(var X=$+1;Xg;X++){for(var J=0,Q=$;Qo;Q++)J+=b.get(Q,$)b.get(Q,X);J=-Jb.get($,$);for(var K=$;Ko;K++)b.set(K,X,b.get(K,X)+Jb.get(K,$))}for(var Z=$;Zo;Z++)b.set(Z,$,-b.get(Z,$));b.set($,$,1+b.get($,$));for(var tt=0;tt$-1;tt++)b.set(tt,$,0)}else{for(var et=0;eto;et++)b.set(et,$,0);b.set($,$,1)}}if(d)for(var rt=i-1;rt=0;rt--){if(rtE&&0!==x[rt])for(var nt=rt+1;nti;nt++){for(var ot=0,it=rt+1;iti;it++)ot+=w.get(it,rt)w.get(it,nt);ot=-otw.get(rt+1,rt);for(var at=rt+1;ati;at++)w.set(at,nt,w.get(at,nt)+otw.get(at,rt))}for(var ut=0;uti;ut++)w.set(ut,rt,0);w.set(rt,rt,1)}for(var st=H-1,ct=Number.EPSILON;H0;){var ft=void 0,ht=void 0;for(ft=H-2;ft=-1&&-1!==ft;ft--){var lt=Number.MIN_VALUE+ctMath.abs(m[ft]+Math.abs(m[ft+1]));if(Math.abs(x[ft])=ltNumber.isNaN(x[ft])){x[ft]=0;break}}if(ft===H-2)ht=4;else{var dt=void 0;for(dt=H-1;dt=ft&&dt!==ft;dt--){var pt=(dt!==HMath.abs(x[dt])0)+(dt!==ft+1Math.abs(x[dt-1])0);if(Math.abs(m[dt])=ctpt){m[dt]=0;break}}dt===ftht=3dt===H-1ht=1(ht=2,ft=dt)}switch(ft++,ht){case 1var vt=x[H-2];x[H-2]=0;for(var gt=H-2;gt=ft;gt--){var yt=Ge(m[gt],vt),mt=m[gt]yt,bt=vtyt;if(m[gt]=yt,gt!==ft&&(vt=-btx[gt-1],x[gt-1]=mtx[gt-1]),d)for(var wt=0;wti;wt++)yt=mtw.get(wt,gt)+btw.get(wt,H-1),w.set(wt,H-1,-btw.get(wt,gt)+mtw.get(wt,H-1)),w.set(wt,gt,yt)}break;case 2var xt=x[ft-1];x[ft-1]=0;for(var Mt=ft;MtH;Mt++){var kt=Ge(m[Mt],xt),_t=m[Mt]kt,St=xtkt;if(m[Mt]=kt,xt=-Stx[Mt],x[Mt]=_tx[Mt],l)for(var Et=0;Eto;Et++)kt=_tb.get(Et,Mt)+Stb.get(Et,ft-1),b.set(Et,ft-1,-Stb.get(Et,Mt)+_tb.get(Et,ft-1)),b.set(Et,Mt,kt)}break;case 3var jt=Math.max(Math.abs(m[H-1]),Math.abs(m[H-2]),Math.abs(x[H-2]),Math.abs(m[ft]),Math.abs(x[ft])),At=m[H-1]jt,Ot=m[H-2]jt,Nt=x[H-2]jt,It=m[ft]jt,Rt=x[ft]jt,Pt=((Ot+At)(Ot-At)+NtNt)2,Ct=AtNt(AtNt),zt=0;0===Pt&&0===Ct(zt=Ct(Pt+(zt=Pt00-Math.sqrt(PtPt+Ct)Math.sqrt(PtPt+Ct))));for(var Ft=(It+At)(It-At)+zt,Tt=ItRt,Dt=ft;DtH-1;Dt++){var qt=Ge(Ft,Tt);0===qt&&(qt=Number.MIN_VALUE);var Lt=Ftqt,Bt=Ttqt;if(Dt!==ft&&(x[Dt-1]=qt),Ft=Ltm[Dt]+Btx[Dt],x[Dt]=Ltx[Dt]-Btm[Dt],Tt=Btm[Dt+1],m[Dt+1]=Ltm[Dt+1],d)for(var Vt=0;Vti;Vt++)qt=Ltw.get(Vt,Dt)+Btw.get(Vt,Dt+1),w.set(Vt,Dt+1,-Btw.get(Vt,Dt)+Ltw.get(Vt,Dt+1)),w.set(Vt,Dt,qt);if(0===(qt=Ge(Ft,Tt))&&(qt=Number.MIN_VALUE),Lt=Ftqt,Bt=Ttqt,m[Dt]=qt,Ft=Ltx[Dt]+Btm[Dt+1],m[Dt+1]=-Btx[Dt]+Ltm[Dt+1],Tt=Btx[Dt+1],x[Dt+1]=Ltx[Dt+1],l&&Dto-1)for(var Ut=0;Uto;Ut++)qt=Ltb.get(Ut,Dt)+Btb.get(Ut,Dt+1),b.set(Ut,Dt+1,-Btb.get(Ut,Dt)+Ltb.get(Ut,Dt+1)),b.set(Ut,Dt,qt)}x[H-2]=Ft,1;break;case 4if(m[ft]=0&&(m[ft]=m[ft]0-m[ft]0,d))for(var Yt=0;Yt=st;Yt++)w.set(Yt,ft,-w.get(Yt,ft));for(;ftst&&!(m[ft]=m[ft+1]);){var Ht=m[ft];if(m[ft]=m[ft+1],m[ft+1]=Ht,d&&fti-1)for(var Wt=0;Wti;Wt++)Ht=w.get(Wt,ft+1),w.set(Wt,ft+1,w.get(Wt,ft)),w.set(Wt,ft,Ht);if(l&&fto-1)for(var Gt=0;Gto;Gt++)Ht=b.get(Gt,ft+1),b.set(Gt,ft+1,b.get(Gt,ft)),b.set(Gt,ft,Ht);ft++}0,H--}}if(p){var $t=w;w=b,b=$t}this.m=o,this.n=i,this.s=m,this.U=b,this.V=w}var e,r,n;return e=t,(r=[{keysolve,valuefunction(t){for(var e=t,r=this.threshold,n=this.s.length,o=qe.zeros(n,n),i=0;in;i++)Math.abs(this.s[i])=ro.set(i,i,0)o.set(i,i,1this.s[i]);for(var a=this.U,u=this.rightSingularVectors,s=u.mmul(o),c=u.rows,f=a.rows,h=qe.zeros(c,f),l=0;lc;l++)for(var d=0;df;d++){for(var p=0,v=0;vn;v++)p+=s.get(l,v)a.get(d,v);h.set(l,d,p)}return h.mmul(e)}},{keysolveForDiagonal,valuefunction(t){return this.solve(qe.diag(t))}},{keyinverse,valuefunction(){for(var t=this.V,e=this.threshold,r=t.rows,n=t.columns,o=new qe(r,this.s.length),i=0;ir;i++)for(var a=0;an;a++)Math.abs(this.s[a])e&&o.set(i,a,t.get(i,a)this.s[a]);for(var u=this.U,s=u.rows,c=u.columns,f=new qe(r,s),h=0;hr;h++)for(var l=0;ls;l++){for(var d=0,p=0;pc;p++)d+=o.get(h,p)u.get(l,p);f.set(h,l,d)}return f}},{keycondition,getfunction(){return this.s[0]this.s[Math.min(this.m,this.n)-1]}},{keynorm2,getfunction(){return this.s[0]}},{keyrank,getfunction(){for(var t=Math.max(this.m,this.n)this.s[0]Number.EPSILON,e=0,r=this.s,n=0,o=r.length;no;n++)r[n]t&&e++;return e}},{keydiagonal,getfunction(){return Array.from(this.s)}},{keythreshold,getfunction(){return Number.EPSILON2Math.max(this.m,this.n)this.s[0]}},{keyleftSingularVectors,getfunction(){return this.U}},{keyrightSingularVectors,getfunction(){return this.V}},{keydiagonalMatrix,getfunction(){return qe.diag(this.s)}}])&&Xe(e.prototype,r),n&&Xe(e,n),t}(),Qe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.linkDistance=50,e.scaledDistances=null,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],linkDistance50}},e.prototype.execute=function(){var t=this.nodes,e=this.edges,r=void 0===e[]e,n=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=n[0],void(t[0].y=n[1]);var o=this.linkDistance,i=O({nodest,edgesr},!1),a=A(i);this.handleInfinity(a);var u,s,c=(u=o,s=[],a.forEach((function(t){var e=[];t.forEach((function(t){e.push(tu)})),s.push(e)})),s);this.scaledDistances=c;var f=this.runMDS();this.positions=f,f.forEach((function(e,r){t[r].x=e[0]+n[0],t[r].y=e[1]+n[1]}))}},e.prototype.runMDS=function(){var t=this.scaledDistances,e=qe.mul(qe.pow(t,2),-.5),r=e.mean(row),n=e.mean(column),o=e.mean();e.add(o).subRowVector(r).subColumnVector(n);var i=new Je(e),a=qe.sqrt(i.diagonalMatrix).diagonal();return i.leftSingularVectors.toJSON().map((function(t){return qe.mul([t],[a]).toJSON()[0].splice(0,2)}))},e.prototype.handleInfinity=function(t){var e=-999999;t.forEach((function(t){t.forEach((function(t){t!==10&&et&&(e=t)}))})),t.forEach((function(r,n){r.forEach((function(r,o){r===10&&(t[n][o]=e)}))}))},e}(c),Ke=function(){function t(t){this.distances=t.distances,this.dimension=t.dimension2,this.linkDistance=t.linkDistance}return t.prototype.layout=function(){var t=this.dimension,e=this.distances,r=this.linkDistance;try{var n=qe.mul(qe.pow(e,2),-.5),o=n.mean(row),i=n.mean(column),a=n.mean();n.add(a).subRowVector(o).subColumnVector(i);var u=new Je(n),s=qe.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map((function(e){return qe.mul([e],[s]).toJSON()[0].splice(0,t)}))}catch(t){for(var c=[],f=0;fe.length;f++){var h=Math.random()r,l=Math.random()r;c.push([h,l])}return c}},t}(),Ze=function(){function t(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations10,this.height=t.height10,this.width=t.width10,this.speed=t.speed100,this.gravity=t.gravity10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}return t.prototype.layout=function(){var t=this.positions,e=[],r=this.iterations,n=this.width10;this.maxDisplace=n,this.disp=e;for(var o=0;or;o++)t.forEach((function(t,r){e[r]={x0,y0}})),this.getRepulsion(),this.updatePositions();return t},t.prototype.getRepulsion=function(){var t=this,e=t.positions,r=t.nodes,n=t.disp,o=t.k,i=t.radii[];e.forEach((function(a,u){n[u]={x0,y0},e.forEach((function(e,s){if(u!==s&&i[u]===i[s]){var c=a[0]-e[0],f=a[1]-e[1],h=Math.sqrt(cc+ff);if(0===h){h=1;var l=us1-1;c=.01l,f=.01l}if(ht.nodeSizeFunc(r[u])2+t.nodeSizeFunc(r[s])2){var d=ooh;n[u].x+=chd,n[u].y+=fhd}}}))}))},t.prototype.updatePositions=function(){var t=this.positions,e=this.disp,r=this.speed,n=this.strictRadial,o=this.focusID,i=this.maxDisplacethis.width10;n&&e.forEach((function(e,r){var n=t[r][0]-t[o][0],i=t[r][1]-t[o][1],a=Math.sqrt(nn+ii),u=ia,s=-na,c=Math.sqrt(e.xe.x+e.ye.y),f=Math.acos((ue.x+se.y)c);fMath.PI2&&(f-=Math.PI2,u=-1,s=-1);var h=Math.cos(f)c;e.x=uh,e.y=sh}));var a=this.radii;t.forEach((function(u,s){if(s!==o){var c=Math.sqrt(e[s].xe[s].x+e[s].ye[s].y);if(c0&&s!==o){var f=Math.min(i(r800),c);if(u[0]+=e[s].xcf,u[1]+=e[s].ycf,n){var h=u[0]-t[o][0],l=u[1]-t[o][1],d=Math.sqrt(hh+ll);h=hda[s],l=lda[s],u[0]=t[o][0]+h,u[1]=t[o][1]+l}}}}))},t}();function tr(t,e){return Math.sqrt((t[0]-e[0])(t[0]-e[0])+(t[1]-e[1])(t[1]-e[1]))}var er=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.maxIteration=1e3,e.focusNode=null,e.unitRadius=null,e.linkDistance=50,e.preventOverlap=!1,e.strictRadial=!0,e.maxPreventOverlapIteration=200,e.sortStrength=10,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],maxIteration1e3,focusNodenull,unitRadiusnull,linkDistance50,preventOverlap!1,nodeSizevoid 0,nodeSpacingvoid 0,strictRadial!0,maxPreventOverlapIteration200,sortByvoid 0,sortStrength10}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges[],n=t.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=n[0],void(e[0].y=n[1]);var o=t.linkDistance,i=null;if(C()(t.focusNode)){for(var a=!1,u=0;ue.length;u++)e[u].id===t.focusNode&&(i=e[u],t.focusNode=i,a=!0,u=e.length);a(i=null)}else i=t.focusNode;i(i=e[0],t.focusNode=i);var s,c,f,h=(s=e,c=i.id,f=-1,s.forEach((function(t,e){t.id===c&&(f=e)})),f);t.focusIndex=h;var l=O({nodese,edgesr},!1),d=A(l),p=t.maxToFocus(d,h);t.handleInfinity(d,h,p+1),t.distances=d;var v=d[h];t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight);var g=t.width500,y=t.height500,m=g-n[0]n[0]n[0]g-n[0],b=y-n[1]n[1]n[1]y-n[1];0===m&&(m=g2),0===b&&(b=y2);var w=bmmb,x=Math.max.apply(Math,v),M=[];v.forEach((function(e,r){t.unitRadius(t.unitRadius=wx),M[r]=et.unitRadius})),t.radii=M;var k=t.eIdealDisMatrix();t.eIdealDistances=k;var _=function(t){for(var e=t.length,r=t[0].length,n=[],o=0;oe;o++){for(var i=[],a=0;ar;a++)0!==t[o][a]i.push(1(t[o][a]t[o][a]))i.push(0);n.push(i)}return n}(k);t.weights=_;var S=new Ke({distancesk,linkDistanceo}).layout();S.forEach((function(t){Gt(t[0])&&(t[0]=Math.random()o),Gt(t[1])&&(t[1]=Math.random()o)})),t.positions=S,S.forEach((function(t,r){e[r].x=t[0]+n[0],e[r].y=t[1]+n[1]})),S.forEach((function(t){t[0]-=S[h][0],t[1]-=S[h][1]})),t.run();var E=t.preventOverlap,N=t.nodeSize,I=t.strictRadial;if(E){var R,P=t.nodeSpacing;R=Tt()(P)function(){return P}zt()(P)Pfunction(){return 0};var z={nodeSizeFuncNj()(N)function(t){return(N[0]N[1]N[0]N[1])+R(t)}function(t){return N+R(t)}function(t){return t.sizej()(t.size)(t.size[0]t.size[1]t.size[0]t.size[1])+R(t)t.size+R(t)10+R(t)},adjMatrixl,positionsS,radiiM,heighty,widthg,strictRadialI,focusIDh,iterationst.maxPreventOverlapIteration200,kS.length4.5,nodese},F=new Ze(z);S=F.layout()}S.forEach((function(t,r){e[r].x=t[0]+n[0],e[r].y=t[1]+n[1]}))}},e.prototype.run=function(){for(var t=this.maxIteration,e=this.positions[],r=this.weights[],n=this.eIdealDistances[],o=this.radii[],i=0;i=t;i++){var a=it;this.oneIteration(a,e,o,n,r)}},e.prototype.oneIteration=function(t,e,r,n,o){var i=1-t,a=this.focusIndex;e.forEach((function(u,s){var c=tr(u,[0,0]),f=0===c01c;if(s!==a){var h=0,l=0,d=0;e.forEach((function(t,e){if(s!==e){var r=tr(u,t),i=0===r01r,a=n[e][s];d+=o[s][e],h+=o[s][e](t[0]+a(u[0]-t[0])i),l+=o[s][e](t[1]+a(u[1]-t[1])i)}}));var p=0===r[s]01r[s];d=i,d+=tpp,h=i,h+=tpu[0]f,u[0]=hd,l=i,l+=tpu[1]f,u[1]=ld}}))},e.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var r=t.distances,n=t.linkDistance,o=t.radii[],i=t.unitRadius50,a=[];return r&&r.forEach((function(r,u){var s=[];r.forEach((function(r,a){if(u===a)s.push(0);else if(o[u]===o[a])if(data===t.sortBy)s.push(r(Math.abs(u-a)t.sortStrength)(o[u]i));else if(t.sortBy){var c=e[u][t.sortBy]0,f=e[a][t.sortBy]0;C()(c)&&(c=c.charCodeAt(0)),C()(f)&&(f=f.charCodeAt(0)),s.push(r(Math.abs(c-f)t.sortStrength)(o[u]i))}else s.push(rn(o[u]i));else{var h=(n+i)2;s.push(rh)}})),a.push(s)})),a},e.prototype.handleInfinity=function(t,e,r){for(var n=t.length,o=0;on;o++)if(t[e][o]===10){t[e][o]=r,t[o][e]=r;for(var i=0;in;i++)t[o][i]!==10&&t[e][i]===10&&(t[e][i]=r+t[o][i],t[i][e]=r+t[o][i])}for(o=0;on;o++)if(o!==e)for(i=0;in;i++)if(t[o][i]===10){var a=Math.abs(t[e][o]-t[e][i]);a=0===a1a,t[o][i]=a}},e.prototype.maxToFocus=function(t,e){for(var r=0,n=0;nt[e].length;n++)t[e][n]!==10&&(r=t[e][n]rt[e][n]r);return r},e}(c),rr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.width=300,e.height=300,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center[0,0],width300,height300}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.center;t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9(Math.random()-.5)t.width+r[0],e.y=.9(Math.random()-.5)t.height+r[1]}))},e}(c),nr=r(32),or=r.n(nr),ir=r(33),ar=r.n(ir),ur=[{index7,opacity.15},{index6,opacity.25},{index5,opacity.3},{index5,opacity.45},{index5,opacity.65},{index5,opacity.85},{index4,opacity.9},{index3,opacity.95},{index2,opacity.97},{index1,opacity.98}];function sr(t,e,r){var n;return(n=Math.round(t.h)=60&&Math.round(t.h)=240rMath.round(t.h)-2eMath.round(t.h)+2erMath.round(t.h)+2eMath.round(t.h)-2e)0n+=360n=360&&(n-=360),n}function cr(t,e,r){return 0===t.h&&0===t.st.s((n=rt.s-.16e4===et.s+.16t.s+.05e)1&&(n=1),r&&5===e&&n.1&&(n=.1),n.06&&(n=.06),Number(n.toFixed(2)));var n}function fr(t,e,r){var n;return(n=rt.v+.05et.v-.15e)1&&(n=1),Number(n.toFixed(2))}function hr(t){for(var e=arguments.length1&&void 0!==arguments[1]arguments[1]{},r=[],n=ar()(t),o=5;o0;o-=1){var i=n.toHsv(),a=ar()({hsr(i,o,!0),scr(i,o,!0),vfr(i,o,!0)}).toHexString();r.push(a)}r.push(n.toHexString());for(var u=1;u=4;u+=1){var s=n.toHsv(),c=ar()({hsr(s,u),scr(s,u),vfr(s,u)}).toHexString();r.push(c)}returndark===e.themeur.map((function(t){var n=t.index,o=t.opacity;return ar.a.mix(e.backgroundColor#141414,r[n],100o).toHexString()}))r}var lr={red#F5222D,volcano#FA541C,orange#FA8C16,gold#FAAD14,yellow#FADB14,lime#A0D911,green#52C41A,cyan#13C2C2,blue#1890FF,geekblue#2F54EB,purple#722ED1,magenta#EB2F96,grey#666666},dr={},pr={};Object.keys(lr).forEach((function(t){dr[t]=hr(lr[t]),dr[t].primary=dr[t][5],pr[t]=hr(lr[t],{themedark,backgroundColor#141414}),pr[t].primary=pr[t][5]}));dr.red,dr.volcano,dr.gold,dr.orange,dr.yellow,dr.lime,dr.green,dr.cyan,dr.blue,dr.geekblue,dr.purple,dr.magenta,dr.grey;var vr=function(t,e,r){var n=or()(t),o=or()(e);return or()([(1-r)n.color[0]+ro.color[0],(1-r)n.color[1]+ro.color[1],(1-r)n.color[2]+ro.color[2]]).rgb()},gr=function(t,e,r,n){void 0===e&&(e=#fff),void 0===r&&(r=default),void 0===n&&(n=rgb(150, 150, 150));var o=vr(e,t,.05).rgb().toString(),i=vr(e,n,.02).rgb().toString(),a=vr(e,n,.05).rgb().toString(),u=vr(e,n,.1).rgb().toString(),s=vr(e,n,.2).rgb().toString(),c=vr(e,n,.3).rgb().toString(),f=hr(t,{themer,backgroundColore}),h=or()(t).hex().toLowerCase(),l=f.indexOf(h),d=t;return-1!==l&&(d=f[l+1]),{mainStroket,mainFillvr(e,t,.1).rgb().toString(),activeStroket,activeFillo,inactiveStrokevr(e,t,.4).rgb().toString(),inactiveFillo,selectedStroket,selectedFille,highlightStroked,highlightFillvr(e,t,.2).rgb().toString(),disableStrokec,disableFilla,edgeMainStrokec,edgeActiveStroket,edgeInactiveStrokes,edgeSelectedStroket,edgeHighlightStroket,edgeDisableStrokeu,comboMainStrokec,comboMainFilli,comboActiveStroket,comboActiveFillo,comboInactiveStrokec,comboInactiveFilli,comboSelectedStroket,comboSelectedFilli,comboHighlightStroked,comboHighlightFilli,comboDisableStrokes,comboDisableFilla}}(rgb(95, 149, 255),rgb(255, 255, 255)),yr={version3.8.5,rootContainerClassNameroot-container,nodeContainerClassNamenode-container,edgeContainerClassNameedge-container,comboContainerClassNamecombo-container,customGroupContainerClassNamecustom-group-container,delegateContainerClassNamedelegate-container,defaultLoopPositiontop,nodeLabel{style{fill#000,fontSize12,textAligncenter,textBaselinemiddle},offset4},defaultNode{typecircle,style{lineWidth1,strokegr.mainStroke,fillgr.mainFill},size20,colorgr.mainStroke,linkPoints{size8,lineWidth1,fillgr.activeFill,strokegr.activeStroke}},nodeStateStyles{active{fillgr.activeFill,strokegr.activeStroke,lineWidth2,shadowColorgr.mainStroke,shadowBlur10},selected{fillgr.selectedFill,strokegr.selectedStroke,lineWidth4,shadowColorgr.selectedStroke,shadowBlur10,text-shape{fontWeight500}},highlight{fillgr.highlightFill,strokegr.highlightStroke,lineWidth2,text-shape{fontWeight500}},inactive{fillgr.inactiveFill,strokegr.inactiveStroke,lineWidth1},disable{fillgr.disableFill,strokegr.disableStroke,lineWidth1}},edgeLabel{style{fillrgb(0, 0, 0),textAligncenter,textBaselinemiddle,fontSize12}},defaultEdge{typeline,size1,style{strokegr.edgeMainStroke,lineAppendWidth2},colorgr.edgeMainStroke},edgeStateStyles{active{strokegr.edgeActiveStroke,lineWidth1},selected{strokegr.edgeSelectedStroke,lineWidth2,shadowColorgr.edgeSelectedStroke,shadowBlur10,text-shape{fontWeight500}},highlight{strokegr.edgeHighlightStroke,lineWidth2,text-shape{fontWeight500}},inactive{strokegr.edgeInactiveStroke,lineWidth1},disable{strokegr.edgeDisableStroke,lineWidth1}},comboLabel{style{fillrgb(0, 0, 0),textBaselinemiddle,fontSize12},refY10,refX10},defaultCombo{typecircle,style{fillgr.comboMainFill,lineWidth1,strokegr.comboMainStroke,r5,width20,height10},size[20,5],colorgr.comboMainStroke,padding[25,20,15,20]},comboStateStyles{active{strokegr.comboActiveStroke,lineWidth1,fillgr.comboActiveFill},selected{strokegr.comboSelectedStroke,lineWidth2,fillgr.comboSelectedFill,shadowColorgr.comboSelectedStroke,shadowBlur10,text-shape{fontWeight500}},highlight{strokegr.comboHighlightStroke,lineWidth2,fillgr.comboHighlightFill,text-shape{fontWeight500}},inactive{strokegr.comboInactiveStroke,fillgr.comboInactiveFill,lineWidth1},disable{strokegr.comboDisableStroke,fillgr.comboDisableFill,lineWidth1}},delegateStyle{fill#F3F9FF,fillOpacity.5,stroke#1890FF,strokeOpacity.9,lineDash[5,5]},textWaterMarkerConfig{width150,height100,compatible!1,text{x0,y60,lineHeight20,rotate20,fontSize14,fontFamilyMicrosoft YaHei,fillrgba(0, 0, 0, 0.1),baselineMiddle}},imageWaterMarkerConfig{width150,height130,compatible!1,image{x0,y0,width30,height20,rotate0}},waterMarkerImagehttpsgw.alipayobjects.comossprodantvassetsimagelogo-with-text-73b8a.svg},mr=Math.PI,br=Math.sin,wr=Math.cos,xr=(br(mr8),wr(mr8),function(t,e){if(t&&t.children)for(var r=t.children.length-1;r=0;r--)if(!xr(t.children[r],e))return;return!1!==e(t)}),Mr=function(t,e){function==typeof e&&xr(t,e)},kr={circularR,concentricz,dagreD,forceVt,g6forceYt,comboForcefunction(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.center=[0,0],e.maxIteration=100,e.gravity=10,e.comboGravity=10,e.linkDistance=10,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1300),e.alphaTarget=0,e.velocityDecay=.6,e.edgeStrength=.2,e.nodeStrength=30,e.preventOverlap=!1,e.preventNodeOverlap=!1,e.preventComboOverlap=!1,e.collideStrength=void 0,e.nodeCollideStrength=void 0,e.comboCollideStrength=void 0,e.optimizeRangeFactor=1,e.onTick=function(){},e.onLayoutEnd=function(){},e.depthAttractiveForceScale=.5,e.depthRepulsiveForceScale=2,e.nodes=[],e.edges=[],e.combos=[],e.comboTrees=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.oriComboMap={},e.nodeIdxMap={},e.comboMap={},e.previousLayouted=!1,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration100,center[0,0],gravity10,speed1,comboGravity30,preventOverlap!1,preventComboOverlap!0,preventNodeOverlap!0,nodeSpacingvoid 0,collideStrengthvoid 0,nodeCollideStrength.5,comboCollideStrength.5,comboSpacing20,comboPadding10,edgeStrength.2,nodeStrength30,linkDistance10}},e.prototype.execute=function(){var t=this.nodes,e=this.center;if(this.comboTree={idcomboTreeRoot,depth-1,childrenthis.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);this.initVals(),this.run(),this.onLayoutEnd()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.previousLayoutedt.maxIteration5t.maxIteration;t.widthundefined==typeof window(t.width=window.innerWidth),t.heightundefined==typeof window(t.height=window.innerHeight);var n=t.center,o=t.velocityDecay,i=t.comboMap;t.previousLayoutedt.initPos(i);for(var a=function(r){var n=[];e.forEach((function(t,e){n[e]={x0,y0}})),t.applyCalculate(n),t.applyComboCenterForce(n),e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=n[e].xo,t.y+=n[e].yo)})),t.alpha+=(t.alphaTarget-t.alpha)t.alphaDecay,t.onTick()},u=0;ur;u++)a();var s=[0,0];e.forEach((function(t){k(t.x)&&k(t.y)&&(s[0]+=t.x,s[1]+=t.y)})),s[0]=e.length,s[1]=e.length;var c=[n[0]-s[0],n[1]-s[1]];e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=c[0],t.y+=c[1])})),t.combos.forEach((function(t){var e=i[t.id];e&&e.empty&&(t.x=e.cxt.x,t.y=e.cyt.y)})),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this.edges,e=this.nodes,r=this.combos,n={},o={},i={};e.forEach((function(t,e){o[t.id]=t,i[t.id]=e})),this.nodeMap=o,this.nodeIdxMap=i;var a={};r.forEach((function(t){a[t.id]=t})),this.oriComboMap=a,this.comboMap=this.getComboMap();var u=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlapu,this.preventNodeOverlap=this.preventNodeOverlapu;var s=this.collideStrength;s&&(this.comboCollideStrength=s,this.nodeCollideStrength=s);for(var c=0;ct.length;++c)n[t[c].source]n[t[c].source]++n[t[c].source]=1,n[t[c].target]n[t[c].target]++n[t[c].target]=1;var f=[];for(c=0;ct.length;++c)f[c]=n[t[c].source](n[t[c].source]+n[t[c].target]);this.bias=f;var h,l,d=this.nodeSize,p=this.nodeSpacing;if(l=k(p)function(){return p}g(p)pfunction(){return 0},this.nodeSpacing=l,d)if(g(d))h=function(t){return d(t)};else if(y(d)){var v=(d[0]d[1]d[0]d[1])2;h=function(t){return v}}else{var m=d2;h=function(t){return m}}else h=function(t){return t.sizey(t.size)(t.size[0]t.size[1]t.size[0]t.size[1])2t.size210};this.nodeSize=h;var b,w=this.comboSpacing;b=k(w)function(){return w}g(w)wfunction(){return 0},this.comboSpacing=b;var x,M=this.comboPadding;x=k(M)function(){return M}y(M)function(){return Math.max.apply(null,M)}g(M)Mfunction(){return 0},this.comboPadding=x;var _,S=this.linkDistance;S(S=10),_=k(S)function(t){return S}S,this.linkDistance=_;var E,j=this.edgeStrength;j(j=1),E=k(j)function(t){return j}j,this.edgeStrength=E;var A,O=this.nodeStrength;O(O=30),A=k(O)function(t){return O}O,this.nodeStrength=A},e.prototype.initPos=function(t){this.nodes.forEach((function(e,r){if(e.comboId){var n=t[e.comboId];e.x=n.cx+100(r+1),e.y=n.cy+100(r+1)}else e.x=100(r+1),e.y=100(r+1)}))},e.prototype.getComboMap=function(){var t=this,e=t.nodeMap,r=t.nodeIdxMap,n=t.comboTrees,o=t.oriComboMap,i={};return(n[]).forEach((function(n){var a=[];Mr(n,(function(n){if(node===n.itemType)return!0;if(!o[n.id])return!0;if(void 0===i[n.id]){var u={namen.id,cx0,cy0,count0,deptht.oriComboMap[n.id].depth,children[]};i[n.id]=u}var s=n.children;s&&s.forEach((function(t){if(!i[t.id]&&!e[t.id])return!0;a.push(t)}));var c=i[n.id];if(c.cx=0,c.cy=0,0===a.length){c.empty=!0;var f=o[n.id],h=Object.keys(e).length,l=n.id+-visual-child-+h,d={idl,xf.x,yf.y,depthc.depth+1,itemTypenode};t.nodes.push(d),e[l]=d,r[l]=h,c.cx=f.x,c.cy=f.y,a.push(d)}return a.forEach((function(t){if(c.count++,node!==t.itemType){var r=i[t.id];return k(r.cx)&&(c.cx+=r.cx),void(k(r.cy)&&(c.cy+=r.cy))}var n=e[t.id];n&&(k(n.x)&&(c.cx+=n.x),k(n.y)&&(c.cy+=n.y))})),c.cx=c.count,c.cy=c.count,c.children=a,!0}))})),i},e.prototype.applyComboCenterForce=function(t){var e=this.gravity,r=this.comboGravitye,n=this.alpha,o=this.comboTrees,i=this.nodeIdxMap,a=this.nodeMap,u=this.comboMap;(o[]).forEach((function(e){Mr(e,(function(e){if(node===e.itemType)return!0;if(!u[e.id])return!0;var o=u[e.id],s=.5(o.depth+1),c=o.cx,f=o.cy;return o.cx=0,o.cy=0,o.children.forEach((function(e){if(node!==e.itemType){var h=u[e.id];return h&&k(h.cx)&&(o.cx+=h.cx),void(h&&k(h.cy)&&(o.cy+=h.cy))}var l=a[e.id],d=l.x-c.005,p=l.y-f.005,v=Math.sqrt(dd+pp),g=i[l.id],y=rnvs;t[g].x-=dy,t[g].y-=py,k(l.x)&&(o.cx+=l.x),k(l.y)&&(o.cy+=l.y)})),o.cx=o.count,o.cy=o.count,!0}))}))},e.prototype.applyCalculate=function(t){var e=this.comboMap,r=this.nodes,n={};r.forEach((function(t,e){r.forEach((function(r,o){if(!(eo)){var i=t.x-r.x.005,a=t.y-r.y.005,u=ii+aa,s=Math.sqrt(u);u1&&(u=s),n[t.id+-+r.id]={vxi,vya,vl2u,vls},n[r.id+-+t.id]={vx-i,vy-a,vl2u,vls}}}))})),this.updateComboSizes(e),this.calRepulsive(t,n),this.calAttractive(t,n),this.preventComboOverlap&&this.comboNonOverlapping(t,e)},e.prototype.updateComboSizes=function(t){var e=this,r=e.comboTrees,n=e.nodeMap,o=e.nodeSize,i=e.comboSpacing,a=e.comboPadding;(r[]).forEach((function(r){var u=[];Mr(r,(function(r){if(node===r.itemType)return!0;var s=t[r.id];if(s){var c=r.children;c&&c.forEach((function(e){(t[e.id]n[e.id])&&u.push(e)})),s.minX=10,s.minY=10,s.maxX=-10,s.maxY=-10,u.forEach((function(t){if(node!==t.itemType)return!0;var e=n[t.id];if(!e)return!0;var r=o(e),i=e.x-r,a=e.y-r,u=e.x+r,c=e.y+r;s.minXi&&(s.minX=i),s.minYa&&(s.minY=a),s.maxXu&&(s.maxX=u),s.maxYc&&(s.maxY=c)}));var f=e.oriComboMap[r.id].sizeyr.defaultCombo.size;y(f)&&(f=f[0]);var h=Math.max(s.maxX-s.minX,s.maxY-s.minY,f);return s.r=h2+i(s)2+a(s),!0}}))}))},e.prototype.comboNonOverlapping=function(t,e){var r=this.comboTree,n=this.comboCollideStrength,o=this.nodeIdxMap,i=this.nodeMap;Mr(r,(function(r){if(e[r.id]i[r.id]comboTreeRoot===r.id){var a=r.children;return a&&a.length1&&a.forEach((function(r,u){if(node!==r.itemType){var s=e[r.id];s&&a.forEach((function(a,c){if(!(u=c)&&node!==a.itemType){var f=e[a.id];if(f){var h=s.cx-f.cx.005,l=s.cy-f.cy.005,d=hh+ll,p=s.r,v=f.r,g=p+v,y=vv,m=pp;if(dgg){var b=r.children;if(!b0===b.length)return;var w=a.children;if(!w0===w.length)return;var x=Math.sqrt(d),M=(g-x)xn,k=hM,_=lM,S=y(m+y),E=1-S;b.forEach((function(e){if(node===e.itemType&&i[e.id]){var r=o[e.id];w.forEach((function(e){if(node===e.itemType&&i[e.id]){var n=o[e.id];t[r].x+=kS,t[r].y+=_S,t[n].x-=kE,t[n].y-=_E}}))}}))}}}}))}})),!0}}))},e.prototype.calRepulsive=function(t,e){var r=this,n=r.nodes,o=r.widthr.optimizeRangeFactor,i=r.nodeStrength,a=r.alpha,u=r.nodeCollideStrength,s=r.preventNodeOverlap,c=r.nodeSize,f=r.nodeSpacing,h=r.depthRepulsiveForceScale,l=r.center;n.forEach((function(d,p){if(d.x&&d.y){if(l){var v=r.gravity,g=d.x-l[0].005,y=d.y-l[1].005,m=Math.sqrt(gg+yy);t[p].x-=gvam,t[p].y-=yvam}n.forEach((function(r,n){if(p!==n&&r.x&&r.y){var l=e[d.id+-+r.id],v=l.vl2,g=l.vl;if(!(go)){var y=e[d.id+-+r.id],m=y.vx,b=y.vy,w=Math.abs(r.depth-d.depth)+11;r.comboId!==d.comboId&&w++;var x=wMath.pow(h,w)1,M=i(r)avx;if(t[p].x+=mM,t[p].y+=bM,pn&&s){var k=c(d)+f(d),_=c(r)+f(r),S=k+_;if(vSS){var E=(S-g)gu,j=__,A=j(kk+j),O=mE,N=bE;t[p].x+=OA,t[p].y+=NA,A=1-A,t[n].x-=OA,t[n].y-=NA}}}}}))}}))},e.prototype.calAttractive=function(t,e){var r=this,n=r.edges,o=r.linkDistance,i=r.alpha,a=r.edgeStrength,u=r.bias,s=r.depthAttractiveForceScale;n.forEach((function(n,c){if(n.source&&n.target&&n.source!==n.target){var f=r.nodeIdxMap[n.source],h=r.nodeIdxMap[n.target],l=r.nodeMap[n.source],d=r.nodeMap[n.target],p=Math.abs(l.depth-d.depth);l.comboId===d.comboId&&(p=2);var v=pMath.pow(s,p)1;if(l.comboId!==d.comboId&&1===vv=s2l.comboId===d.comboId&&(v=2),k(d.x)&&k(l.x)&&k(d.y)&&k(l.y)){var g=e[n.target+-+n.source],y=g.vl,m=g.vx,b=g.vy,w=(y-o(n))yia(n)v,x=mw,M=bw,_=u[c];t[h].x-=x_,t[h].y-=M_,t[f].x+=x(1-_),t[f].y+=M(1-_)}}}))},e}(c),fruchtermanHt,grid$t,mdsQe,radialer,randomrr};o()(kr,(function(t,e){h.registerLayout(e,{},t)}));var _r=h,Sr=self;Sr.onmessage=function(t){(function(t){return t.data.type===Dt})(t)&&function(t){switch(t.data.type){case Dtvar e=t.data,r=e.nodes,n=e.edges,o=e.layoutCfg,i=void 0===o{}o,a=i.type,u=_r[a];if(!u){Sr.postMessage({typeLt,messagelayout +a+ not found});break}var s=new u(i);s.init({nodesr,edgesn}),s.execute(),Sr.postMessage({typeqt,nodesr}),s.destroy()}}(t)};e.default=null}]);n# sourceMappingURL=g6Layout.worker.js.map',Worker,void 0,r.p+g6Layout.worker.js)},vo=function(t){return setTimeout(t,16)},yo=function(t){return clearTimeout(t)},mo=function(t){return(window.requestAnimationFramewindow.webkitRequestAnimationFramevo)(t)},bo=function(t){return(window.cancelAnimationFramewindow.webkitCancelAnimationFrameyo)(t)},xo=function(){function t(t){this.graph=t,this.layoutCfg=t.get(layout){},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return t.prototype.initLayout=function(){},t.prototype.getWorker=function(){return this.worker(undefined==typeof Worker(console.warn(Web worker is not supported in current browser.),this.worker=null)this.worker=new go),this.worker},t.prototype.stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(bo(t.requestId),t.requestId=null),t.requestId2&&(bo(t.requestId2),t.requestId2=null))},t.prototype.getLayoutType=function(){return this.layoutCfg.type},t.prototype.layout=function(t){var e=this.graph;this.data=this.setDataFromGraph();var r=this.data.nodes;if(!r)return!1;var n=e.get(width),i=e.get(height),o={};Object.assign(o,{widthn,heighti,center[n2,i2]},this.layoutCfg),this.layoutCfg=o;var a=!!this.layoutType,s=this.layoutMethod;s&&s.destroy(),e.emit(beforelayout);var u=this.initPositions(o.center,r);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,t))return!0;if(force===this.layoutTypeg6force===this.layoutType){var c=o.onTick,h=function(){c&&c(),e.refreshPositions()};o.tick=h;var f=o.onLayoutEnd;o.onLayoutEnd=function(){f&&f(),e.emit(afterlayout)}}elsecomboForce===this.layoutType&&(o.comboTrees=e.get(comboTrees));var l=!1;if(void 0!==this.layoutType){try{s=new fo[this.layoutType](o)}catch(t){return console.warn(The layout method +this.layoutType+ does not exist! Please specify it first.),!1}if(l=s.enableTick){var d=o.onTick,p=o.onLayoutEnd;h=function(){d&&d(),e.refreshPositions()};s.tick=h;s.onLayoutEnd=function(){p&&p(),e.emit(afterlayout)}}s.init(this.data),a&&s.execute(),this.layoutMethod=s}return!a&&uforce===this.layoutTypel(e.emit(afterlayout),this.refreshLayout()),!1},t.prototype.layoutWithWorker=function(t,e){var r=this,n=t.nodes,i=t.edges,o=this.layoutCfg,a=(this.graph,this.getWorker()),s=this.workerData;if(!a)return!1;s.requestId=null,s.requestId2=null,s.currentTick=null,s.currentTickData=null;var u=function(t,e){var r={};if(t&&object==typeof t)return Object.keys(t).forEach((function(n){t.hasOwnProperty(n)&&e(t[n])&&(r[n]=t[n])})),r;return t}(o,(function(t){returnfunction!=typeof t}));return a.postMessage({typeWn,nodesn,edgesi,layoutCfgu}),a.onmessage=function(n){r.handleWorkerMessage(n,t,e)},!0},t.prototype.handleWorkerMessage=function(t,e,r){var n=this.graph,i=this.workerData,o=this.layoutCfg,a=t.data,s=a.type,u=function(){o.onTick&&o.onTick()},c=function(){o.onLayoutEnd&&o.onLayoutEnd(),n.emit(afterlayout)};switch(s){case $ni.currentTick=a.currentTick,i.currentTickData=a,i.requestId(i.requestId=mo((function(){wo(e,a),n.refreshPositions(),u(),1===a.currentTick&&r&&r(),a.currentTick===a.totalTicksc()i.currentTick===a.totalTicks&&(i.requestId2=mo((function(){wo(e,i.currentTickData),n.refreshPositions(),i.requestId2=null,u(),c()}))),i.requestId=null})));break;case Znnull==i.currentTick&&(wo(e,a),this.refreshLayout(),r&&r(),n.emit(afterlayout))}},t.prototype.refreshLayout=function(){var t=this.graph;t.get(animate)t.positionsAnimate()t.refreshPositions()},t.prototype.updateLayoutCfg=function(t){var e=this.graph,r=this.layoutMethod;this.layoutType=t.type,r(this.data=this.setDataFromGraph(),this.stopWorker(),t.workerEnabled&&this.layoutWithWorker(this.data,null)(r.init(this.data),r.updateCfg(t),e.emit(beforelayout),r.execute(),force===this.layoutTyper.enableTicke.emit(afterlayout),this.refreshLayout()))console.warn(You did not assign any layout type and the graph has no previous layout method!)},t.prototype.changeLayout=function(t){var e=this.graph,r=this.layoutMethod;this.layoutType=t,this.layoutCfg=e.get(layout){},this.layoutCfg.type=t,r&&r.destroy(),this.layout()},t.prototype.changeData=function(){var t=this.layoutMethod;t&&t.destroy(),this.layout()},t.prototype.destroyLayout=function(){var t=this.layoutMethod,e=this.graph;t&&t.destroy(),e.set(layout,void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},t.prototype.setDataFromGraph=function(){var t=[],e=[],r=[],n=this.graph.getNodes(),i=this.graph.getEdges(),o=this.graph.getCombos();return n.forEach((function(e){if(e.isVisible()){var r=e.getModel();t.push(r)}})),i.forEach((function(t){if(!t.destroyed&&t.isVisible()){var r=t.getModel();r.isComboEdgee.push(r)}})),o.forEach((function(t){if(!t.destroyed&&t.isVisible()){var e=t.getModel();r.push(e)}})),{nodest,edgese,combosr}},t.prototype.relayout=function(t){var e=this.graph,r=this.layoutMethod,n=this.layoutCfg;if(t){this.data=this.setDataFromGraph();var i=this.data.nodes;if(!i)return!1;this.initPositions(n.center,i),r.init(this.data)}force===this.layoutType&&(r.ticking=!1,r.forceSimulation.stop()),e.emit(beforelayout),r.execute(t),force===this.layoutTyper.enableTicke.emit(afterlayout),this.refreshLayout()},t.prototype.layoutAnimate=function(){},t.prototype.moveToZero=function(){var t=this.graph.get(data).nodes;if(void 0!==t[0].x&&null!==t[0].x&&!P(t[0].x)){var e=[0,0];t.forEach((function(t){e[0]+=t.x,e[1]+=t.y})),e[0]=t.length,e[1]=t.length,t.forEach((function(t){t.x-=e[0],t.y-=e[1]}))}},t.prototype.initPositions=function(t,e){var r=this.graph;if(!e)return!1;var n=!0,i=.85r.get(width),o=.85r.get(height),a=e.length,s=Math.ceil(Math.sqrt(a)(io)),u=Math.ceil(as),c=i(s-1),h=o(u-1);isFinite(c)&&c(c=0),isFinite(h)&&c(h=0);var f=t[0]-i2,l=t[1]-o2;return e.forEach((function(t,e){P(t.x)&&(n=!1,t.x=e%sc+f),P(t.y)&&(n=!1,t.y=Math.floor(es)h+l)})),n},t.prototype.destroy=function(){var t=this.layoutMethod;this.graph=null,t&&t.destroy();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0},t}();function wo(t,e){var r=t.nodes,n=e.nodes;r.forEach((function(t,e){t.x=n[e].x,t.y=n[e].y}))}var Mo=null,So=function(){function t(t){this.graph=t,this.cachedStates={enabled{},disabled{}},this.destroyed=!1}return t.checkCache=function(t,e,r){if(r[e]){var n=r[e].indexOf(t);n=0&&r[e].splice(n,1)}},t.cacheState=function(t,e,r){r[e](r[e]=[]),r[e].push(t)},t.prototype.updateState=function(e,r,n){var i=this,o=t.checkCache,a=t.cacheState;if(!e.destroyed){var s=this.cachedStates,u=s.enabled,c=s.disabled;n(o(e,r,c),a(e,r,u))(o(e,r,u),a(e,r,c)),Mo&&clearTimeout(Mo),Mo=setTimeout((function(){Mo=null,i.updateGraphStates()}),16)}},t.prototype.updateStates=function(t,e,r){var n=this;_()(e)this.updateState(t,e,r)e.forEach((function(e){n.updateState(t,e,r)}))},t.prototype.updateGraphStates=function(){var t=this.graph.get(states),e=this.cachedStates;d()(e.disabled,(function(e,r){t[r]&&(t[r]=t[r].filter((function(t){return e.indexOf(t)0&&!e.destroyed})))})),d()(e.enabled,(function(e,r){if(t[r]){var n={};t[r].forEach((function(t){t.destroyed(n[t.get(id)]=!0)})),e.forEach((function(e){if(!e.destroyed){var i=e.get(id);n[i](n[i]=!0,t[r].push(e))}}))}else t[r]=e})),this.graph.emit(graphstatechange,{statest}),this.cachedStates={enabled{},disabled{}}},t.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Mo&&clearTimeout(Mo),Mo=null,this.destroyed=!0},t}(),_o=null,ko=function(){function t(e){this.graph=e;var r=e.get(groupStyle);this.styles=St()({},t.getDefaultCfg(),r),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return t.getDefaultCfg=function(){return{default{lineWidth1,stroke#A3B1BF,strokeOpacity.9,fill#F3F9FF,fillOpacity.8,opacity.8,disCoefficient.6,minDis30,maxDis30},hover{stroke#faad14,fill#ffe58f,fillOpacity.3,opacity.3,lineWidth3},collapse{r30,width80,height40,stroke#A3B1BF,lineWidth3,fill#F3F9FF,offsetX-15,offsetY5},iconhttpsgw.alipayobjects.comzosrmsportalMXXetJAxlqrbisIuZxDO.svg,operatorBtn{collapse{imghttpsgw.alipayobjects.comzosrmsportaluZVdwjJGqDooqKLKtvGA.svg,width16,height16},expand{width16,height16,imghttpsgw.alipayobjects.comzosrmsportalMXXetJAxlqrbisIuZxDO.svg}},visible!1}},t.prototype.create=function(t,e,r,n,i,o){void 0===r&&(r=circle),void 0===n&&(n=0),void 0===i&&(i=!1),void 0===o&&(o={});var a=this.graph,s=a.get(customGroup);if(s.get(children).map((function(t){return t.get(id)})).indexOf(t)-1)console.warn(ID +t+ ID);else{var u=s.addGroup({idt,zIndexn}),c=this.styles.default,h=this.calculationGroupPosition(e),f=h.x,l=h.y,d=h.width,p=h.height,g=h.maxX,v=this.getGroupPadding(t);a.get(groupBBoxs)[t]={xf,yl,widthd,heightp,maxXg};var y=null;if(i){var m=a.get(groups);e.forEach((function(e){var r=a.findById(e).getModel();r.groupId(r.groupId=t)})),m.find((function(e){return e.id===t}))(m.push({idt,titleo}),a.set({groupsm}))}var b=a.get(groups).filter((function(e){return e.id===t}));b&&b.length0&&(y=b[0].title);var x=0,w=0,M=null;if(circle===r){var S=(d+2f)2,_=(p+2l)2,O=(dpd2p2)+v;M=u.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},c),{xS,y_,rO}),draggable!0,capture!0,zIndexn,groupIdt,namecircle-group-shape}),x=S,w=_-O,this.setDeletageGroupByStyle(t,u,{widthd,heightp,xS,y_,rO})}else{var E=vc.disCoefficient;M=u.addShape(rect,{attrsObject(k.__assign)(Object(k.__assign)({},c),{xf-E,yl-E,widthd+2E,heightp+2E}),draggable!0,capture!0,zIndexn,groupIdt,namerect-group-shape}),x=f-E+15,w=l-E+15,this.setDeletageGroupByStyle(t,u,{xf-E,yl-E,widthd+E,heightp+E,btnOffsetg-3})}if(y){var j=y.offsetX,C=void 0===j0j,A=y.offsetY,P=void 0===A0A,I=y.text,T=void 0===IyI,N=Object(k.__rest)(y,[offsetX,offsetY,text]);u.addShape(text,{attrsObject(k.__assign)({textT,stroke#444,xx+C,yw+P},N),classNamegroup-title,namegroup-title-shape}).set(capture,!1)}u.set(keyShape,M),a.get(groupNodes)[t]=e}},t.prototype.setGroupStyle=function(t,e){if(t&&!t.get(destroyed)){var r={},n=this.styles,i=n.hover,o=n.default;_()(e)default===er=St()({},o)hover===e&&(r=St()({},i))r=St()({},o,e),Object.keys(r).forEach((function(e){t.attr(e,r[e])}))}},t.prototype.calculationGroupPosition=function(t,e){if(void 0===e&&(e={x100,y100}),0===t.length)return{xe.x,ye.y,width100,height100};var r=this.graph,n=10,i=-10,o=10,a=-10;t.forEach((function(t){var e=(_()(t)r.findById(t)t).getBBox(),s=e.minX,u=e.minY,c=e.maxX,h=e.maxY;sn&&(n=s),uo&&(o=u),ci&&(i=c),ha&&(a=h)}));var s=Math.floor(n),u=Math.floor(o);return{xs,yu,widthMath.ceil(i)-s,heightMath.ceil(a)-u,maxXMath.ceil(i)}},t.prototype.flatToTree=function(t,e,r){void 0===e&&(e=id),void 0===r&&(r=parentId);var n=[],i=[];return t.forEach((function(t){n[t[e]]=t})),t.forEach((function(t){var e=n[t[r]];e(e.children=e.children[],e.children.push(t))i.push(t)})),i},t.prototype.getGroupPadding=function(t){var e=this.graph,r=this.styles.default,n=e.get(groups),i=n.filter((function(e){return e.parentId===t})),o=1;return i.length0&&(_o(_o=this.flatToTree(n)),pr(_o[0],(function(e){if(e.parentId===t&&e.children)return o+=e.children.length,!0}))),n.filter((function(e){return e.id===t&&!e.parentId})).length0&&(o+=1),!!(n.filter((function(e){return e.parentId===t})).length0)r.maxDis+30(o1o21)r.minDis},t.prototype.setDeletageGroupByStyle=function(t,e,r){var n=r.width,i=r.height,o=r.x,a=r.y,s=r.r,u=r.btnOffset,c=this.customGroup[t];if(c){var h=c.groupStyle,f=St()({},h,r);this.customGroup[t]={nodeGroupe,groupStylef}}else this.customGroup[t]={nodeGroupe,groupStyle{widthn,heighti,xo,ya,rs,btnOffsetu}}},t.prototype.getDeletageGroupById=function(t){return this.customGroup[t]},t.prototype.collapseExpandGroup=function(t){var e=this.getDeletageGroupById(t).nodeGroup;e.get(hasHidden)(e.set(hasHidden,!1),this.expandGroup(t))(e.set(hasHidden,!0),this.collapseGroup(t))},t.prototype.setGroupTmpNode=function(t,e){var r=this.graph,n=r.get(groupNodes),i=r.get(groups);n[t].indexOf(e)0&&n[t].push(e);var o=i.filter((function(e){return e.id===t})),a=null;o.length0&&(a=o[0].parentId),a&&this.setGroupTmpNode(a,e)},t.prototype.collapseGroup=function(t){var e=this,r=this.getDeletageGroupById(t).nodeGroup,n=this.styles.collapse,i=this.graph,o=i.get(groupType),a=i.get(groupNodes)[t],s=r.get(keyShape),u=n.r,c=n.width,h=n.height,f=n.offsetX,l=n.offsetY,d=Object(k.__rest)(n,[r,width,height,offsetX,offsetY]);Object.keys(d).forEach((function(t){s.attr(t,d[t])}));var p={groupIdt,idt+-custom-node,xs.attr(x),ys.attr(y),style{ru},typecircle},g=r.find((function(t){returngroup-title===t.get(className)}));circle===o(s.animate({ru},{duration500,easingeaseCubic}),g&&g.attr({xs.attr(x)+f,ys.attr(y)+l}))rect===o&&(s.animate({widthc,heighth},{duration500,easingeaseCubic}),g&&g.attr({xs.attr(x)+10,ys.attr(y)+h2+5}),p={groupIdt,idt+-custom-node,xs.attr(x)+c2,ys.attr(y)+h2,size[c,h],typerect});var v=i.getEdges(),y=v.filter((function(t){var e=t.getModel();return!a.includes(e.source)&&a.includes(e.target)})),m=v.filter((function(t){var e=t.getModel();return a.includes(e.source)&&!a.includes(e.target)})),b=v.filter((function(t){var e=t.getModel();return a.includes(e.source)&&a.includes(e.target)}));if(a.forEach((function(r){var n=i.findById(r),o=n.getModel().groupId;o&&o!==t&&e.getDeletageGroupById(o).nodeGroup.hide();n.hide()})),b.forEach((function(t){var e=t.getSource(),r=t.getTarget();e.isVisible()&&r.isVisible()t.show()t.hide()})),y.length0m.length0){var x=i.add(node,p);x.set(capture,!1),x.hide(),this.delegateInGroup[t]={delegateNodex},this.setGroupTmpNode(t,t+-custom-node),this.updateEdgeInGroupLinks(t,y,m)}},t.prototype.updateEdgeInGroupLinks=function(t,e,r){var n=this.graph,i={};e.map((function(e){var r=e.getModel(),o=e.get(id),a=r.target;return i[o]=a,n.updateItem(e,{targett+-custom-node}),!0}));var o={};r.map((function(e){var r=e.getModel(),i=e.get(id),a=r.source;return o[i]=a,n.updateItem(e,{sourcet+-custom-node}),!0})),this.delegateInGroup[t]=St()({sourceOutTargetInEdgese,sourceInTargetOutEdgesr,edgesOutsi,edgesIno},this.delegateInGroup[t])},t.prototype.expandGroup=function(t){var e=this,r=this.graph,n=r.get(groupType),i=r.get(groupNodes)[t],o=i.filter((function(t){return-1===t.indexOf(custom-node)})),a=this.calculationGroupPosition(o),s=a.width,u=a.height,c=this.getDeletageGroupById(t).nodeGroup,h=c.get(keyShape),f=this.styles,l=f.default,d=f.collapse;Object.keys(l).forEach((function(t){h.attr(t,l[t])}));var p=c.find((function(t){returngroup-title===t.get(className)})),g=this.getGroupPadding(t);if(circle===n){var v=sus2u2;h.animate({rv+g},{duration500,easingeaseCubic})}else if(rect===n){var y=d.width,m=d.height;h.animate({widthy+s+gl.disCoefficient2,heightm+u+gl.disCoefficient2},{duration500,easingeaseCubic})}if(p){var b=null,x=r.get(groups).filter((function(e){return e.id===t}));x&&x.length0&&(b=x[0].title);var w=b.offsetX,M=void 0===w0w,S=b.offsetY,_=void 0===S0S;circle===np.animate({xh.attr(x)+M,yh.attr(y)-h.attr(r)+_},{duration600,easingeaseCubic})rect===n&&p.animate({xh.attr(x)+(15+M),yh.attr(y)+(15+_)},{duration600,easingeaseCubic})}setTimeout((function(){i.forEach((function(n){var i=r.findById(n),o=i.getModel().groupId;if(o&&o!==t){var a=e.getDeletageGroupById(o).nodeGroup;a.show(),a.get(hasHidden)i.show()}else i.show()})),r.getEdges().filter((function(t){var e=t.getModel();return i.includes(e.source)i.includes(e.target)})).forEach((function(t){var e=t.getSource(),r=t.getTarget();e.isVisible()&&r.isVisible()&&t.show()}))}),300);var k=this.delegateInGroup[t];if(k){var O=k.sourceOutTargetInEdges,E=k.sourceInTargetOutEdges,j=k.edgesOuts,C=k.edgesIn,A=k.delegateNode;O.map((function(t){var e=t.get(id),n=j[e];return r.updateItem(t,{targetn}),!0})),E.map((function(t){var e=t.get(id),n=C[e];return r.updateItem(t,{sourcen}),!0}));var P=A.getModel();this.deleteTmpNode(t,P.id),r.remove(A),delete this.delegateInGroup[t]}},t.prototype.deleteTmpNode=function(t,e){var r=this.graph,n=r.get(groups),i=r.get(groupNodes)[t],o=i.indexOf(e);i.splice(o,1);var a=n.filter((function(e){return e.id===t})),s=null;a.length0&&(s=a[0].parentId),s&&this.deleteTmpNode(s,e)},t.prototype.remove=function(t){var e=this.graph,r=this.getDeletageGroupById(t);if(r){var n=r.nodeGroup,i=e.get(groupNodes),o=i[t];o.forEach((function(r){var n=e.findById(r),i=n.getModel(),o=i.groupId;o&&t===o&&(delete i.groupId,e.updateItem(n,i))})),n.destroy(),delete this.customGroup[t];var a=e.get(groups);if(a.length0){var s=a.filter((function(e){return e.id!==t}));e.set(groups,s)}for(var u=null,c=null,h=0;ha.length;h++){var f=a[h];if(t===f.id){u=f.parentId,c=f;break}}c&&delete c.parentId,delete i[t],u&&(i[u]=i[u].filter((function(t){return!o.includes(t)})))}},t.prototype.updateGroup=function(t,e,r){var n=this.graph,i=n.get(groupType);this.updateItemInGroup(t,e,r);for(var o=n.save().groups,a=null,s=null,u=0;uo.length;u++){var c=o[u];if(t===c.id){a=c.parentId,s=c;break}}if(a){var h=this.getDeletageGroupById(a).nodeGroup,f=h.get(keyShape);this.setGroupStyle(f,default);var l=f.getBBox(),d=l.minX,p=l.minY,g=l.maxX,v=l.maxY,y=this.getDeletageGroupById(t).nodeGroup.get(keyShape).getBBox(),m=y.x,b=y.y;if(!(mg&&md&&bv&&bp)){delete s.parentId;var x=n.get(groupNodes),w=x[t],M=x[a];x[a]=M.filter((function(t){return-1===w.indexOf(t)}));var S=this.calculationGroupPosition(x[a]),_=S.x,k=S.y,O=S.width,E=S.height,j=this.getGroupPadding(a),C=h.find((function(t){returngroup-title===t.get(className)})),A=0,P=0;if(circle===i){var I=OEO2E2,T=_,N=k;f.attr({rI+j,xT,yN}),A=T,P=N-f.attr(r)}else if(rect===i){var D=jthis.styles.default.disCoefficient;f.attr({x_-D,yk-D}),A=_-D+15,P=k-D+15}if(C){var B=s.title,R=0,L=0;B&&(R=B.offsetX,L=B.offsetY),C.attr({xA+R,yP+L})}}}},t.prototype.updateItemInGroup=function(t,e,r){var n=this,i=this.graph,o=i.get(groupType),a=i.get(groupNodes),s=a[t],u=this.getDeletageGroupById(t).nodeGroup.getBBox(),c=[];s.forEach((function(t,r){var o=i.findById(t),a=o.getModel(),s=a.groupId;s&&!c.includes(s)&&c.push(s),n.nodePoint[r](n.nodePoint[r]={xa.x,ya.y});var h=e.x-u.x+n.nodePoint[r].x,f=e.y-u.y+n.nodePoint[r].y;n.nodePoint[r]={xh,yf},i.updateItem(o,{xh,yf})})),c.includes(t)c.push(t),c.forEach((function(t){var r=n.getDeletageGroupById(t).nodeGroup,i=r.get(keyShape),s=a[t].filter((function(t){return-1===t.indexOf(custom-node)})),u=n.calculationGroupPosition(s,e),c=u.x,h=u.y,f=u.width,l=u.height,d=0,p=0;if(circle===o){var g=(f+2c)2,v=(l+2h)2;i.attr({xg,yv}),d=g,p=v-i.attr(r)}else if(rect===o){var y=r.get(hasHidden),m={},b=n.getGroupPadding(t)n.styles.default.disCoefficient;d=c-b+15,p=h-b+15,y(m={xc-b,yh-b},p+=10)m={xc-b,yh-b,widthf+2b,heightl+2b},i.attr(m)}n.updateGroupTitle(r,t,d,p)}))},t.prototype.updateGroupTitle=function(t,e,r,n){var i=this.graph,o=t.find((function(t){returngroup-title===t.get(className)}));if(o){var a=null,s=i.get(groups).filter((function(t){return t.id===e}));s&&s.length0&&(a=s[0].title);var u=0,c=0;a&&(u=a.offsetX0,c=a.offsetY0),o.attr({xr+u,yn+c})}},t.prototype.dynamicChangeGroupSize=function(t,e,r){var n=t.item.getModel().groupId,i=this.graph,o=i.get(groupType),a=i.get(groupNodes),s=a[n];if(0===s.length){delete a[n];var u=i.get(groups);i.set(groups,u.filter((function(t){return t.id!==n}))),e.remove()}else{var c=this.calculationGroupPosition(s),h=c.x,f=c.y,l=c.width,d=c.height,p=this.getGroupPadding(n),g=0,v=0;if(circle===o){var y=ldl2d2,m=(l+2h)2,b=(d+2f)2;r.attr({ry+p,xm,yb}),g=m,v=b-r.attr(r)}else if(rect===o){var x=pthis.styles.default.disCoefficient;r.attr({xh-x,yf-x,widthl+2x,heightd+2x}),g=h-x+15,v=f-x+15}this.updateGroupTitle(e,n,g,v)}this.setGroupStyle(r,default)},t.prototype.resetNodePoint=function(){this.nodePoint.length=0},t.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},t}(),Oo=function(t){var e={};return t.getNodes().forEach((function(t){e[t.getID()]={degree0,inDegree0,outDegree0}})),t.getEdges().forEach((function(t){e[t.getSource().getID()].degree++,e[t.getSource().getID()].outDegree++,e[t.getTarget().getID()].degree++,e[t.getTarget().getID()].inDegree++})),e},Eo=function(){function t(e){this.compare=et.defaultCompareFunction}return t.defaultCompareFunction=function(t,e){return t===e0te-11},t.prototype.equal=function(t,e){return 0===this.compare(t,e)},t.prototype.lessThan=function(t,e){return this.compare(t,e)0},t.prototype.greaterThan=function(t,e){return this.compare(t,e)0},t.prototype.lessThanOrEqual=function(t,e){return this.lessThan(t,e)this.equal(t,e)},t.prototype.greaterThanOrEqual=function(t,e){return this.greaterThan(t,e)this.equal(t,e)},t.prototype.reverse=function(){var t=this.compare;this.compare=function(e,r){return t(r,e)}},t}(),jo=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return tt(this.value)+this.value},t}(),Co=function(){function t(t){void 0===t&&(t=null),this.head=null,this.tail=null,this.compare=new Eo(t)}return t.prototype.prepend=function(t){var e=new jo(t,this.head);return this.head=e,this.tail(this.tail=e),this},t.prototype.append=function(t){var e=new jo(t);return this.head(this.tail.next=e,this.tail=e,this)(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare.equal(this.head.value,t);)e=this.head,this.head=this.head.next;var r=this.head;if(null!==r)for(;r.next;)this.compare.equal(r.next.value,t)(e=r.next,r.next=r.next.next)r=r.next;return this.compare.equal(this.tail.value,t)&&(this.tail=r),e},t.prototype.find=function(t){var e=t.value,r=void 0===evoid 0e,n=t.callback,i=void 0===nvoid 0n;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==r&&this.compare.equal(o.value,r))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.nexte=e.nexte.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.nextthis.head=this.head.next(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach((function(t){return e.append(t)})),this},t.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},t.prototype.reverse=function(){for(var t=this.head,e=null,r=null;t;)r=t.next,t.next=e,e=t,t=r;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map((function(e){return e.toString(t)})).toString()},t}(),Ao=function(){function t(t){void 0===t&&(t=10),this.linkedList=new Co,this.maxStep=t}return Object.defineProperty(t.prototype,length,{getfunction(){return this.linkedList.toArray().length},enumerable!1,configurable!0}),t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.isMaxStack=function(){return this.toArray().length=this.maxStep},t.prototype.peek=function(){return this.isEmpty()nullthis.linkedList.head.value},t.prototype.push=function(t){this.linkedList.prepend(t),this.lengththis.maxStep&&this.linkedList.deleteTail()},t.prototype.pop=function(){var t=this.linkedList.deleteHead();return tt.valuenull},t.prototype.toArray=function(){return this.linkedList.toArray().map((function(t){return t.value}))},t.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},t}(),Po=function(t,e){var r=t.getNodes(),n=t.getEdges(),i=[],o={};if(!r)throw new Error(invalid nodes data!);return r&&r.forEach((function(t,e){o[t.getID()]=e;i.push([])})),n&&n.forEach((function(t){var r=t.getModel(),n=r.source,a=r.target,s=o[n],u=o[a];i[s][u]=1,e(i[u][s]=1)})),i},Io=function(t,e){var r=t.get(adjMatrix);r(r=Po(t,e));for(var n=[],i=r.length,o=0;oi;o+=1){n[o]=[];for(var a=0;ai;a+=1)o===an[o][a]=00!==r[o][a]&&r[o][a]n[o][a]=r[o][a]n[o][a]=10}for(var s=0;si;s+=1)for(o=0;oi;o+=1)for(a=0;ai;a+=1)n[o][a]n[o][s]+n[s][a]&&(n[o][a]=n[o][s]+n[s][a]);return n},To=function(t,e,r){return(t.y-r.y)(e.x-r.x)-(t.x-r.x)(e.y-r.y)},No=function(t){var e=t.map((function(t){return{xt.getModel().x,yt.getModel().y}}));e.sort((function(t,e){return t.x===e.xt.y-e.yt.x-e.x}));for(var r=[],n=0;ne.length;n++){for(;r.length=2&&To(r[r.length-2],r[r.length-1],e[n])=0;)r.pop();r.push(e[n])}var i=[];for(n=e.length-1;n=0;n--){for(;i.length=2&&To(i[i.length-2],i[i.length-1],e[n])=0;)i.pop();i.push(e[n])}return i.pop(),r.pop(),r.concat(i)},Do={maxRoutingIterations100,maxMarchingIterations100,pixelGroupSize2,edgeR010,edgeR110,nodeR05,nodeR110,morphBuffer5,threshold.001,skip16,nodeInfluenceFactor1,edgeInfluenceFactor1,negativeNodeInfluenceFactor-.5};function Bo(t,e,r){var n=!1,i=function(t,r){return e.cells[t+re.width]},o=function(t,e){var n=0;return i(t-1,e-1)=r&&(n+=1),i(t,e-1)r&&(n+=2),i(t-1,e)r&&(n+=4),i(t,e)r&&(n+=8),n},a=function(r,n){for(var i,a,s=r,u=n,c=0;ce.widthe.height;c++){if(i=s,a=u,t.findIndex((function(t){return t.x===s&&t.y===u}))-1){if(t[0].x===s&&t[0].y===u)return!0}else t.push({xs,yu});var h=o(s,u);switch(h){case-1return console.warn(Marched out of bounds),!0;case 0case 3case 2case 7s++;break;case 12case 14case 4s--;break;case 60===i&&(-1===as-=1s+=1);break;case 1case 13case 5u--;break;case 91===i&&(0===au-=1u+=1);break;case 10case 8case 11u++;break;defaultreturn console.warn(Marching squares invalid state +h),!0}}};this.march=function(){for(var t=0;te.width&&!n;t+=1)for(var s=0;se.height&&!n;s+=1)i(t,s)r&&15!==o(t,s)&&(n=a(t,s));return n}}var Ro=function(t,e){var r=Number.POSITIVE_INFINITY,n=null;return t.forEach((function(t){var i=ae(t,e);i=0&&ir&&(n=t,r=i)})),n};function Lo(t,e,r,n,i){var o=function(t,e,r){var n=null,i=Number.POSITIVE_INFINITY;return e.forEach((function(e){var o={xt.getModel().x,yt.getModel().y},a={xe.getModel().x,ye.getModel().y},s=ue(o,a),u=new re(o.x,o.y,a.x,a.y),c=r.reduce((function(t,e){return ae(e,u)0t+1t}),0);sMath.pow(c+1,2)i&&(n=e,i=sMath.pow(c+1,2))})),n}(t,r,e);if(null===o)return[];return function(t){for(var r=[];t.length0;){var n=t.pop();if(0===t.length){r.push(n);break}var i=t.pop(),o=new re(n.x1,n.y1,i.x2,i.y2);Ro(e,o)(r.push(n),t.push(i))t.push(o)}return r}(function(t,e,r,n){var i=[],o=[];o.push(t);for(var a=!0,s=0,u=function(t,e){var r=!1;return e.forEach((function(e){r(he(t,{xe.x1,ye.y1})he(t,{xe.x2,ye.y2}))&&(r=!0)})),r},c=function(t,e){for(var r=0,n=e;rn.length;r++){var i=n[r].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(Jt(o,t.x,t.y))return!0}return!1};a&&sr;){a=!1;for(var h=function(){var t=o.pop(),r=Ro(e,t);if(r){var h=oe(r,t),f=h[0];if(2===h[1]){var l=function(s){for(var h=n,l=Yo(r,h,f,s),d=u(l,o)u(l,i),p=c(l,e);!d&&p&&h=1;)l=Yo(r,h=1.5,f,s),d=u(l,o)u(l,i),p=c(l,e);!lds&&p(o.push(new re(t.x1,t.y1,l.x,l.y)),o.push(new re(l.x,l.y,t.x2,t.y2)),a=!0)};l(!0),al(!1)}}ai.push(t),s+=1};!a&&o.length;)h()}for(;o.length;)i.push(o.pop());return i}(new re(t.getModel().x,t.getModel().y,o.getModel().x,o.getModel().y),e,n,i))}var zo=function(t,e,r){var n=Object.assign(Do,r),i=se(t.map((function(t){return{xt.getModel().x,yt.getModel().y}})));t=t.sort((function(t,e){return ue({xt.getModel().x,yt.getModel().y},i)-ue({xe.getModel().x,ye.getModel().y},i)}));var o=[],a=[];t.forEach((function(t){Lo(t,e,o,n.maxRoutingIterations,n.morphBuffer).forEach((function(t){a.push(t)})),o.push(t)}));for(var s,u,c,h,f,l=function(t,e,r){var n={minXNumber.POSITIVE_INFINITY,minYNumber.POSITIVE_INFINITY,maxXNumber.NEGATIVE_INFINITY,maxYNumber.NEGATIVE_INFINITY,width0,height0,x0,y0},i=[];t.forEach((function(t){i.push(t.getBBox())})),e.forEach((function(t){i.push(t.getBBox())}));for(var o=0,a=i;oa.length;o++){var s=a[o];n.minX=(s.minXn.minXs.minXn.minX)-r,n.minY=(s.minYn.minYs.minYn.minY)-r,n.maxX=(s.maxXn.maxXs.maxXn.maxX)+r,n.maxY=(s.maxYn.maxYs.maxYn.maxY)+r}return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.x=n.minX,n.y=n.minY,n}(t,a,n.nodeR0),d=(s=l.width,u=l.height,c=n.pixelGroupSize,h=Math.ceil(sc),f=Math.ceil(uc),{cellsnew Float32Array(Math.max(0,hf)).fill(0),widthh,heightf}),p=[],g=[],v=0;vn.maxMarchingIterations;v++)if(Fo(t,e,a,l,d,n),g=[],new Bo(p=[],d,n.threshold).march()){var y=p.map((function(t){return{xMath.round(t.xn.pixelGroupSize+l.minX),yMath.round(t.yn.pixelGroupSize+l.minY)}}));if(y){var m=y.length;if(n.skip1)for(m=Math.floor(y.lengthn.skip);m3&&n.skip1;)n.skip-=1,m=Math.floor(y.lengthn.skip);for(var b=0,x=0;xm;x+=1,b+=n.skip)g.push({xy[b].x,yy[b].y})}if(g&&function(){for(var e=0,r=t;er.length;e++){var n=r[e],i=g.map((function(t){return[t.x,t.y]}));if(!Jt(i,n.getBBox().centerX,n.getBBox().centerY))return!1}return!0}())return g;if(n.threshold=.9,v=.5n.maxMarchingIterations)n.memberInfluenceFactor=1.2,n.edgeInfluenceFactor=1.2;else{if(!(0!==n.nonMemberInfluenceFactor&&e.length0))break;n.nonMemberInfluenceFactor=.8}}return g};function Fo(t,e,r,n,i,o){function a(t,e){var r=Math.floor((t-e)o.pixelGroupSize);return r00r}function s(t,e){return to.pixelGroupSize+e}var u=(o.nodeR0-o.nodeR1)(o.nodeR0-o.nodeR1),c=(o.edgeR0-o.edgeR1)(o.edgeR0-o.edgeR1),h=function(t,e){return[Math.min(a(t.minX,e+n.minX),i.width),Math.min(a(t.minY,e+n.minY),i.height),Math.min(a(t.maxX,-e+n.minX),i.width),Math.min(a(t.maxY,-e+n.minY),i.height)]},f=function(t,e){for(var r=t.getBBox(),a=h(r,o.nodeR1),u=a[0],c=a[1],f=a[2],l=a[3],d=c;dl;d+=1)for(var p=u;pf;p+=1)if(!(e0&&i[p+di.width]=0)){var g=s(p,n.minX),v=s(d,n.minY),y=fe({xg,yv},{xr.minX,yr.minY,widthr.width,heightr.height});if(yMath.pow(o.nodeR1,2)){var m=Math.sqrt(y)-o.nodeR1;i.cells[p+di.width]+=emm}}};o.nodeInfluenceFactor&&t.forEach((function(t){f(t,o.nodeInfluenceFactoru)})),o.edgeInfluenceFactor&&r.forEach((function(t){!function(t,e){for(var r=t.getBBox(),a=h(r,o.edgeR1),u=a[0],c=a[1],f=a[2],l=a[3],d=c;dl;d+=1)for(var p=u;pf;p+=1)if(!(e0&&i.cells[p+di.width]=0)){var g=s(p,n.minX),v=s(d,n.minY),y=ce({xg,yv},t);if(yMath.pow(o.edgeR1,2)){var m=Math.sqrt(y)-o.edgeR1;i.cells[p+di.width]+=emm}}}(t,o.edgeInfluenceFactorc)})),o.negativeNodeInfluenceFactor&&e.forEach((function(t){f(t,o.negativeNodeInfluenceFactoru)}))}function Yo(t,e,r,n){var i=t.getBBox(),o=r[0],a=r[1],s=r[2],u=r[3],c={topLeft{xi.minX-e,yi.minY-e},topRight{xi.maxX+e,yi.minY-e},bottomLeft{xi.minX-e,yi.maxY+e},bottomRight{xi.maxX+e,yi.maxY+e}},h=i.heighti.width;function f(t,e){return i.width(.5(t.y-i.minY+(e.y-i.minY)))}if(a)return onc.topLeftc.bottomRightsnc.bottomLeftc.topRightf(a,u).5ha.yu.ync.topLeftc.bottomRightnc.topRightc.bottomLefta.yu.ync.bottomLeftc.topRightnc.bottomRightc.topLeft;if(u){if(o)return nc.topRightc.bottomLeft;if(s)return nc.bottomRightc.topLeft}return f(o,s).5ho.xs.xnc.topLeftc.bottomRightnc.bottomLeftc.topRighto.xs.xnc.topRightc.bottomLeftnc.bottomRightc.topLeft}var Go=function(){function t(t,e){this.cfg=Object(ht.deepMix)(this.getDefaultCfg(),e),this.graph=t,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map((function(e){return Object(ht.isString)(e)t.findById(e)e})),this.nonMembers=this.cfg.nonMembers.map((function(e){return Object(ht.isString)(e)t.findById(e)e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return t.prototype.getDefaultCfg=function(){return{idg6-hull,typeround-convex,members[],nonMembers[],style{filllightblue,strokeblue,opacity.2},padding10}},t.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width2;this.padding=this.cfg.padding0this.cfg.padding+t10+t,this.cfg.bubbleCfg={nodeR0this.padding-t,nodeR1this.padding-t,morphBufferthis.padding-t}},t.prototype.setType=function(){this.type=this.cfg.type,this.members.length3&&(this.type=round-convex),round-convex!==this.type&&smooth-convex!==this.type&&bubble!==this.type&&(console.warn(The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default.),this.type=round-convex)},t.prototype.calcPath=function(t,e){var r,n,i;switch(this.type){caseround-convexn=ve(i=Oe((r=No(t)).map((function(t){return[t.x,t.y]})),this.padding));break;casesmooth-convexi=Ee((r=No(t)).map((function(t){return[t.x,t.y]})),this.padding),n=r.length=2&&Me(i);break;casebubblen=(r=zo(t,e,this.cfg.bubbleCfg)).length=2&&Me(r)}return n},t.prototype.render=function(){this.group.addShape(path,{attrsObject(k.__assign)({paththis.path},this.cfg.style),idthis.id,namethis.cfg.id}),this.group.toBack()},t.prototype.addMember=function(t){if(t){Object(ht.isString)(t)&&(t=this.graph.findById(t)),this.members.push(t);var e=this.nonMembers.indexOf(t);return e-1&&this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.addNonMember=function(t){if(t){Object(ht.isString)(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var e=this.members.indexOf(t);return e-1&&this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.removeMember=function(t){if(t){Object(ht.isString)(t)&&(t=this.graph.findById(t));var e=this.members.indexOf(t);return e-1&&(this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.removeNonMember=function(t){if(t){Object(ht.isString)(t)&&(t=this.graph.findById(t));var e=this.nonMembers.indexOf(t);return e-1&&(this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.updateData=function(t,e){var r=this;this.group.findById(this.id).remove(),t&&(this.members=t.map((function(t){return Object(ht.isString)(t)r.graph.findById(t)t}))),e&&(this.nonMembers=e.map((function(t){return Object(ht.isString)(t)r.graph.findById(t)t}))),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.updateStyle=function(t){this.group.findById(this.id).attr(Object(k.__assign)({},t))},t.prototype.updateCfg=function(t){var e=this;this.cfg=Object(ht.deepMix)(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map((function(t){return Object(ht.isString)(t)e.graph.findById(t)t}))),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map((function(t){return Object(ht.isString)(t)e.graph.findById(t)t}))),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.contain=function(t){var e,r,n=this,i=(e=Object(ht.isString)(t)this.graph.findById(t)t).getKeyShape();if(path===e.get(type))r=we(i.attr(path));else{var o=i.getCanvasBBox();r=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return r=r.map((function(t){var e=n.graph.getPointByCanvas(t[0],t[1]);return[e.x,e.y]})),ee(r,we(this.path))},t.prototype.destroy=function(){this.group.remove(),this.cfg=null},t}(),qo=function(t){function e(e){var r=t.call(this)this;return r.cfg=Object(ht.deepMix)(r.getDefaultCfg(),e),r.init(),r.animating=!1,r.destroyed=!1,r.cfg.enabledStack&&(r.undoStack=new Ao(r.cfg.maxStep),r.redoStack=new Ao(r.cfg.maxStep)),r}return Object(k.__extends)(e,t),e.prototype.init=function(){this.initCanvas();var t=new We(this),e=new qe(this),r=new Ge(this),n=new Fr(this),i=new xo(this),o=new So(this),a=new ko(this);this.set({eventControllert,viewControllere,modeControllerr,itemControllern,layoutControlleri,stateControllero,customGroupControlla}),this.initPlugin()},e.prototype.initCanvas=function(){var t=this.get(container);if(Object(ht.isString)(t)&&(t=document.getElementById(t),this.set(container,t)),!t)throw new Error(invalid container);var e,r=this.get(width),n=this.get(height);if(svg===this.get(renderer))e=new Le.a({containert,widthr,heightn});else{var i={containert,widthr,heightn},o=this.get(pixelRatio);o&&(i.pixelRatio=o),e=new Be.a(i)}this.set(canvas,e),this.initGroups()},e.prototype.initPlugin=function(){var t=this;Object(ht.each)(t.get(plugins),(function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)}))},e.prototype.initGroups=function(){var t=this.get(canvas),e=this.get(canvas).get(el).id,r=t.addGroup({ide+-root,classNameQ.rootContainerClassName});if(this.get(groupByTypes)){var n=r.addGroup({ide+-edge,classNameQ.edgeContainerClassName}),i=r.addGroup({ide+-node,classNameQ.nodeContainerClassName}),o=r.addGroup({ide+-combo,classNameQ.comboContainerClassName}),a=r.addGroup({ide+-group,classNameQ.customGroupContainerClassName});a.toBack(),o.toBack(),this.set({nodeGroupi,edgeGroupn,customGroupa,comboGroupo})}var s=r.addGroup({ide+-delegate,classNameQ.delegateContainerClassName});this.set({delegateGroups}),this.set(group,r)},e.prototype.getDefaultCfg=function(){return{containervoid 0,widthvoid 0,heightvoid 0,renderercanvas,modes{},plugins[],data{},fitViewPadding10,minZoom.2,maxZoom10,event!0,groupByTypes!0,directed!1,autoPaint!0,nodes[],edges[],combos[],vedges[],itemMap{},linkCenter!1,defaultNode{},defaultEdge{},nodeStateStyles{},edgeStateStyles{},states{},animate!1,animateCfg{onFramevoid 0,duration500,easingeaseLinear},callbackvoid 0,groupTypecircle,groupBBoxs{},groupNodes{},groups[],groupStyle{},enabledStack!1,maxStep10,tooltips[]}},e.prototype.set=function(t,e){return Object(ht.isPlainObject)(t)this.cfg=Object(k.__assign)(Object(k.__assign)({},this.cfg),t)this.cfg[t]=e,this},e.prototype.get=function(t){return this.cfg[t]},e.prototype.getGroup=function(){return this.get(group)},e.prototype.getContainer=function(){return this.get(container)},e.prototype.getMinZoom=function(){return this.get(minZoom)},e.prototype.setMinZoom=function(t){return this.set(minZoom,t)},e.prototype.getMaxZoom=function(){return this.get(maxZoom)},e.prototype.setMaxZoom=function(t){return this.set(maxZoom,t)},e.prototype.getWidth=function(){return this.get(width)},e.prototype.getHeight=function(){return this.get(height)},e.prototype.clearItemStates=function(t,e){Object(ht.isString)(t)&&(t=this.findById(t));var r=this.get(itemController);e(e=t.get(states)),r.clearItemStates(t,e),this.get(stateController).updateStates(t,e,!1)},e.prototype.node=function(t){function==typeof t&&this.set(nodeMapper,t)},e.prototype.edge=function(t){function==typeof t&&this.set(edgeMapper,t)},e.prototype.combo=function(t){function==typeof t&&this.set(comboMapper,t)},e.prototype.findById=function(t){return this.get(itemMap)[t]},e.prototype.find=function(t,e){var r,n=this.get(t+s);return Object(ht.each)(n,(function(t,n){if(e(t,n))return r=t})),r},e.prototype.findAll=function(t,e){var r=[];return Object(ht.each)(this.get(t+s),(function(t,n){e(t,n)&&r.push(t)})),r},e.prototype.findAllByState=function(t,e){return this.findAll(t,(function(t){return t.hasState(e)}))},e.prototype.translate=function(t,e){var r=this.get(group),n=Object(ht.clone)(r.getMatrix());n(n=[1,0,0,0,1,0,0,0,1]),ze.mat3.translate(n,n,[t,e]),r.setMatrix(n),this.emit(viewportchange,{actiontranslate,matrixr.getMatrix()}),this.autoPaint()},e.prototype.moveTo=function(t,e){var r=this.get(group);Wt(r,{xt,ye}),this.emit(viewportchange,{actionmove,matrixr.getMatrix()})},e.prototype.fitView=function(t){t&&this.set(fitViewPadding,t),this.get(viewController).fitView(),this.autoPaint()},e.prototype.fitCenter=function(){this.get(viewController).fitCenter(),this.autoPaint()},e.prototype.addBehaviors=function(t,e){return this.get(modeController).manipulateBehaviors(t,e,!0),this},e.prototype.removeBehaviors=function(t,e){return this.get(modeController).manipulateBehaviors(t,e,!1),this},e.prototype.zoom=function(t,e){var r=this.get(group),n=Object(ht.clone)(r.getMatrix()),i=this.get(minZoom),o=this.get(maxZoom);n(n=[1,0,0,0,1,0,0,0,1]),e(ze.mat3.translate(n,n,[-e.x,-e.y]),ze.mat3.scale(n,n,[t,t]),ze.mat3.translate(n,n,[e.x,e.y]))ze.mat3.scale(n,n,[t,t]),i&&n[0]io&&n[0]o(r.setMatrix(n),this.emit(viewportchange,{actionzoom,matrixn}),this.autoPaint())},e.prototype.zoomTo=function(t,e){var r=tthis.getZoom();this.zoom(r,e)},e.prototype.focusItem=function(t,e,r){var n=this.get(viewController),i=!1;ei=!0void 0===e&&(i=this.get(animate));var o={};ro=rvoid 0===r&&(o=this.get(animateCfg)),n.focus(t,i,o),this.autoPaint()},e.prototype.autoPaint=function(){this.get(autoPaint)&&this.paint()},e.prototype.paint=function(){this.emit(beforepaint),this.get(canvas).draw(),this.emit(afterpaint)},e.prototype.getPointByClient=function(t,e){return this.get(viewController).getPointByClient(t,e)},e.prototype.getClientByPoint=function(t,e){return this.get(viewController).getClientByPoint(t,e)},e.prototype.getPointByCanvas=function(t,e){return this.get(viewController).getPointByCanvas(t,e)},e.prototype.getCanvasByPoint=function(t,e){return this.get(viewController).getCanvasByPoint(t,e)},e.prototype.showItem=function(t,e){void 0===e&&(e=!0);var r=this.get(itemController).changeItemVisibility(t,!0);if(e&&this.get(enabledStack)){var n=r.getID(),i={},o={};switch(r.getType()){casenodei.nodes=[{idn,visible!1}],o.nodes=[{idn,visible!0}];break;caseedgei.nodes=[{idn,visible!1}],o.edges=[{idn,visible!0}];break;casecomboi.nodes=[{idn,visible!1}],o.combos=[{idn,visible!0}]}this.pushStack(visible,{beforei,aftero})}},e.prototype.hideItem=function(t,e){void 0===e&&(e=!0);var r=this.get(itemController).changeItemVisibility(t,!1);if(e&&this.get(enabledStack)){var n=r.getID(),i={},o={};switch(r.getType()){casenodei.nodes=[{idn,visible!0}],o.nodes=[{idn,visible!1}];break;caseedgei.nodes=[{idn,visible!0}],o.edges=[{idn,visible!1}];break;casecomboi.nodes=[{idn,visible!0}],o.combos=[{idn,visible!1}]}this.pushStack(visible,{beforei,aftero})}},e.prototype.refreshItem=function(t){this.get(itemController).refreshItem(t)},e.prototype.setAutoPaint=function(t){this.set(autoPaint,t),this.get(canvas).set(autoDraw,t)},e.prototype.remove=function(t,e){void 0===e&&(e=!0),this.removeItem(t,e)},e.prototype.removeItem=function(t,e){void 0===e&&(e=!0);var r=t;if(Object(ht.isString)(t)&&(r=this.findById(t)),!r&&Object(ht.isString)(t))console.warn(The item to be removed does not exist!),this.get(customGroupControll).remove(t);else if(r){var n=;if(r.getType&&(n=r.getType()),e&&this.get(enabledStack)){var i=Object(k.__assign)(Object(k.__assign)({},r.getModel()),{itemTypen}),o={};switch(n){casenodeo.nodes=[i],o.edges=[];for(var a=r.getEdges(),s=a.length-1;s=0;s--)o.edges.push(Object(k.__assign)(Object(k.__assign)({},a[s].getModel()),{itemTypeedge}));break;caseedgeo.edges=[i];break;casecomboo.combos=[i]}this.pushStack(delete,{beforeo,after{}})}if(this.get(itemController).removeItem(t),combo===n){var u=xr(this.get(comboTrees));this.set(comboTrees,u)}}},e.prototype.addItem=function(t,e,r,n){void 0===r&&(r=!0),void 0===n&&(n=!0);var i=this.get(comboSorted);this.set(comboSorted,i&&!n);var o=this.get(itemController);if(group===t){var a=e.groupId,s=e.nodes,u=e.type,c=e.zIndex,h=e.title,f=h;return Object(ht.isString)(h)&&(f={texth}),this.get(customGroupControll).create(a,s,u,c,!0,f)}if(!e.id!this.findById(e.id)){var l,d=this.get(comboTrees);if(d(d=[]),combo===t){var p=this.get(itemMap),g=!1;if(d.forEach((function(r){ggr(r,(function(r){if(e.parentId===r.id){g=!0;var n=Object(k.__assign)({ide.id,depthr.depth+2},e);r.childrenr.children.push(n)r.children=[n],e.depth=n.depth,l=o.addItem(t,e)}var i=p[r.id];return g&&i&&i.getType&&combo===i.getType()&&o.updateCombo(i,r.children),!0}))})),!g){var v=Object(k.__assign)({ide.id,depth0},e);e.depth=v.depth,d.push(v),l=o.addItem(t,e)}this.set(comboTrees,d)}else if(node===t&&Object(ht.isString)(e.comboId)&&d){var y;if((y=this.findById(e.comboId))&&y.getType&&combo!==y.getType())return void console.warn('+e.comboId+' is a not id of a combo in the graph, the node will be added without combo.);l=o.addItem(t,e);var m=this.get(itemMap),b=!1,x=!1;(d[]).forEach((function(t){xbgr(t,(function(t){if(t.id===e.id)return x=!0,!1;if(e.comboId===t.id&&!x){b=!0;var r=Object(ht.clone)(e);r.itemType=node,t.childrent.children.push(r)t.children=[r],e.depth=t.depth+1}return b&&m[t.id].getType&&combo===m[t.id].getType()&&o.updateCombo(m[t.id],t.children),!0}))}))}else l=o.addItem(t,e);if(node===t&&e.comboIdcombo===t&&e.parentId)(y=this.findById(e.comboIde.parentId))&&y.addChild(l);var w=this.get(combos);if(w&&w.length0&&this.sortCombos(),this.autoPaint(),r&&this.get(enabledStack)){var M=Object(k.__assign)(Object(k.__assign)({},l.getModel()),{itemTypet}),S={};switch(t){casenodeS.nodes=[M];break;caseedgeS.edges=[M];break;casecomboS.combos=[M]}this.pushStack(add,{before{},afterS})}return l}console.warn(This item exists already. Be sure the id %c+e.id+%c is unique.,font-size 20px; color red;,)},e.prototype.add=function(t,e,r,n){return void 0===r&&(r=!0),void 0===n&&(n=!0),this.addItem(t,e,r,n)},e.prototype.updateItem=function(t,e,r){var n=this;void 0===r&&(r=!0);var i,o=this.get(itemController);i=Object(ht.isString)(t)this.findById(t)t;var a=Object(ht.clone)(i.getModel()),s=;i.getType&&(s=i.getType());var u=Object(k.__spreadArrays)(i.getStates());if(combo===s&&Object(ht.each)(u,(function(t){return n.setItemState(i,t,!1)})),o.updateItem(i,e),combo===s&&Object(ht.each)(u,(function(t){return n.setItemState(i,t,!0)})),r&&this.get(enabledStack)){var c={nodes[],edges[],combos[]},h={nodes[],edges[],combos[]},f=Object(k.__assign)({ida.id},e);switch(s){casenodec.nodes.push(a),h.nodes.push(f);break;caseedgec.edges.push(a),h.edges.push(f);break;casecomboc.combos.push(a),h.combos.push(f)}node===s&&c.nodes.push(a),this.pushStack(update,{beforec,afterh})}},e.prototype.update=function(t,e,r){void 0===r&&(r=!0),this.updateItem(t,e,r)},e.prototype.setItemState=function(t,e,r){Object(ht.isString)(t)&&(t=this.findById(t)),this.get(itemController).setItemState(t,e,r);var n=this.get(stateController);Object(ht.isString)(r)n.updateState(t,e++r,!0)n.updateState(t,e,r)},e.prototype.priorityState=function(t,e){this.get(itemController).priorityState(t,e)},e.prototype.data=function(t){this.set(data,t)},e.prototype.render=function(){var t=this;this.set(comboSorted,!1);var e=this.get(data);if(this.get(enabledStack)&&this.clearStack(),!e)throw new Error(data must be defined first);var r=e.nodes,n=void 0===r[]r,i=e.edges,o=void 0===i[]i,a=e.combos,s=void 0===a[]a;if(this.clear(),this.emit(beforerender),Object(ht.each)(n,(function(e){t.add(node,e,!1,!1)})),s&&0!==s.length){var u=br(s,n);this.set(comboTrees,u),t.addCombos(s)}Object(ht.each)(o,(function(e){t.add(edge,e,!1,!1)}));var c=t.get(animate);function h(){t.get(fitView)t.fitView()t.get(fitCenter)&&t.fitCenter(),t.autoPaint(),t.emit(afterrender),(t.get(fitView)t.get(fitCenter))&&t.set(animate,c)}((t.get(fitView)t.get(fitCenter))&&t.set(animate,!1),t.get(layoutController).layout(h)h(),this.get(groupByTypes))(s&&0!==s.lengththis.sortCombos()e.nodes&&e.edges&&e.nodes.lengthe.edges.lengththis.getNodes().forEach((function(t){t.toFront()}))this.getEdges().forEach((function(t){t.toBack()})));if(e.nodes&&e.nodes.filter((function(t){return t.groupId})).length0){var f=t.get(groupType);this.renderCustomGroup(e,f)}this.get(enabledStack)&&this.pushStack(render)},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,e,r){var n,i=this,o=this.get(itemMap);Object(ht.each)(r,(function(r){if(n=o[r.id]){if(i.get(animate)&&node===t){var a=n.getContainer().getMatrix();a(a=[1,0,0,0,1,0,0,0,1]),n.set(originAttrs,{xa[6],ya[7]})}i.updateItem(n,r,!1)}else n=i.addItem(t,r,!1);e[t+s].push(n)}))},e.prototype.changeData=function(t,e){void 0===e&&(e=!0);var r=this;if(!t)return this;e&&this.get(enabledStack)&&this.pushStack(changedata,{beforer.save(),aftert}),this.set(comboSorted,!1),this.getNodes().map((function(t){return r.clearItemStates(t)})),this.getEdges().map((function(t){return r.clearItemStates(t)}));var n=this.get(canvas),i=n.get(localRefresh);n.set(localRefresh,!1),r.get(data)(r.data(t),r.render());var o=this.get(itemMap),a={nodes[],edges[]},s=t.combos;if(s){var u=br(s,t.nodes);this.set(comboTrees,u)}this.diffItems(node,a,t.nodes),Object(ht.each)(o,(function(t,e){o[e].getModel().depth=0,t.getType&&edge===t.getType()(t.getType&&combo===t.getType()(delete o[e],t.destroy())a.nodes.indexOf(t)0&&(delete o[e],r.remove(t,!1)))}));for(var c=this.getCombos(),h=c.length-1;h=0;h--)c[h].destroyed&&c.splice(h,1);s&&(r.addCombos(s),this.get(groupByTypes)this.sortCombos()),this.diffItems(edge,a,t.edges),Object(ht.each)(o,(function(t,e){(!t.getTypenode!==t.getType()&&combo!==t.getType())&&a.edges.indexOf(t)0&&(delete o[e],r.remove(t,!1))})),this.set({nodesa.nodes,edgesa.edges});var f=this.get(layoutController);return f.changeData(),r.get(animate)&&!f.getLayoutType()r.positionsAnimate()r.autoPaint(),setTimeout((function(){n.set(localRefresh,i)}),16),this},e.prototype.addCombos=function(t){var e=this.get(comboTrees);this.get(itemController).addCombos(e,t)},e.prototype.createCombo=function(t,e){var r=this;this.set(comboSorted,!1);var n,i=;if(t){if(Object(ht.isString)(t))i=t,n={idt};else{if(!(i=t.id))return void console.warn(Create combo failed. Please assign a unique string id for the adding combo.);n=t}var o=e.map((function(t){var e=r.findById(t),n=;e.getType&&(n=e.getType());var o={ide.getID(),itemTypen};returncombo===no.parentId=inode===n&&(o.comboId=i),o}));n.children=o,this.addItem(combo,n,!1),this.set(comboSorted,!1);var a=this.get(comboTrees);(a[]).forEach((function(t){gr(t,(function(t){return t.id!==i(t.itemType=combo,t.children=o,!1)}))})),a&&this.sortCombos()}},e.prototype.uncombo=function(t){var e,r=this,n=t;if(Object(ht.isString)(t)&&(n=this.findById(t)),!nn.getType&&combo!==n.getType())console.warn(The item is not a combo!);else{var i=n.getModel().parentId,o=this.get(comboTrees);o(o=[]);var a,s=this.get(itemMap),u=n.get(id),c=[],h=this.get(combos),f=this.findById(i);if(o.forEach((function(e){agr(e,(function(e){var o;if(e.id===u){a=e,n.getEdges().forEach((function(t){r.removeItem(t,!1)}));var l=h.indexOf(t);h.splice(l,1),delete s[u],n.destroy()}return!i!ae.id!==i(f.removeCombo(n),-1!==(l=(c=e.children).indexOf(a))&&c.splice(l,1),null===(o=a.children)void 0===oo.forEach((function(t){var e=r.findById(t.id),n=e.getModel();e.getType&&combo===e.getType()(t.parentId=i,delete t.comboId,n.parentId=i,delete n.comboId)e.getType&&node===e.getType()&&(t.comboId=i,n.comboId=i),f.addChild(e),c.push(t)})),!1)}))})),!i&&a){var l=o.indexOf(a);o.splice(l,1),null===(e=a.children)void 0===ee.forEach((function(t){t.parentId=void 0,r.findById(t.id).getModel().parentId=void 0,node!==t.itemType&&o.push(t)}))}}},e.prototype.updateCombos=function(){var t=this,e=this.get(comboTrees),r=this.get(itemController),n=this.get(itemMap);(e[]).forEach((function(e){gr(e,(function(e){if(!e)return!0;var i=n[e.id];if(i&&i.getType&&combo===i.getType()){var o=Object(k.__spreadArrays)(i.getStates());Object(ht.each)(o,(function(e){return t.setItemState(i,e,!1)})),r.updateCombo(i,e.children),Object(ht.each)(o,(function(e){return t.setItemState(i,e,!0)}))}return!0}))})),this.sortCombos()},e.prototype.updateCombo=function(t){var e,r=this,n=t;if(Object(ht.isString)(t)&&(n=this.findById(t)),!nn.getType&&combo!==n.getType())console.warn(The item to be updated is not a combo!);else{e=n.get(id);var i=this.get(comboTrees),o=this.get(itemController),a=this.get(itemMap);(i[]).forEach((function(t){gr(t,(function(t){if(!t)return!0;var n=a[t.id];if(e===t.id&&n&&n.getType&&combo===n.getType()){var i=Object(k.__spreadArrays)(n.getStates());Object(ht.each)(i,(function(t){n.getStateStyle(t)&&r.setItemState(n,t,!1)})),o.updateCombo(n,t.children),Object(ht.each)(i,(function(t){n.getStateStyle(t)&&r.setItemState(n,t,!0)})),e&&(e=t.parentId)}return!0}))}))}},e.prototype.updateComboTree=function(t,e){var r;this.set(comboSorted,!1);var n=(r=Object(ht.isString)(t)this.findById(t)t).getModel(),i=n.comboIdn.parentId;if(e&&r.getType&&combo===r.getType()){var o,a=this.get(comboTrees),s=!0;if((a[]).forEach((function(t){opr(t,(function(t){if(!o)return t.id===r.getID()&&(o=t),!0}))})),pr(o,(function(t){return t.id!==e(s=!1,!1)})),!s)return void console.warn(Failed to update the combo tree! The parentId points to a descendant of the combo!)}if(n.parentIdn.comboId){var u=this.findById(n.parentIdn.comboId);u&&u.removeChild(r)}var c,h=;(r.getType&&(h=r.getType()),combo===hn.parentId=enode===h&&(n.comboId=e),e)&&((c=this.findById(e))&&c.addChild(r));i&&((c=this.findById(i))&&c.removeChild(r));var f=xr(this.get(comboTrees),n.id,e);this.set(comboTrees,f),this.updateCombos()},e.prototype.renderCustomGroup=function(t,e){var r=this,n=t.groups,i=t.nodes,o=void 0===i[]i,a=10;if(n){this.set({groupsn});var s=function(t){var e=Ye()(t.groups,id),r=Ye()(t.groups,parentId),n={};for(var i in r)if(i){var o=r[i],a=e[i];if(a&&o){var s=Object(k.__spreadArrays)(o,a);n[i]=s}else o&&(n[i]=o)}var u=Object(k.__assign)(Object(k.__assign)({},e),n),c={};for(var h in u)if(h&&undefined!==h){o=u[h].map((function(t){return t.id}));c[h]=o}var f={},l=function(e){if(!eundefined===e)returncontinue;for(var r=c[e],n=[],i=0,o=r;io.length;i++){var a=o[i],s=u[a].map((function(t){return t.id}));n.push.apply(n,s)}var h=t.nodest.nodes.filter((function(t){return n.indexOf(t.groupId)-1n.indexOf(t.parentId)-1})).map((function(t){return t.id}))[];f[e]=h};for(var h in c)l(h);return f}(t);Object.keys(s).forEach((function(t){var n=s[t];r.get(customGroupControll).create(t,n,e,a),a--})),this.get(customGroup).sort()}else{var u=o.filter((function(t){return t.groupId})),c=[],h=Object(ht.groupBy)(u,groupId);Object.keys(h).forEach((function(t){var n=h[t].map((function(t){return t.id}));r.get(customGroupControll).create(t,n,e,a),a--,c.find((function(e){return e.id===t}))c.push({idt})})),this.set({groupsc})}},e.prototype.save=function(){var t=[],e=[],r=[];return Object(ht.each)(this.get(nodes),(function(e){t.push(e.getModel())})),Object(ht.each)(this.get(edges),(function(t){e.push(t.getModel())})),Object(ht.each)(this.get(combos),(function(t){r.push(t.getModel())})),{nodest,edgese,combosr,groupsthis.get(groups)}},e.prototype.changeSize=function(t,e){return this.get(viewController).changeSize(t,e),this},e.prototype.refresh=function(){if(this.emit(beforegraphrefresh),this.get(animate))this.positionsAnimate();else{var t=this.get(nodes),e=this.get(edges),r=this.get(edges);Object(ht.each)(t,(function(t){t.refresh()})),Object(ht.each)(e,(function(t){t.refresh()})),Object(ht.each)(r,(function(t){t.refresh()}))}this.emit(aftergraphrefresh),this.autoPaint()},e.prototype.getNodes=function(){return this.get(nodes)},e.prototype.getEdges=function(){return this.get(edges)},e.prototype.getCombos=function(){return this.get(combos)},e.prototype.getComboChildren=function(t){if(Object(ht.isString)(t)&&(t=this.findById(t)),t&&(!t.getTypecombo===t.getType()))return t.getChildren();console.warn(The combo does not exist!)},e.prototype.positionsAnimate=function(){var t=this;t.emit(beforeanimate);var e=t.get(animateCfg),r=e.onFrame,n=t.getNodes(),i=n.map((function(t){var e=t.getModel();return{ide.id,xe.x,ye.y}}));t.isAnimating()&&t.stopAnimate(),t.get(canvas).animate((function(e){Object(ht.each)(i,(function(n){var i=t.findById(n.id);if(i&&!i.destroyed){var o=i.get(originAttrs),a=i.get(model);if(!o){var s=i.getContainer().getMatrix();s(s=[1,0,0,0,1,0,0,0,1]),o={xs[6],ys[7]},i.set(originAttrs,o)}if(r){var u=r(i,e,n,o);i.set(model,Object.assign(a,u))}else a.x=o.x+(n.x-o.x)e,a.y=o.y+(n.y-o.y)e}})),t.refreshPositions()}),{duratione.duration,easinge.easing,callbackfunction(){Object(ht.each)(n,(function(t){t.set(originAttrs,null)})),e.callback&&e.callback(),t.emit(afteranimate),t.animating=!1}})},e.prototype.refreshPositions=function(){this.emit(beforegraphrefreshposition);var t,e=this.get(nodes),r=this.get(edges),n=this.get(vedges),i=this.get(combos),o={};Object(ht.each)(e,(function(e){t=e.getModel();var r=e.get(originAttrs);r&&t.x===r.x&&t.y===r.y(e.updatePosition({xt.x,yt.y}),o[t.id]=!0,t.comboId&&(o[t.comboId]=!0))})),i&&0!==i.length&&this.updateCombos(),Object(ht.each)(r,(function(t){var e=t.getSource().getModel(),r=t.getTarget().getModel();(o[e.id]o[r.id]t.getModel().isComboEdge)&&t.refresh()})),Object(ht.each)(n,(function(t){t.refresh()})),this.emit(aftergraphrefreshposition),this.autoPaint()},e.prototype.stopAnimate=function(){this.get(canvas).stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get(group).getMatrix();return tt[0]1},e.prototype.getCurrentMode=function(){return this.get(modeController).getMode()},e.prototype.setMode=function(t){return this.get(modeController).setMode(t),this},e.prototype.clear=function(){return this.get(canvas).clear(),this.initGroups(),this.set({itemMap{},nodes[],edges[],groups[],combos[],comboTrees[]}),this.emit(afterrender),this},e.prototype.toDataURL=function(t,e){var r=this.get(canvas),n=r.getRenderer(),i=r.get(el);t(t=imagepng);var o=;if(svg===n){var a=i.cloneNode(!0),s=document.implementation.createDocumentType(svg,-W3CDTD SVG 1.1EN,httpwww.w3.orgGraphicsSVG1.1DTDsvg11.dtd),u=document.implementation.createDocument(httpwww.w3.org2000svg,svg,s);u.replaceChild(a,u.documentElement);var c=(new XMLSerializer).serializeToString(u);o=dataimagesvg+xml;charset=utf8,+encodeURIComponent(c)}else{var h=void 0,f=i.getContext(2d),l=this.get(width),d=this.get(height),p=void 0;if(e){var g=window.devicePixelRatio;h=f.getImageData(0,0,lg,dg),p=f.globalCompositeOperation,f.globalCompositeOperation=destination-over,f.fillStyle=e,f.fillRect(0,0,l,d)}o=i.toDataURL(t),e&&(f.clearRect(0,0,l,d),f.putImageData(h,0,0),f.globalCompositeOperation=p)}return o},e.prototype.toFullDataURL=function(t,e,r){var n=this.get(group).getCanvasBBox(),i=n.height,o=n.width,a=this.get(renderer),s=mt()('id=virtual-imagediv'),u=rr.backgroundColorvoid 0,c=rr.paddingvoid 0;cObject(ht.isNumber)(c)&&(c=[c,c,c,c])c=[0,0,0,0];var h=i+c[0]+c[2],f=o+c[1]+c[3],l={containers,heighth,widthf,quickHit!0},d=svg===anew Le.a(l)new Be.a(l),p=this.get(group).clone(),g=Object(ht.clone)(p.getMatrix());g(g=[1,0,0,0,1,0,0,0,1]);var v=(n.maxX+n.minX)2,y=(n.maxY+n.minY)2;ze.mat3.translate(g,g,[-v,-y]),ze.mat3.translate(g,g,[o2+c[3],i2+c[0]]),p.resetMatrix(),p.setMatrix(g),d.add(p);var m=d.get(el),b=;e(e=imagepng),setTimeout((function(){if(svg===a){var r=m.cloneNode(!0),n=document.implementation.createDocumentType(svg,-W3CDTD SVG 1.1EN,httpwww.w3.orgGraphicsSVG1.1DTDsvg11.dtd),i=document.implementation.createDocument(httpwww.w3.org2000svg,svg,n);i.replaceChild(r,i.documentElement);var o=(new XMLSerializer).serializeToString(i);b=dataimagesvg+xml;charset=utf8,+encodeURIComponent(o)}else{var s=void 0,c=m.getContext(2d),l=void 0;if(u){var d=window.devicePixelRatio;s=c.getImageData(0,0,fd,hd),l=c.globalCompositeOperation,c.globalCompositeOperation=destination-over,c.fillStyle=u,c.fillRect(0,0,f,h)}b=m.toDataURL(e),u&&(c.clearRect(0,0,f,h),c.putImageData(s,0,0),c.globalCompositeOperation=l)}null==tt(b)}),16)},e.prototype.downloadFullImage=function(t,e,r){var n=this,i=this.get(group).getCanvasBBox(),o=i.height,a=i.width,s=this.get(renderer),u=mt()('id=virtual-imagediv'),c=rr.backgroundColorvoid 0,h=rr.paddingvoid 0;hObject(ht.isNumber)(h)&&(h=[h,h,h,h])h=[0,0,0,0];var f=o+h[0]+h[2],l=a+h[1]+h[3],d={containeru,heightf,widthl},p=svg===snew Le.a(d)new Be.a(d),g=this.get(group).clone(),v=Object(ht.clone)(g.getMatrix());v(v=[1,0,0,0,1,0,0,0,1]);var y=(i.maxX+i.minX)2,m=(i.maxY+i.minY)2;ze.mat3.translate(v,v,[-y,-m]),ze.mat3.translate(v,v,[a2+h[3],o2+h[0]]),g.resetMatrix(),g.setMatrix(v),p.add(g);var b=p.get(el);e(e=imagepng),setTimeout((function(){var r=;if(svg===s){var i=b.cloneNode(!0),o=document.implementation.createDocumentType(svg,-W3CDTD SVG 1.1EN,httpwww.w3.orgGraphicsSVG1.1DTDsvg11.dtd),a=document.implementation.createDocument(httpwww.w3.org2000svg,svg,o);a.replaceChild(i,a.documentElement);var u=(new XMLSerializer).serializeToString(a);r=dataimagesvg+xml;charset=utf8,+encodeURIComponent(u)}else{var h=void 0,d=b.getContext(2d),p=void 0;if(c){var g=window.devicePixelRatio;h=d.getImageData(0,0,lg,fg),p=d.globalCompositeOperation,d.globalCompositeOperation=destination-over,d.fillStyle=c,d.fillRect(0,0,l,f)}r=b.toDataURL(e),c&&(d.clearRect(0,0,l,f),d.putImageData(h,0,0),d.globalCompositeOperation=p)}var v=document.createElement(a),y=(tgraph)+(svg===s.svg.+e.split()[1]);n.dataURLToImage(r,s,v,y);var m=document.createEvent(MouseEvents);m.initEvent(click,!1,!1),v.dispatchEvent(m)}),16)},e.prototype.downloadImage=function(t,e,r){var n=this,i=this;i.isAnimating()&&i.stopAnimate();var o=i.get(canvas).getRenderer();e(e=imagepng);var a=(tgraph)+(svg===o.svge.split()[1]),s=document.createElement(a);setTimeout((function(){var t=i.toDataURL(e,r);n.dataURLToImage(t,o,s,a);var u=document.createEvent(MouseEvents);u.initEvent(click,!1,!1),s.dispatchEvent(u)}),16)},e.prototype.dataURLToImage=function(t,e,r,n){if(undefined!=typeof window)if(window.Blob&&window.URL&&svg!==e){var i=t.split(,),o=;if(i&&i.length0){var a=i[0].match((.););a&&a.length=2&&(o=a[1])}for(var s=atob(i[1]),u=s.length,c=new Uint8Array(u);u--;)c[u]=s.charCodeAt(u);var h=new Blob([c],{typeo});window.navigator.msSaveBlobwindow.navigator.msSaveBlob(h,n)r.addEventListener(click,(function(){r.download=n,r.href=window.URL.createObjectURL(h)}))}else r.addEventListener(click,(function(){r.download=n,r.href=t}))},e.prototype.updateLayout=function(t){var e,r=this.get(layoutController);Object(ht.isString)(t)t={typee=t}e=t.type;var n=this.get(layout),i=nn.typevoid 0;if(e&&i!==e)this.set(layout,t),r.changeLayout(e);else{var o={};Object.assign(o,n,t),o.type=irandom,this.set(layout,o),r.updateLayoutCfg(o)}},e.prototype.destroyLayout=function(){this.get(layoutController).destroyLayout()},e.prototype.layout=function(){var t=this.get(layoutController),e=this.get(layout);e&&(e.workerEnabledt.layout()t.layoutMethodt.relayout(!0)t.layout())},e.prototype.collapseCombo=function(t){var e=this;if(Object(ht.isString)(t)&&(t=this.findById(t)),t){var r=t.getModel();this.get(itemController).collapseCombo(t),r.collapsed=!0;var n=this.getEdges().concat(this.get(vedges)),i=[],o=[],a=this.get(comboTrees),s=!1,u={};(a[]).forEach((function(t){u[t.id]=t})),(a[]).forEach((function(t){spr(t,(function(t){if(s&&u[t.id])return!1;if(r.parentId===t.id(u={},t.children.forEach((function(t){u[t.id]=t})))r.id===t.id&&(s=!0),s){var n=e.findById(t.id);n&&n.getType&&combo===n.getType()&&(i=i.concat(n.getNodes()),o=o.concat(n.getCombos()))}return!0}))}));var c={},h=[];n.forEach((function(t){if(!t.isVisible()t.getModel().isVEdge){var n=t.getSource(),a=t.getTarget();if((i.includes(n)o.includes(n))&&!i.includes(a)&&!o.includes(a)n.getModel().id===r.id){if((l=t.getModel()).isVEdge)return void e.removeItem(t,!1);for(var s=a.getModel();!a.isVisible();){if(!(a=e.findById(s.parentIds.comboId))!s.parentId&&!s.comboId)return;s=a.getModel()}var u=s.id;if(c[r.id+-+u])return void(c[r.id+-+u]+=l.size1);var f=e.addItem(vedge,{sourcer.id,targetu,isVEdge!0},!1);c[r.id+-+u]=l.size1,h.push(f)}else if(!i.includes(n)&&!o.includes(n)&&(i.includes(a)o.includes(a))a.getModel().id===r.id){var l;if((l=t.getModel()).isVEdge)return void e.removeItem(t,!1);for(var d=n.getModel();!n.isVisible();){if(!(n=e.findById(d.parentIdd.comboId))!d.parentId&&!d.comboId)return;d=n.getModel()}var p=d.id;if(c[p+-+r.id])return void(c[p+-+r.id]+=l.size1);f=e.addItem(vedge,{targetr.id,sourcep,isVEdge!0},!1);c[p+-+r.id]=l.size1,h.push(f)}}})),h.forEach((function(t){var r=t.getModel();e.updateItem(t,{sizec[r.source+-+r.target]},!1)}))}else console.warn(The combo to be collapsed does not exist!)},e.prototype.expandCombo=function(t){var e=this;if(Object(ht.isString)(t)&&(t=this.findById(t)),!tt.getType&&combo!==t.getType())console.warn(The combo to be collapsed does not exist!);else{var r=t.getModel();this.get(itemController).expandCombo(t),r.collapsed=!1;var n=this.getEdges().concat(this.get(vedges)),i=[],o=[],a=this.get(comboTrees),s=!1,u={};(a[]).forEach((function(t){u[t.id]=t})),(a[]).forEach((function(t){spr(t,(function(t){if(s&&u[t.id])return!1;if(r.parentId===t.id(u={},t.children.forEach((function(t){u[t.id]=t})))r.id===t.id&&(s=!0),s){var n=e.findById(t.id);n&&n.getType&&combo===n.getType()&&(i=i.concat(n.getNodes()),o=o.concat(n.getCombos()))}return!0}))}));var c={},h={};n.forEach((function(t){if(!t.isVisible()t.getModel().isVEdge){var n=t.getSource(),a=t.getTarget(),s=n.get(id),u=a.get(id);if((i.includes(n)o.includes(n))&&!i.includes(a)&&!o.includes(a)s===r.id){if(t.getModel().isVEdge)return void e.removeItem(t,!1);for(var f=a.getModel();!a.isVisible();){if(!(a=e.findById(f.comboIdf.parentId))!f.parentId&&!f.comboId)return;f=a.getModel()}u=f.id;for(var l=n.getModel();!n.isVisible();){if(!(n=e.findById(l.comboIdl.parentId))!l.parentId&&!l.comboId)return;if(l.comboId===r.idl.parentId===r.id)break;l=n.getModel()}if(s=l.id,u){if(c[p=s+-+u])return c[p]+=t.getModel().size1,void e.updateItem(h[p],{sizec[p]},!1);var d=e.addItem(vedge,{sources,targetu,isVEdge!0},!1);c[p]=t.getModel().size1,h[p]=d}}else if(!i.includes(n)&&!o.includes(n)&&(i.includes(a)o.includes(a))u===r.id){if(t.getModel().isVEdge)return void e.removeItem(t,!1);for(l=n.getModel();!n.isVisible();){if(!(n=e.findById(l.comboIdl.parentId))!l.parentId&&!l.comboId)return;l=n.getModel()}s=l.id;for(f=a.getModel();!a.isVisible();){if(!(a=e.findById(f.comboIdf.parentId))!f.parentId&&!f.comboId)return;if(f.comboId===r.idf.parentId===r.id)break;f=a.getModel()}if(u=f.id,s){var p;if(c[p=s+-+u])return c[p]+=t.getModel().size1,void e.updateItem(h[p],{sizec[p]},!1);d=e.addItem(vedge,{targetu,sources,isVEdge!0},!1);c[p]=t.getModel().size1,h[p]=d}}else(i.includes(n)o.includes(n))&&(i.includes(a)o.includes(a))&&n.isVisible()&&a.isVisible()&&t.show()}}))}},e.prototype.collapseExpandCombo=function(t){if(Object(ht.isString)(t)&&(t=this.findById(t)),!t.getTypecombo===t.getType()){for(var e=t.getModel(),r=this.findById(e.parentId);r;){var n=r.getModel();if(n.collapsed)return console.warn(Fail to expand the combo since it's ancestor combo is collapsed.),void(r=void 0);r=this.findById(n.parentId)}e.collapsedthis.expandCombo(t)this.collapseCombo(t),this.updateCombo(t)}},e.prototype.collapseGroup=function(t){this.get(customGroupControll).collapseGroup(t)},e.prototype.expandGroup=function(t){this.get(customGroupControll).expandGroup(t)},e.prototype.addPlugin=function(t){t.destroyed(this.get(plugins).push(t),t.initPlugin(this))},e.prototype.removePlugin=function(t){var e=this.get(plugins),r=e.indexOf(t);r=0&&(t.destroyPlugin(),e.splice(r,1))},e.prototype.sortCombos=function(){var t=this;if(!this.get(comboSorted)){this.set(comboSorted,!0);var e=[],r={};(this.get(comboTrees)[]).forEach((function(t){pr(t,(function(t){return e[t.depth]e[t.depth].push(t.id)e[t.depth]=[t.id],r[t.id]=t.depth,!0}))})),(this.getEdges().concat(this.get(vedges))[]).forEach((function(t){var n=t.getModel(),i=r[n.source]0,o=r[n.target]0,a=Math.max(i,o);e[a]e[a].push(n.id)e[a]=[n.id]})),e.forEach((function(e){if(e&&e.length)for(var r=e.length-1;r=0;r--){var n=t.findById(e[r]);null==nn.toFront()}}))}},e.prototype.getNeighbors=function(t,e){var r=t;return Object(ht.isString)(t)&&(r=this.findById(t)),r.getNeighbors(e)},e.prototype.getNodeDegree=function(t,e){void 0===e&&(e=void 0);var r=t;Object(ht.isString)(t)&&(r=this.findById(t));var n=this.get(degrees);n(n=Oo(this)),this.set(degees,n);var i,o=n[r.getID()];switch(e){caseini=o.inDegree;break;caseouti=o.outDegree;break;casealli=o;break;defaulti=o.degree}return i},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get(enabledStack){undoStackthis.undoStack.toArray(),redoStackthis.redoStack.toArray()}null},e.prototype.clearStack=function(){this.get(enabledStack)&&(this.undoStack.clear(),this.redoStack.clear())},e.prototype.pushStack=function(t,e,r){if(void 0===t&&(t=update),void 0===r&&(r=undo),this.get(enabledStack)){var n=eObject(ht.clone)(e){before{},afterObject(ht.clone)(this.save())};redo===rthis.redoStack.push({actiont,datan})this.undoStack.push({actiont,datan}),this.emit(stackchange,{undoStackthis.undoStack,redoStackthis.redoStack})}else console.warn( undo & redo  Graph  enabledStack true !)},e.prototype.getAdjMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get(directed));var r=this.get(adjMatrix);return r&&t(r=Po(this,e),this.set(adjMatrix,r)),r},e.prototype.getShortestPathMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get(directed));var r=this.get(adjMatrix),n=this.get(shortestPathMatrix);return r&&t(r=Po(this,e),this.set(adjMatrix,r)),n&&t(n=Io(this,e),this.set(shortestPathMatrix,n)),n},e.prototype.destroy=function(){this.clear(),this.clearStack(),Object(ht.each)(this.get(plugins),(function(t){t.destroyPlugin()}));var t=this.get(tooltips);if(t)for(var e=0;et.length;e++){var r=t[e];if(r){var n=r.parentElement;n&&n.removeChild(r)}}this.get(eventController).destroy(),this.get(itemController).destroy(),this.get(modeController).destroy(),this.get(viewController).destroy(),this.get(stateController).destroy(),this.get(layoutController).destroy(),this.get(customGroupControll).destroy(),this.get(canvas).destroy(),this.get(graphWaterMarker)&&this.get(graphWaterMarker).destroy(),document.querySelector(.g6-graph-watermarker)&&document.querySelector(.g6-graph-watermarker).remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){var e=this.get(hullGroup),r=this.get(hullMap);if(r(r={},this.set(hullMap,r)),e((e=this.get(group).addGroup({idhullGroup})).toBack(),this.set(hullGroup,e)),r[t.id])return console.warn(Existed hull id.),r[t.id];var n=e.addGroup({idt.id+-container}),i=new Go(this,Object(k.__assign)(Object(k.__assign)({},t),{groupn}));return r[i.id]=i,i},e.prototype.getHulls=function(){return this.get(hullMap)},e.prototype.getHullById=function(t){return this.get(hullMap)[t]},e.prototype.removeHull=function(t){var e;e=Object(ht.isString)(t)this.getHullById(t)t,delete this.get(hullMap)[e.id],e.destroy()},e.prototype.setImageWaterMarker=function(t,e){void 0===t&&(t=Q.waterMarkerImage);var r=this.get(container);Object(ht.isString)(r)&&(r=document.getElementById(r)),r.style.position(r.style.position=relative);var n=this.get(graphWaterMarker),i=Object(ht.deepMix)({},Q.imageWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,u=i.image;if(!n){var c={containerr,widtho,heighta,capture!1},h=this.get(pixelRatio);h&&(c.pixelRatio=h),n=new Be.a(c),this.set(graphWaterMarker,n)}n.get(el).style.display=none;var f=n.get(context),l=u.rotate,d=u.x,p=u.y;f.rotate(-lMath.PI180);var g=new Image;g.crossOrigin=anonymous,g.src=t,g.onload=function(){if(f.drawImage(g,d,p,u.width,u.height),f.rotate(lMath.PI180),s)r.style.cssText=background-image url(+n.get(el).toDataURL(imagepng)+);background-repeatrepeat;;else{var t=document.querySelector(.g6-graph-watermarker);t((t=document.createElement(div)).className=g6-graph-watermarker),t.className=g6-graph-watermarker,n.destroyed(t.style.cssText=background-image url(+n.get(el).toDataURL(imagepng)+);background-repeatrepeat;positionabsolute;top0;bottom0;left0;right0;pointer-eventsnone;z-index-1;,r.appendChild(t))}}},e.prototype.setTextWaterMarker=function(t,e){var r=this.get(container);Object(ht.isString)(r)&&(r=document.getElementById(r)),r.style.position(r.style.position=relative);var n=this.get(graphWaterMarker),i=Object(ht.deepMix)({},Q.textWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,u=i.text;if(!n){var c={containerr,widtho,heighta,capture!1},h=this.get(pixelRatio);h&&(c.pixelRatio=h),n=new Be.a(c),this.set(graphWaterMarker,n)}n.get(el).style.display=none;var f=n.get(context),l=u.rotate,d=u.fill,p=u.fontFamily,g=u.fontSize,v=u.baseline,y=u.x,m=u.y,b=u.lineHeight;f.rotate(-lMath.PI180),f.font=g+px +p,f.fillStyle=d,f.textBaseline=v;for(var x=t.length-1;x=0;x--)f.fillText(t[x],y,m+xb);if(f.rotate(lMath.PI180),s)r.style.cssText=background-image url(+n.get(el).toDataURL(imagepng)+);background-repeatrepeat;;else{var w=document.querySelector(.g6-graph-watermarker);w((w=document.createElement(div)).className=g6-graph-watermarker),w.style.cssText=background-image url(+n.get(el).toDataURL(imagepng)+);background-repeatrepeat;positionabsolute;top0;bottom0;left0;right0;pointer-eventsnone;z-index99;,r.appendChild(w)}},e}(Ne.a),Xo=r(135),Vo=r.n(Xo),Ho=function(t){function e(e){var r=t.call(this,e)this;return r.layoutAnimating=!1,r.set(removeList,[]),r.set(layoutMethod,r.getLayout()),r}return Object(k.__extends)(e,t),e.prototype.getLayout=function(){var t=this.get(layout);return tfunction==typeof tt(t.type(t.type=dendrogram),t.direction(t.direction=TB),t.radialfunction(e){var r=Vo.a[t.type](e,t);return vr(r),r}function(e){return Vo.a[t.type](e,t)})null},e.indexOfChild=function(t,e){var r=-1;return Object(p.each)(t,(function(t,n){if(e===t.id)return r=n,!1})),r},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.animate=!0,e},e.prototype.innerAddChild=function(t,e,r){var n=this,i=t.data;i&&(i.x=t.x,i.y=t.y,i.depth=t.depth);var o=n.addItem(node,i,!1);if(e){if(o.set(parent,e),r){var a=e.get(originAttrs);if(a)o.set(originAttrs,a);else{var s=e.getModel();o.set(originAttrs,{xs.x,ys.y})}}var u=e.get(children);uu.push(o)e.set(children,[o]),n.addItem(edge,{sourcee,targeto,ide.get(id)++o.get(id)},!1)}return Object(p.each)(t.children[],(function(t){n.innerAddChild(t,o,r)})),n.emit(afteraddchild,{itemo,parente}),o},e.prototype.innerUpdateChild=function(t,r,n){var i=this,o=i.findById(t.id);if(o){Object(p.each)(t.children[],(function(t){i.innerUpdateChild(t,o,n)}));var a,s,u=o.get(children);if(u)if(u.length0)for(var c=u.length-1;c=0;c--){var h=u[c].getModel();-1===e.indexOfChild(t.children[],h.id)&&(i.innerRemoveChild(h.id,{xt.x,yt.y},n),u.splice(c,1))}o.get(originAttrs)&&(a=o.get(originAttrs).x,s=o.get(originAttrs).y);var f=o.getModel();n&&o.set(originAttrs,{xf.x,yf.y}),o.set(model,t.data),a===t.x&&s===t.yo.updatePosition({xt.x,yt.y})}else i.innerAddChild(t,r,n)},e.prototype.innerRemoveChild=function(t,e,r){var n=this,i=n.findById(t);if(i)if(Object(p.each)(i.get(children),(function(t){n.innerRemoveChild(t.getModel().id,e,r)})),r){var o=i.getModel();i.set(to,e),i.set(originAttrs,{xo.x,yo.y}),n.get(removeList).push(i)}else n.removeItem(i)},e.prototype.changeData=function(t){var e=this;this.getNodes().map((function(t){return e.clearItemStates(t)})),this.getEdges().map((function(t){return e.clearItemStates(t)})),t(e.data(t),e.render())e.layout(this.get(fitView))},e.prototype.changeLayout=function(t){console.warn(Please call updateLayout instead of changeLayout. changeLayout will be discarded soon);this.updateLayout(t)},e.prototype.updateLayout=function(t){t(this.set(layout,t),this.set(layoutMethod,this.getLayout()),this.layout())console.warn(layout cannot be null)},e.prototype.refreshLayout=function(t){console.warn(Please call layout instead of refreshLayout. refreshLayout will be discarded soon);this.layout(t)},e.prototype.layout=function(t){var e=this.get(data),r=this.get(layoutMethod)(e,this.get(layout)),n=this.get(animate);(this.emit(beforerefreshlayout,{datae,layoutDatar}),this.emit(beforelayout),this.innerUpdateChild(r,void 0,n),t)&&this.get(viewController).fitView();nthis.layoutAnimate(r)(this.refresh(),this.paint()),this.emit(afterrefreshlayout,{datae,layoutDatar}),this.emit(afterlayout)},e.prototype.addChild=function(t,e){this.emit(beforeaddchild,{modelt,parente}),Object(p.isString)(e)(e=e.get(id));var r=this.findDataById(e);r&&(r.children(r.children=[]),r.children.push(t),this.changeData())},e.prototype.updateChild=function(t,r){if(r&&this.findById(r)){var n=this.findById(r).getModel(),i=this.findById(t.id);if(n.children(n.children=[]),i){var o=e.indexOfChild(n.children,t.id);n.children[o]=t}else n.children.push(t);this.changeData()}else this.changeData(t)},e.prototype.removeChild=function(t){var r=this.findById(t);if(r){var n=r.get(parent);if(n&&!n.destroyed){var i=this.findDataById(n.get(id)),o=i&&i.children[],a=r.getModel(),s=e.indexOfChild(o,a.id);o.splice(s,1)}this.changeData()}},e.prototype.findDataById=function(t,e){var r=this;if(e(e=r.get(data)),t===e.id)return e;var n=null;return Object(p.each)(e.children[],(function(e){return e.id===t(n=e,!1)!(n=r.findDataById(t,e))&&void 0})),n},e.prototype.layoutAnimate=function(t,e){var r=this,n=this.get(animateCfg);r.emit(beforeanimate,{datat}),r.getEdges().forEach((function(t){var e=t.get(model);e.sourceAnchor(e.sourceAnchor=t.get(sourceAnchorIndex))})),this.get(canvas).animate((function(n){pr(t,(function(i){var o=r.findById(i.id);if(o){var a=o.get(originAttrs),s=o.get(model);if(a(a={xs.x,ys.y},o.set(originAttrs,a)),e){var u=e(o,n,a,t);o.set(model,Object.assign(s,u))}else s.x=a.x+(i.x-a.x)n,s.y=a.y+(i.y-a.y)n}return!0})),Object(p.each)(r.get(removeList),(function(t){var e=t.getModel(),r=t.get(originAttrs),i=t.get(to);e.x=r.x+(i.x-r.x)n,e.y=r.y+(i.y-r.y)n})),r.refreshPositions()}),{durationn.duration,easingn.ease,callbackfunction(){Object(p.each)(r.getNodes(),(function(t){t.set(originAttrs,null)})),Object(p.each)(r.get(removeList),(function(t){r.removeItem(t)})),r.set(removeList,[]),n.callback&&n.callback(),r.emit(afteranimate,{datat})},delayn.delay})},e.prototype.stopLayoutAnimate=function(){this.get(canvas).stopAnimate(),this.emit(layoutanimateend,{datathis.get(data)}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(){if(!this.get(data))throw new Error(data must be defined first);this.clear(),this.emit(beforerender),this.layout(this.get(fitView)),this.emit(afterrender)},e.prototype.save=function(){return this.get(data)},e}(qo),Uo=[startArrow,endArrow],Wo={options{},itemType,type,getCustomConfigfunction(t){return{}},getOptionsfunction(t){return Object(ht.deepMix)({labelCfg{style{fontFamilyundefined!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue(font-family)Arial, sans-serif}},descriptionCfg{style{fontFamilyundefined!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue(font-family)Arial, sans-serif}}},this.options,this.getCustomConfig(t){},t)},drawfunction(t,e){var r=this.drawShape(t,e);(r.set(className,this.itemType+-shape),t.label)&&this.drawLabel(t,e).set(className,this.itemType+-label);return r},afterDrawfunction(t,e,r){},drawShapefunction(t,e){return null},drawLabelfunction(t,e){var r=this.getOptions(t).labelCfg{},n=this.getLabelStyle(t,r,e),i=n.rotate;delete n.rotate;var o=e.addShape(text,{attrsn,draggable!0,classNametext-shape,nametext-shape});if(i){var a=o.getBBox(),s=o.getMatrix();if(s(s=[1,0,0,0,1,0,0,0,1]),n.rotateCenter)switch(n.rotateCenter){casecenters=dt(s,[[t,-a.width2,-a.height2],[r,i],[t,a.width2,a.height2]]);break;caselefttops=dt(s,[[t,-n.x,-n.y],[r,i],[t,n.x,n.y]]);break;caseleftcenters=dt(s,[[t,-n.x,-n.y-a.height2],[r,i],[t,n.x,n.y+a.height2]]);break;defaults=dt(s,[[t,-a.width2,-a.height2],[r,i],[t,a.width2,a.height2]])}else s=dt(s,[[t,-n.x,-n.y-a.height2],[r,i],[t,n.x,n.y+a.height2]]);o.setMatrix(s)}if(n.background){var u=this.drawLabelBg(t,e,o),c=this.itemType+-label-bg;u.set(classname,c),o.toFront()}return o},drawLabelBgfunction(t,e,r){var n=this.options.labelCfg,i=Object(ht.mix)({},n,t.labelCfg),o=this.getLabelBgStyleByPosition(r,t,i,e);return e.addShape(rect,{nametext-bg-shape,attrso})},getLabelStyleByPositionfunction(t,e,r){return{textt.label}},getLabelBgStyleByPositionfunction(t,e,r,n){return{}},getLabelStylefunction(t,e,r){var n=this.getLabelStyleByPosition(t,e,r),i=this.itemType+Label,o=Q[i]Q[i].stylenull;return Object(k.__assign)(Object(k.__assign)(Object(k.__assign)({},o),n),e.style)},getShapeStylefunction(t){return t.style},updatefunction(t,e){this.updateShapeStyle(t,e),this.updateLabel(t,e)},updateShapeStylefunction(t,e){var r=e.getContainer(),n=e.getKeyShape(),i=Object(ht.mix)({},n.attr(),t.style),o=function(t){var e,o=i[t];if(Object(ht.isPlainObject)(o)){var a=r.find((function(e){return e.get(name)===t}));a&&a.attr(o)}else n.attr(((e={})[t]=o,e))};for(var a in i)o(a)},updateLabelfunction(t,e){var r=e.getContainer(),n=this.getOptions({}).labelCfg,i=this.itemType+-label,o=r.find((function(t){return t.get(className)===i})),a=this.itemType+-label-bg,s=r.find((function(t){return t.get(classname)===a}));if(t.label===t.label)if(o){var u={};e.getModel&&(u=e.getModel().labelCfg);var c=Object(ht.deepMix)({},n,u,t.labelCfg),h=this.getLabelStyleByPosition(t,c,r),f=t.labelCfgt.labelCfg.stylevoid 0,l=c.style&&c.style.background,d=Object(k.__assign)(Object(k.__assign)(Object(k.__assign)({},o.attr()),h),f),p=d.rotate;if(delete d.rotate,p){var g=[1,0,0,0,1,0,0,0,1];g=dt(g,[[t,-d.x,-d.y],[r,p],[t,d.x,d.y]]),o.resetMatrix(),o.attr(Object(k.__assign)(Object(k.__assign)({},d),{matrixg}))}else o.resetMatrix(),o.attr(d);if(s)if(d.background){var v=this.getLabelBgStyleByPosition(o,t,c,r),y=Object(k.__assign)(Object(k.__assign)({},v),l);s.resetMatrix(),p&&s.rotateAtStart(p),s.attr(y)}else r.removeChild(s);else d.background&&((s=this.drawLabelBg(t,r,o)).set(classname,a),o.toFront())}else{this.drawLabel(t,r).set(className,i)}},afterUpdatefunction(t,e){},setStatefunction(t,e,r){var n,i,o=r.get(keyShape);if(o){var a=r.getType(),s=Object(ht.isBoolean)(e)tt++e,u=this.getStateStyle(s,r),c=r.getStateStyle(s);if(cu){var h=Object(ht.mix)({},cu),f=r.getContainer();if(e){var l=function(t){var e,r=h[t];if(Object(ht.isPlainObject)(r)&&!Uo.includes(t)){var n=f.find((function(e){return e.get(name)===t}));n&&n.attr(r)}else o.attr(((e={})[t]=r,e))};for(var d in h)l(d)}else{var p=Object(ht.clone)(r.getCurrentStatesStyle()),g=r.getModel(),v=Object(ht.mix)({},g.style,Object(ht.clone)(r.getOriginStyle())),y=o.get(name),m=o.attr(),b={},x=function(t){var e=h[t];if(Object(ht.isPlainObject)(e)&&!Uo.includes(t)){var r=f.find((function(e){return e.get(name)===t}));if(r){var n=r.attr();Object(ht.each)(e,(function(t,e){(n[e]0===n[e])&&delete n[e]})),b[t]=n}}else{m[t]&&!{x1,y1,cx1,cy1}[t]&&delete m[t]}};for(var w in h)x(w);for(var d in yb[y]=mObject(ht.mix)(b,m),p){var M=p[d];Object(ht.isPlainObject)(M)&&!Uo.includes(d)(y(Object(ht.mix)(v[y],((i={})[d]=M,i)),delete v[d])Object(ht.mix)(v,((n={})[d]=M,n)),delete p[d])}var S={};Object(ht.deepMix)(S,v,b,p);var _=function(t){var e,r,n=S[t];if(Object(ht.isPlainObject)(n)&&!Uo.includes(t)){var i=f.find((function(e){return e.get(name)===t}));i&&i.attr(n)}elsecombo===ayo.attr(((e={})[t]=n,e))o.attr(((r={})[t]=n,r))};for(var k in S)_(k)}}}},getStateStylefunction(t,e){var r=e.getModel(),n=e.getType(),i=this.getOptions(r),o=i.stateStyles,a=i.style,s=void 0===a{}a,u=r.stateStylesr.stateStyles[t]o&&o[t];returncombo===nObject(ht.clone)(u)Object(ht.mix)({},s,u)},getControlPointsfunction(t){return t.controlPoints},getAnchorPointsfunction(t){return this.getOptions(t).anchorPoints}},Zo={itemTypenode,shapeTypesingle-node,labelPositioncenter,offsetQ.nodeLabel.offset,getSizefunction(t){var e=t.sizethis.getOptions({}).sizeQ.defaultNode.size;return Object(ht.isArray)(e)&&1===e.length&&(e=[e[0],e[0]]),Object(ht.isArray)(e)(e=[e,e]),e},getLabelStyleByPositionfunction(t,e){var r=e.positionthis.labelPosition;if(center===r)return{x0,y0,textt.label};var n=e.offset;Object(ht.isNil)(n)&&(n=this.offset);var i,o=this.getSize(t),a=o[0],s=o[1];switch(r){casetopi={x0,y0-s2-n,textBaselinebottom};break;casebottomi={x0,ys2+n,textBaselinetop};break;caselefti={x0-a2-n,y0,textAlignright};break;defaulti={xa2+n,y0,textAlignleft}}return i.text=t.label,i},getLabelBgStyleByPositionfunction(t,e,r,n){if(!t)return{};var i=t.getBBox(),o=r.style&&r.style.background;if(!o)return{};var a,s=j(o.padding),u=i.width+s[1]+s[3],c=i.height+s[0]+s[2],h=r.offset;return Object(ht.isNil)(h)&&(h=this.offset),a={xi.minX-s[3],yi.minY-s[0]},a=Object(k.__assign)(Object(k.__assign)(Object(k.__assign)({},a),o),{widthu,heightc})},drawShapefunction(t,e){var r=this.shapeType,n=this.getShapeStyle(t);return e.addShape(r,{attrsn,draggable!0,namenode-shape})},updateLinkPointsfunction(t,e){var r,n=this.getOptions(t).linkPoints,i=e.find((function(t){returnlink-point-left===t.get(className)})),o=e.find((function(t){returnlink-point-right===t.get(className)})),a=e.find((function(t){returnlink-point-top===t.get(className)})),s=e.find((function(t){returnlink-point-bottom===t.get(className)}));i&&(r=i.attr()),o&&!r&&(r=o.attr()),a&&!r&&(r=a.attr()),s&&!r&&(r=s.attr()),r(r=n);var u=Object(ht.mix)({},r,t.linkPoints),c=u.fill,h=u.stroke,f=u.lineWidth,l=u.size2;l(l=u.r);var d=t.linkPointst.linkPoints{leftvoid 0,rightvoid 0,topvoid 0,bottomvoid 0},p=d.left,g=d.right,v=d.top,y=d.bottom,m=this.getSize(t),b=m[0],x=m[1],w={rl,fillc,strokeh,lineWidthf};ipvoid 0===pi.attr(Object(k.__assign)(Object(k.__assign)({},w),{x-b2,y0}))i.remove()p&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},w),{x-b2,y0}),classNamelink-point-left,namelink-point-left,isAnchorPoint!0}),o(gvoid 0===go.remove(),o.attr(Object(k.__assign)(Object(k.__assign)({},w),{xb2,y0})))g&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},w),{xb2,y0}),classNamelink-point-right,namelink-point-right,isAnchorPoint!0}),a(vvoid 0===va.remove(),a.attr(Object(k.__assign)(Object(k.__assign)({},w),{x0,y-x2})))v&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},w),{x0,y-x2}),classNamelink-point-top,namelink-point-top,isAnchorPoint!0}),syvoid 0===ys.attr(Object(k.__assign)(Object(k.__assign)({},w),{x0,yx2}))s.remove()y&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},w),{x0,yx2}),classNamelink-point-bottom,namelink-point-bottom,isAnchorPoint!0})},updateShapefunction(t,e,r,n){e.get(keyShape).attr(Object(k.__assign)({},r)),this.updateLabel(t,e),n&&this.updateIcon(t,e)},updateIconfunction(t,e){var r=this,n=e.getContainer(),i=this.getOptions(t).icon,o=(t.icont.icon{showvoid 0}).show,a=n.find((function(t){return t.get(className)===r.type+-icon}));if(a)if(ovoid 0===o){var s=Object(ht.mix)({},a.attr(),i),u=s.width,c=s.height;a.attr(Object(k.__assign)(Object(k.__assign)({},s),{x-u2,y-c2}))}else a.remove();else if(o){u=i.width,c=i.height;n.addShape(image,{attrsObject(k.__assign)(Object(k.__assign)({},i),{x-u2,y-c2}),classNamethis.type+-icon,namethis.type+-icon});var h=n.find((function(t){returnnode-label===t.get(className)}));h&&h.toFront()}}},$o=Object(k.__assign)(Object(k.__assign)({},Wo),Zo);Pr.registerNode(single-node,$o);var Ko={itemTypeedge,labelPositioncenter,refX0,refY0,labelAutoRotate!1,options{sizeQ.defaultEdge.size,style{x0,y0,strokeQ.defaultEdge.style.stroke,lineAppendWidthQ.defaultEdge.style.lineAppendWidth},labelCfg{style{fillQ.edgeLabel.style.fill,fontSizeQ.edgeLabel.style.fontSize}},stateStylesObject(k.__assign)({},Q.edgeStateStyles)},getPathfunction(t){var e=[];return Object(ht.each)(t,(function(t,r){0===re.push([M,t.x,t.y])e.push([L,t.x,t.y])})),e},getShapeStylefunction(t){var e=this.options.style,r={stroket.color},n=Object(ht.mix)({},e,r,t.style),i=t.sizeQ.defaultEdge.size,o=(t=this.getPathPoints(t)).startPoint,a=t.endPoint,s=this.getControlPoints(t),u=[o];s&&(u=u.concat(s)),u.push(a);var c=this.getPath(u);return Object(ht.mix)({},Q.defaultEdge.style,{strokeQ.defaultEdge.color,lineWidthi,pathc},n)},updateShapeStylefunction(t,e){var r=e.getContainer(),n={stroket.color},i=r.find((function(t){returnedge-shape===t.get(className)}))e.getKeyShape(),o=t.size,a=(t=this.getPathPoints(t)).startPoint,s=t.endPoint,u=this.getControlPoints(t),c=[a];u&&(c=c.concat(u)),c.push(s);var h=Object(ht.mix)({},n,i.attr(),t.style),f=t.sourceNode,l=t.targetNode,d={radiush.radius};u(d={sourcef,targetl,offseth.offset,radiush.radius});var p=this.getPath(c,d),g=Object(ht.mix)(n,i.attr(),{lineWidtho,pathp},t.style);i&&i.attr(g)},getLabelStyleByPositionfunction(t,e,r){var n,i=e.positionthis.labelPosition,o={},a=r&&r.find((function(t){returnedge-shape===t.get(className)}));n=start===i0end===i1.5;var s=e.refXthis.refX,u=e.refYthis.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return o.x=t.startPoint.x+s,o.y=t.startPoint.y+u,o.text=t.label,o;var c=Object(ht.isNil)(e.autoRotate)this.labelAutoRotatee.autoRotate,h=fr(a,n,s,u,c);return o.x=h.x,o.y=h.y,o.rotate=h.rotate,o.textAlign=this._getTextAlign(i,h.angle),o.text=t.label,o},getLabelBgStyleByPositionfunction(t,e,r,n){if(!t)return{};var i=t.getBBox(),o=r.style&&r.style.background;if(!o)return{};var a,s=o.padding,u=i.width+s[1]+s[3],c=i.height+s[0]+s[2],h=r.positionthis.labelPosition,f=Object(k.__assign)(Object(k.__assign)({},o),{widthu,heightc,xi.minX-s[2],yi.minY-s[0],rotate0}),l=Object(ht.isNil)(r.autoRotate)this.labelAutoRotater.autoRotate,d=n&&n.find((function(t){returnedge-shape===t.get(className)}));a=start===h0end===h1.5;var p=r.refXthis.refX,g=r.refYthis.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return f.x=e.startPoint.x+p,f.y=e.startPoint.y+g,f;var v=fr(d,a,p-u2,g+c2,l),y=v.angle;return y.5Math.PI&&y1.5Math.PI&&(v=fr(d,a,p+u2,g+c2,l)),l&&(f.x=v.x,f.y=v.y),f.rotate=v.rotate,f},_getTextAlignfunction(t,e){var r=center;return e(e%=2Math.PI,center!==t&&(r=e=0&&e=Math.PI2e=1.5Math.PI&&e2Math.PItfunction(t){var e=t;returnstart===te=endend===t&&(e=start),e}(t)),r)t},getControlPointsfunction(t){return t.controlPoints},getPathPointsfunction(t){return t},drawShapefunction(t,e){var r=this.getShapeStyle(t);return e.addShape(path,{classNameedge-shape,nameedge-shape,attrsr})},drawLabelfunction(t,e){var r=this.options.labelCfg,n=Object(ht.deepMix)({fontFamilyundefined!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue(font-family)Arial, sans-serif},r,t.labelCfg),i=this.getLabelStyle(t,n,e),o=i.rotate;delete i.rotate;var a=e.addShape(text,{attrsi,nametext-shape});if(o&&a.rotateAtStart(o),i.background){var s=this.drawLabelBg(t,e,a),u=this.itemType+-label-bg;s.set(classname,u),a.toFront()}return a},drawLabelBgfunction(t,e,r){var n=this.options.labelCfg,i=Object(ht.deepMix)({},n,t.labelCfg),o=this.getLabelStyle(t,i,e).rotate,a=this.getLabelBgStyleByPosition(r,t,i,e);delete a.rotate;var s=e.addShape(rect,{nametext-bg-shape,attrsa});return o&&s.rotateAtStart(o),s}},Qo=Object(k.__assign)(Object(k.__assign)({},Wo),Ko);Pr.registerEdge(single-edge,Qo),Pr.registerEdge(line,{getControlPointsfunction(){}},single-edge),Pr.registerEdge(spline,{getPathfunction(t){return me(t)}},single-edge),Pr.registerEdge(arc,{curveOffset20,clockwise1,getControlPointsfunction(t){var e,r,n=t.startPoint,i=t.endPoint,o=(n.x+i.x)2,a=(n.y+i.y)2;if(void 0!==t.controlPoints){if(r=t.controlPoints[0],e=Gt(n,r,i),n.x=i.x&&n.yi.ythis.clockwise=e.xr.x01n.x=i.x&&n.yi.ythis.clockwise=e.xr.x10n.xi.x&&n.y=i.ythis.clockwise=e.yr.y01this.clockwise=e.yr.y10,(r.x-n.x)(r.y-n.y)==(i.x-n.x)(i.y-n.y))return[]}else{void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),m()(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset0this.clockwise=0this.clockwise=1;var s={xi.x-n.x,yi.y-n.y},u=Math.atan2(s.y,s.x);r={xt.curveOffsetMath.cos(-Math.PI2+u)+o,yt.curveOffsetMath.sin(-Math.PI2+u)+a},e=Gt(n,r,i)}var c=qt(n,e);return[{xc,yc}]},getPathfunction(t){var e=[];return e.push([M,t[0].x,t[0].y]),2===t.lengthe.push([L,t[1].x,t[1].y])e.push([A,t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},single-edge),Pr.registerEdge(quadratic,{curvePosition.5,curveOffset-20,getControlPointsfunction(t){var e=t.controlPoints;if(!e!e.length){var r=t.startPoint,n=t.endPoint;void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),m()(this.curveOffset)&&(t.curveOffset=t.curveOffset[0]),m()(this.curvePosition)&&(t.curvePosition=t.curveOffset[0]),e=[be(r,n,t.curvePosition,t.curveOffset)]}return e},getPathfunction(t){var e=[];return e.push([M,t[0].x,t[0].y]),e.push([Q,t[1].x,t[1].y,t[2].x,t[2].y]),e}},single-edge),Pr.registerEdge(cubic,{curvePosition[.5,.5],curveOffset[-20,20],getControlPointsfunction(t){var e=t.controlPoints;if(void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),M()(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),M()(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),!e!e.lengthe.length2){var r=t.startPoint,n=t.endPoint;e=[be(r,n,t.curvePosition[0],t.curveOffset[0]),be(r,n,t.curvePosition[1],t.curveOffset[1])]}return e},getPathfunction(t){var e=[];return e.push([M,t[0].x,t[0].y]),e.push([C,t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},single-edge),Pr.registerEdge(cubic-vertical,{curvePosition[.5,.5],getControlPointsfunction(t){var e=t.startPoint,r=t.endPoint;return void 0!==t.curvePosition&&(this.curvePosition=t.curvePosition),M()(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{xe.x,y(r.y-e.y)this.curvePosition[0]+e.y},{xr.x,y(r.y-e.y)this.curvePosition[1]+e.y}]}},cubic),Pr.registerEdge(cubic-horizontal,{curvePosition[.5,.5],getControlPointsfunction(t){var e=t.startPoint,r=t.endPoint;return void 0!==t.curvePosition&&(this.curvePosition=t.curvePosition),M()(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x(r.x-e.x)this.curvePosition[0]+e.x,ye.y},{x(r.x-e.x)this.curvePosition[1]+e.x,yr.y}]}},cubic),Pr.registerEdge(loop,{getPathPointsfunction(t){return hr(t)},getControlPointsfunction(t){return t.controlPoints},afterDrawfunction(t){t.controlPoints=void 0},afterUpdatefunction(t){t.controlPoints=void 0}},cubic);var Jo={itemTypecombo,shapeTypesingle-combo,labelPositiontop,refXQ.comboLabel.refX,refYQ.comboLabel.refY,options{style{strokeQ.defaultCombo.style.stroke,fillQ.defaultCombo.style.fill,lineWidthQ.defaultCombo.style.lineWidth},labelCfg{style{fillQ.comboLabel.style.fill,fontSizeQ.comboLabel.style.fontSize}},stateStylesObject(k.__assign)({},Q.comboStateStyles)},getSizefunction(t){var e=Object(ht.clone)(t.sizethis.options.sizeQ.defaultCombo.size);return Object(ht.isArray)(e)&&1===e.length&&(e=[e[0],e[0]]),Object(ht.isArray)(e)(e=[e,e]),e},getLabelStyleByPositionfunction(t,e){var r=e.positionthis.labelPosition,n=t.style,i=t.paddingthis.options.padding;Object(ht.isArray)(i)&&(i=i[0]);var o=e.refX,a=e.refY;Object(ht.isNil)(o)&&(o=this.refX),Object(ht.isNil)(a)&&(a=this.refY);var s,u=this.getSize(t),c=(Math.max(n.r,u[0]2)u[0]2)+i;switch(r){casetops={x0,y-c-a,textBaselinebottom,textAligncenter};break;casebottoms={x0,yc+a,textBaselinebottom,textAligncenter};break;caselefts={x-c+o,y0,textAlignleft};break;casecenters={x0,y0,textt.label,textAligncenter};break;defaults={xc+o,y0,textAlignright}}return s.text=t.label,s},drawShapefunction(t,e){var r=this.shapeType,n=this.getShapeStyle(t);return e.addShape(r,{attrsn,draggable!0,namecombo-shape})},updateShapefunction(t,e,r){var n=e.get(keyShape);(void 0===t.animatethis.options.animatet.animate)&&n.animaten.animate(r,{duration200,easingeaseLinear})n.attr(Object(k.__assign)({},r)),this.updateLabel(t,e)}},ta=Object(k.__assign)(Object(k.__assign)({},Wo),Jo);Pr.registerCombo(single-combo,ta),Pr.registerCombo(circle,{options{size[Q.defaultCombo.size[0],Q.defaultCombo.size[0]],paddingQ.defaultCombo.padding[0],animate!0,style{strokeQ.defaultCombo.style.stroke,fillQ.defaultCombo.style.fill,lineWidthQ.defaultCombo.style.lineWidth},labelCfg{style{fillQ.comboLabel.style.fill,fontSizeQ.comboLabel.style.fontSize},refX0,refY0},stateStylesObject(k.__assign)({},Q.comboStateStyles)},shapeTypecircle,labelPositiontop,drawShapefunction(t,e){var r=this.getShapeStyle(t);return delete r.height,delete r.width,e.addShape(circle,{attrsr,classNamecircle-combo,namecircle-combo,draggable!0})},getShapeStylefunction(t){var e=this.options.style,r=t.paddingthis.options.padding;Object(ht.isArray)(r)&&(r=r[0]);var n,i={stroket.color},o=Object(ht.mix)({},e,i,t.style),a=this.getSize(t);n=!Object(ht.isNumber)(o.r)isNaN(o.r)a[0]2Q.defaultCombo.style.rMath.max(o.r,a[0]2)a[0]2,o.r=n+r;var s=Object(k.__assign)({x0,y0},o);return t.stylet.style.r=nt.style={rn},s},updatefunction(t,e){var r=this.getSize(t),n=t.paddingthis.options.padding;Object(ht.isArray)(n)&&(n=n[0]);var i=Object(ht.clone)(t.style),o=Math.max(i.r,r[0]2)r[0]2;i.r=o+n;var a=e.get(sizeCache);a&&(a.r=i.r);var s={stroket.color},u=e.get(keyShape),c=Object(ht.mix)({},u.attr(),s,i);t.stylet.style.r=ot.style={ro},this.updateShape(t,e,c,!0)}},single-combo),Pr.registerCombo(rect,{options{size[40,5],padding[25,20,15,20],animate!0,style{radius0,strokeQ.defaultCombo.style.stroke,fillQ.defaultCombo.style.fill,lineWidthQ.defaultCombo.style.lineWidth},labelCfg{style{fillQ.comboLabel.style.fill,fontSizeQ.comboLabel.style.fontSize}},anchorPoints[[0,.5],[1,.5]],stateStylesObject(k.__assign)({},Q.comboStateStyles)},shapeTyperect,labelPositiontop,drawShapefunction(t,e){var r=this.getShapeStyle(t);return e.addShape(rect,{attrsr,classNamerect-combo,namerect-combo,draggable!0})},getLabelStyleByPositionfunction(t,e){var r=e.positionthis.labelPosition,n=t.style,i=t.paddingthis.options.padding;Object(ht.isNumber)(i)&&(i=[i,i,i,i]);var o=e.refX,a=e.refY;Object(ht.isNil)(o)&&(o=this.refX),Object(ht.isNil)(a)&&(a=this.refY);var s,u=n.width2+i[3],c=n.height2+i[0];switch(r){casetops={x0-u+o,y0-c+a,textBaselinetop,textAlignleft};break;casebottoms={x0,yc+a,textBaselinebottom,textAligncenter};break;caselefts={x0-u+a,y0,textAlignleft};break;casecenters={x0,y0,textt.label,textAligncenter};break;defaults={xu+o,y0,textAlignright}}return s.text=t.label,s},getShapeStylefunction(t){var e=this.options.style,r=t.paddingthis.options.padding;Object(ht.isNumber)(r)&&(r=[r,r,r,r]);var n,i,o={stroket.color},a=Object(ht.mix)({},e,o,t.style),s=this.getSize(t);n=!Object(ht.isNumber)(a.width)isNaN(a.width)s[0]Q.defaultCombo.style.widthMath.max(a.width,s[0])s[0],i=!Object(ht.isNumber)(a.height)isNaN(a.height)s[1]Q.defaultCombo.style.heightMath.max(a.height,s[1])s[1];var u=-n2-r[3],c=-i2-r[0];a.width=n+r[1]+r[3],a.height=i+r[0]+r[2];var h=Object(k.__assign)({xu,yc},a);return t.style(t.style.width=n,t.style.height=i)t.style={widthn,heighti},h},updatefunction(t,e){var r=this.getSize(t),n=t.paddingthis.options.padding;Object(ht.isNumber)(n)&&(n=[n,n,n,n]);var i=Object(ht.clone)(t.style),o=Math.max(i.width,r[0])r[0],a=Math.max(i.height,r[1])r[1];i.width=o+n[1]+n[3],i.height=a+n[0]+n[2];var s=e.get(sizeCache);s&&(s.width=i.width,s.height=i.height),i.x=-o2-n[3],i.y=-a2-n[0];var u={stroket.color},c=e.get(keyShape),h=Object(ht.mix)({},c.attr(),u,i);t.style(t.style.width=o,t.style.height=a)t.style={widtho,heighta},this.updateShape(t,e,h,!1)},updateShapefunction(t,e,r){var n=e.get(keyShape);(void 0===t.animatethis.options.animatet.animate)&&n.animaten.animate(r,{duration200,easingeaseLinear})n.attr(Object(k.__assign)({},r)),this.updateLabel(t,e)}},single-combo),Pr.registerNode(circle,{options{sizeQ.defaultNode.size,style{x0,y0,strokeQ.defaultNode.style.stroke,fillQ.defaultNode.style.fill,lineWidthQ.defaultNode.style.lineWidth},labelCfg{style{fillQ.nodeLabel.style.fill,fontSizeQ.nodeLabel.style.fontSize}},linkPoints{top!1,right!1,bottom!1,left!1,sizeQ.defaultNode.linkPoints.size,lineWidthQ.defaultNode.linkPoints.lineWidth,fillQ.defaultNode.linkPoints.fill,strokeQ.defaultNode.linkPoints.stroke},icon{show!1,imghttpsgw.alipayobjects.comzosbmw-prod5d015065-8505-4e7a-baec-976f81e3c41d.svg,width20,height20},stateStylesObject(k.__assign)({},Q.nodeStateStyles)},shapeTypecircle,labelPositioncenter,drawShapefunction(t,e){var r=this.getOptions(t).icon,n=void 0===r{}r,i=this.getShapeStyle(t),o=St()({},n,t.icon),a=e.addShape(circle,{attrsi,classNamethis.type+-keyShape,draggable!0}),s=o.width,u=o.height;return o.show&&e.addShape(image,{attrsObject(k.__assign)({x-s2,y-u2},o),classNamethis.type+-icon,namethis.type+-icon,draggable!0}),this.drawLinkPoints(t,e),a},drawLinkPointsfunction(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r{}r,i=n.top,o=n.left,a=n.right,s=n.bottom,u=n.size,c=n.r,h=Object(k.__rest)(n,[top,left,right,bottom,size,r]),f=this.getSize(t)[0]2;o&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x-f,y0,ru2c5}),classNamelink-point-left,namelink-point-left,isAnchorPoint!0}),a&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{xf,y0,ru2c5}),classNamelink-point-right,namelink-point-right,isAnchorPoint!0}),i&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x0,y-f,ru2c5}),classNamelink-point-top,namelink-point-top,isAnchorPoint!0}),s&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x0,yf,ru2c5}),classNamelink-point-bottom,namelink-point-bottom,isAnchorPoint!0})},getShapeStylefunction(t){var e=this.getOptions(t).style,r={stroket.color},n=St()({},e,r),i=this.getSize(t)[0]2;return Object(k.__assign)({x0,y0,ri},n)},updatefunction(t,e){var r=e.getContainer(),n=this.getSize(t),i={stroket.color,rn[0]2},o=e.get(keyShape),a=St()({},o.attr(),i,t.style);this.updateShape(t,e,a,!0),this.updateLinkPoints(t,r)}},single-node),Pr.registerNode(rect,{options{size[100,30],style{radius0,strokeQ.defaultNode.style.stroke,fillQ.defaultNode.style.fill,lineWidthQ.defaultNode.style.lineWidth},labelCfg{style{fillQ.nodeLabel.style.fill,fontSizeQ.nodeLabel.style.fontSize}},linkPoints{top!1,right!1,bottom!1,left!1,sizeQ.defaultNode.linkPoints.size,lineWidthQ.defaultNode.linkPoints.lineWidth,fillQ.defaultNode.linkPoints.fill,strokeQ.defaultNode.linkPoints.stroke},icon{show!1,imghttpsgw.alipayobjects.comzosbmw-prod5d015065-8505-4e7a-baec-976f81e3c41d.svg,width20,height20},anchorPoints[[0,.5],[1,.5]],stateStylesObject(k.__assign)({},Q.nodeStateStyles)},shapeTyperect,labelPositioncenter,drawShapefunction(t,e){var r=this.getShapeStyle(t),n=e.addShape(rect,{attrsr,classNamethis.type+-keyShape,namethis.type+-keyShape,draggable!0});return this.drawLinkPoints(t,e),n},drawLinkPointsfunction(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r{}r,i=n.top,o=n.left,a=n.right,s=n.bottom,u=n.size,c=n.r,h=Object(k.__rest)(n,[top,left,right,bottom,size,r]),f=this.getSize(t),l=f[0],d=f[1];o&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x-l2,y0,ru2c5}),classNamelink-point-left,namelink-point-left,isAnchorPoint!0}),a&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{xl2,y0,ru2c5}),classNamelink-point-right,namelink-point-right,isAnchorPoint!0}),i&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x0,y-d2,ru2c5}),classNamelink-point-top,namelink-point-top,isAnchorPoint!0}),s&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x0,yd2,ru2c5}),classNamelink-point-bottom,namelink-point-bottom,isAnchorPoint!0})},getShapeStylefunction(t){var e=this.getOptions(t).style,r={stroket.color},n=Object(ht.mix)({},e,r),i=this.getSize(t),o=n.widthi[0],a=n.heighti[1];return Object(k.__assign)({x-o2,y-a2,widtho,heighta},n)},updatefunction(t,e){var r=e.getContainer(),n=this.getOptions({}).style,i=this.getSize(t),o=e.get(keyShape);t.size(i[0]=o.attr(width)n.width,i[1]=o.attr(height)n.height);var a={stroket.color,x-i[0]2,y-i[1]2,widthi[0],heighti[1]},s=Object(ht.mix)({},n,o.attr(),a);s=Object(ht.mix)(s,t.style),this.updateShape(t,e,s,!1),this.updateLinkPoints(t,r)}},single-node),Pr.registerNode(ellipse,{options{size[80,40],style{x0,y0,strokeQ.defaultNode.style.stroke,fillQ.defaultNode.style.fill,lineWidthQ.defaultNode.style.lineWidth},labelCfg{style{fillQ.nodeLabel.style.fill,fontSizeQ.nodeLabel.style.fontSize}},linkPoints{top!1,right!1,bottom!1,left!1,sizeQ.defaultNode.linkPoints.size,lineWidthQ.defaultNode.linkPoints.lineWidth,fillQ.defaultNode.linkPoints.fill,strokeQ.defaultNode.linkPoints.stroke},icon{show!1,imghttpsgw.alipayobjects.comzosbmw-prod5d015065-8505-4e7a-baec-976f81e3c41d.svg,width20,height20},stateStylesObject(k.__assign)({},Q.nodeStateStyles)},shapeTypeellipse,labelPositioncenter,drawShapefunction(t,e){var r=this.getOptions(t).icon,n=void 0===r{}r,i=this.getShapeStyle(t),o=e.addShape(ellipse,{attrsi,classNameellipse-keyShape,nameellipse-keyShape,draggable!0}),a=n.width,s=n.height;if(n.show)e.addShape(image,{attrsObject(k.__assign)({x-a2,y-s2},n),classNamethis.type+-icon,namethis.type+-icon,draggable!0});return this.drawLinkPoints(t,e),o},drawLinkPointsfunction(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r{}r,i=n.top,o=n.left,a=n.right,s=n.bottom,u=n.size,c=n.r,h=Object(k.__rest)(n,[top,left,right,bottom,size,r]),f=this.getSize(t),l=f[0]2,d=f[1]2;o&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x-l,y0,ru2c5}),classNamelink-point-left,namelink-point-left,isAnchorPoint!0}),a&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{xl,y0,ru2c5}),classNamelink-point-right,namelink-point-right,isAnchorPoint!0}),i&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x0,y-d,ru2c5}),classNamelink-point-top,namelink-point-top,isAnchorPoint!0}),s&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x0,yd,ru2c5}),classNamelink-point-bottom,namelink-point-bottom,isAnchorPoint!0})},getShapeStylefunction(t){var e=this.getOptions(t).style,r={stroket.color},n=Object(ht.mix)({},e,r),i=this.getSize(t),o=i[0]2,a=i[1]2;return Object(k.__assign)({x0,y0,rxo,rya},n)},updatefunction(t,e){var r=e.getContainer(),n=this.getOptions({}).style,i=this.getSize(t),o={stroket.color,rxi[0]2,ryi[1]2},a=e.get(keyShape),s=Object(ht.mix)({},n,a.attr(),o);s=Object(ht.mix)(s,t.style),this.updateShape(t,e,s,!0),this.updateLinkPoints(t,r)}},single-node),Pr.registerNode(diamond,{options{size[80,80],style{strokeQ.defaultNode.style.stroke,fillQ.defaultNode.style.fill,lineWidthQ.defaultNode.style.lineWidth},labelCfg{style{fillQ.nodeLabel.style.fill,fontSizeQ.nodeLabel.style.fontSize}},linkPoints{top!1,right!1,bottom!1,left!1,sizeQ.defaultNode.linkPoints.size,lineWidthQ.defaultNode.linkPoints.lineWidth,fillQ.defaultNode.linkPoints.fill,strokeQ.defaultNode.linkPoints.stroke},icon{show!1,imghttpsgw.alipayobjects.comzosbmw-prod5d015065-8505-4e7a-baec-976f81e3c41d.svg,width20,height20},stateStylesObject(k.__assign)({},Q.nodeStateStyles)},shapeTypediamond,labelPositioncenter,drawShapefunction(t,e){var r=this.getOptions(t).icon,n=void 0===r{}r,i=this.getShapeStyle(t),o=e.addShape(path,{attrsi,classNamethis.type+-keyShape,namethis.type+-keyShape,draggable!0}),a=n.width,s=n.height;if(n.show)e.addShape(image,{attrsObject(k.__assign)({x-a2,y-s2},n),classNamethis.type+-icon,namethis.type+-icon,draggable!0});return this.drawLinkPoints(t,e),o},drawLinkPointsfunction(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r{}r,i=n.top,o=n.left,a=n.right,s=n.bottom,u=n.size,c=n.r,h=Object(k.__rest)(n,[top,left,right,bottom,size,r]),f=this.getSize(t),l=f[0],d=f[1];o&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x-l2,y0,ru2c5}),classNamelink-point-left,namelink-point-left,isAnchorPoint!0}),a&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{xl2,y0,ru2c5}),classNamelink-point-right,namelink-point-right,isAnchorPoint!0}),i&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x0,y-d2,ru2c5}),classNamelink-point-top,namelink-point-top,isAnchorPoint!0}),s&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x0,yd2,ru2c5}),classNamelink-point-bottom,namelink-point-bottom,isAnchorPoint!0})},getPathfunction(t){var e=this.getSize(t),r=e[0],n=e[1];return[[M,0,-n2],[L,r2,0],[L,0,n2],[L,-r2,0],[Z]]},getShapeStylefunction(t){var e=this.getOptions(t).style,r={stroket.color},n=Object(ht.mix)({},e,r),i=this.getPath(t);return Object(k.__assign)({pathi},n)},updatefunction(t,e){var r=e.getContainer(),n=this.getOptions({}).style,i=this.getPath(t),o={stroket.color,pathi},a=e.get(keyShape),s=Object(ht.mix)({},n,a.attr(),o);s=Object(ht.mix)(s,t.style),this.updateShape(t,e,s,!0),this.updateLinkPoints(t,r)}},single-node),Pr.registerNode(triangle,{options{size40,directionup,style{strokeQ.defaultNode.style.stroke,fillQ.defaultNode.style.fill,lineWidthQ.defaultNode.style.lineWidth},labelCfg{style{fillQ.nodeLabel.style.fill,fontSizeQ.nodeLabel.style.fontSize},offset15},linkPoints{top!1,right!1,bottom!1,left!1,sizeQ.defaultNode.linkPoints.size,lineWidthQ.defaultNode.linkPoints.lineWidth,fillQ.defaultNode.linkPoints.fill,strokeQ.defaultNode.linkPoints.stroke},icon{show!1,imghttpsgw.alipayobjects.comzosbmw-prod5d015065-8505-4e7a-baec-976f81e3c41d.svg,width20,height20,offset6},stateStylesObject(k.__assign)({},Q.nodeStateStyles)},shapeTypetriangle,labelPositionbottom,drawShapefunction(t,e){var r=this.getOptions(t),n=r.icon,i=void 0===n{}n,o=r.direction,a=this.getShapeStyle(t),s=t.directiono,u=e.addShape(path,{attrsa,classNamethis.type+-keyShape,namethis.type+-keyShape,draggable!0}),c=i.width,h=i.height,f=i.show,l=i.offset;if(f){var d=-c2,p=-h2;up!==s&&down!==s(p+=l),left!==s&&right!==s(d+=l),e.addShape(image,{attrsObject(k.__assign)({xd,yp},i),classNamethis.type+-icon,namethis.type+-icon,draggable!0})}return this.drawLinkPoints(t,e),u},drawLinkPointsfunction(t,e){var r=this.getOptions(t),n=r.linkPoints,i=void 0===n{}n,o=r.direction,a=t.directiono,s=i.top,u=i.left,c=i.right,h=i.bottom,f=i.size,l=i.r,d=Object(k.__rest)(i,[top,left,right,bottom,size,r]),p=this.getSize(t)[0];if(u){var g=null,v=pMath.sin(13Math.PI),y=pMath.sin(13Math.PI);up===ag=[-y,v]down===ag=[-y,-v]left===a&&(g=[-y,y-v]),g&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},d),{xg[0],yg[1],rf2l5}),classNamelink-point-left,namelink-point-left})}if(c){var m=null;v=pMath.sin(13Math.PI),y=pMath.sin(13Math.PI);up===am=[y,v]down===am=[y,-v]right===a&&(m=[y,y-v]),m&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},d),{xm[0],ym[1],rf2l5}),classNamelink-point-right,namelink-point-right})}if(s){var b=null;v=pMath.sin(13Math.PI),y=pMath.sin(13Math.PI);up===ab=[y-v,-v]left===ab=[y,-v]right===a&&(b=[-y,-v]),b&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},d),{xb[0],yb[1],rf2l5}),classNamelink-point-top,namelink-point-top})}if(h){var x=null;v=pMath.sin(13Math.PI),y=pMath.sin(13Math.PI);down===ax=[-y+v,v]left===ax=[y,v]right===a&&(x=[-y,v]),x&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},d),{xx[0],yx[1],rf2l5}),classNamelink-point-bottom,namelink-point-bottom})}},getPathfunction(t){var e=this.getOptions(t).direction,r=t.directione,n=this.getSize(t)[0],i=nMath.sin(13Math.PI),o=nMath.sin(13Math.PI),a=[[M,-o,i],[L,0,-i],[L,o,i],[Z]];returndown===ra=[[M,-o,-i],[L,o,-i],[L,0,i],[Z]]left===ra=[[M,-o,o-i],[L,o,-o],[L,o,o],[Z]]right===r&&(a=[[M,o,o-i],[L,-o,o],[L,-o,-o],[Z]]),a},getShapeStylefunction(t){var e=this.getOptions(t).style,r={stroket.color},n=Object(ht.mix)({},e,r),i=this.getPath(t);return Object(k.__assign)({pathi},n)},updatefunction(t,e){var r=e.getContainer(),n=this.getOptions({}).style,i=this.getPath(t),o={stroket.color,pathi},a=e.get(keyShape),s=Object(ht.mix)({},n,a.attr(),o);s=Object(ht.mix)(s,t.style),this.updateShape(t,e,s,!0),this.updateLinkPoints(t,r)},updateLinkPointsfunction(t,e){var r=this.getOptions({}),n=r.linkPoints,i=r.direction,o=t.directioni,a=e.find((function(t){returnlink-point-left===t.get(className)})),s=e.find((function(t){returnlink-point-right===t.get(className)})),u=e.find((function(t){returnlink-point-top===t.get(className)})),c=e.find((function(t){returnlink-point-bottom===t.get(className)})),h=n,f=asuc;f&&(h=f.attr());var l=Object(ht.mix)({},h,t.linkPoints),d=l.fill,p=l.stroke,g=l.lineWidth,v=l.size2;v(v=l.r);var y=t.linkPointst.linkPoints{leftvoid 0,rightvoid 0,topvoid 0,bottomvoid 0},m=y.left,b=y.right,x=y.top,w=y.bottom,M=this.getSize(t)[0],S={rv,filld,strokep,lineWidthg},_=null,O=MMath.sin(13Math.PI),E=MMath.sin(13Math.PI);up===o_=[-E,O]down===o_=[-E,-O]left===o&&(_=[-E,E-O]),_&&(amvoid 0===ma.attr(Object(k.__assign)(Object(k.__assign)({},S),{x_[0],y_[1]}))a.remove()m&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},S),{x_[0],y_[1]}),classNamelink-point-left,namelink-point-left,isAnchorPoint!0}));var j=null;up===oj=[E,O]down===oj=[E,-O]right===o&&(j=[E,E-O]),j&&(sbvoid 0===bs.attr(Object(k.__assign)(Object(k.__assign)({},S),{xj[0],yj[1]}))s.remove()b&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},S),{xj[0],yj[1]}),classNamelink-point-right,namelink-point-right,isAnchorPoint!0}));var C=null;up===oC=[E-O,-O]left===oC=[E,-O]right===o&&(C=[-E,-O]),C&&(uxvoid 0===xu.attr(Object(k.__assign)(Object(k.__assign)({},S),{xC[0],yC[1]}))u.remove()x&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},S),{xC[0],yC[1]}),classNamelink-point-top,namelink-point-top,isAnchorPoint!0}));var A=null;down===oA=[-E+O,O]left===oA=[E,O]right===o&&(A=[-E,O]),A&&(cwvoid 0===wc.attr(Object(k.__assign)(Object(k.__assign)({},S),{xA[0],yA[1]}))c.remove()w&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},S),{xA[0],yA[1]}),classNamelink-point-bottom,namelink-point-bottom,isAnchorPoint!0}))}},single-node),Pr.registerNode(modelRect,{options{size[185,70],style{radius5,stroke#69c0ff,fill#ffffff,lineWidthQ.defaultNode.style.lineWidth,fillOpacity1},labelCfg{style{fill#595959,fontSize14},offset30},descriptionCfg{style{fontSize12,fill#bfbfbf},paddingTop0},preRect{show!0,width4,fill#40a9ff,radius2},linkPoints{top!1,right!1,bottom!1,left!1,size10,lineWidth1,fill#72CC4A,stroke#72CC4A},logoIcon{show!0,x0,y0,imghttpsgw.alipayobjects.comzosbasement_prod4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg,width16,height16,offset0},stateIcon{show!0,x0,y0,imghttpsgw.alipayobjects.comzosbasement_prod300a2523-67e0-4cbf-9d4a-67c077b40395.svg,width16,height16,offset-5},anchorPoints[[0,.5],[1,.5]]},shapeTypemodelRect,drawShapefunction(t,e){var r=this.getOptions(t).preRect,n=void 0===r{}r,i=this.getShapeStyle(t),o=this.getSize(t),a=o[0],s=o[1],u=e.addShape(rect,{attrsi,classNamethis.type+-keyShape,namethis.type+-keyShape,draggable!0}),c=n.show,h=Object(k.__rest)(n,[show]);return c&&e.addShape(rect,{attrsObject(k.__assign)({x-a2,y-s2,heights},h),classNamepre-rect,namepre-rect,draggable!0}),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),u},drawLogoIconfunction(t,e){var r=this.getOptions(t).logoIcon,n=void 0===r{}r,i=this.getSize(t)[0];if(n.show){var o=n.width,a=n.height,s=n.x,u=n.y,c=n.offset,h=Object(k.__rest)(n,[width,height,x,y,offset]);e.addShape(image,{attrsObject(k.__assign)(Object(k.__assign)({},h),{xs-i2+o+c,yu-a2,widtho,heighta}),classNamerect-logo-icon,namerect-logo-icon,draggable!0})}},drawStateIconfunction(t,e){var r=this.getOptions(t).stateIcon,n=void 0===r{}r,i=this.getSize(t)[0];if(n.show){var o=n.width,a=n.height,s=n.x,u=n.y,c=n.offset,h=Object(k.__rest)(n,[width,height,x,y,offset]);e.addShape(image,{attrsObject(k.__assign)(Object(k.__assign)({},h),{xsi2-o+c,yu-a2,widtho,heighta}),classNamerect-state-icon,namerect-state-icon,draggable!0})}},drawLinkPointsfunction(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r{}r,i=n.top,o=n.left,a=n.right,s=n.bottom,u=n.size,c=n.r,h=Object(k.__rest)(n,[top,left,right,bottom,size,r]),f=this.getSize(t),l=f[0],d=f[1];o&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x-l2,y0,ru2c5}),classNamelink-point-left,namelink-point-left,isAnchorPoint!0}),a&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{xl2,y0,ru2c5}),classNamelink-point-right,namelink-point-right,isAnchorPoint!0}),i&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x0,y-d2,ru2c5}),classNamelink-point-top,namelink-point-top,isAnchorPoint!0}),s&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},h),{x0,yd2,ru2c5}),classNamelink-point-bottom,namelink-point-bottom,isAnchorPoint!0})},drawLabelfunction(t,e){var r=this.getOptions(t),n=r.labelCfg,i=void 0===n{}n,o=r.logoIcon,a=void 0===o{}o,s=r.descriptionCfg,u=void 0===s{}s,c=this.getSize(t)[0],h=null,f=a.show,l=a.width,d=-c2+i.offset;f&&(d=-c2+l+i.offset);var p=i.style,g=u.style,v=u.paddingTop;return Object(ht.isString)(t.description)(h=e.addShape(text,{attrsObject(k.__assign)(Object(k.__assign)({},p),{xd,y-5,textt.label}),classNametext-shape,nametext-shape,draggable!0}),e.addShape(text,{attrsObject(k.__assign)(Object(k.__assign)({},g),{xd,y17+(v0),textt.description}),classNamerect-description,namerect-description,draggable!0}))h=e.addShape(text,{attrsObject(k.__assign)(Object(k.__assign)({},p),{xd,y7,textt.label}),draggable!0}),h},getShapeStylefunction(t){var e=this.getOptions(t).style,r={stroket.color},n=Object(ht.mix)({},e,r),i=this.getSize(t),o=n.widthi[0],a=n.heighti[1];return Object(k.__assign)({x-o2,y-a2,widtho,heighta},n)},updatefunction(t,e){var r=this.getOptions(t),n=r.style,i=void 0===n{}n,o=r.labelCfg,a=void 0===o{}o,s=r.descriptionCfg,u=void 0===s{}s,c=this.getSize(t),h=c[0],f=c[1];e.get(keyShape).attr(Object(k.__assign)(Object(k.__assign)({},i),{x-h2,y-f2,widthh,heightf}));var l=e.getContainer(),d=l.find((function(t){returnrect-logo-icon===t.get(className)})),p=dd.attr(){},g=Object(ht.mix)({},p,t.logoIcon),v=g.width;void 0===v&&(v=this.options.logoIcon.width);var y=t.logoIcont.logoIcon.showvoid 0,m=a.offset,b=-h2+v+m;yvoid 0===y(b=-h2+m);var x=l.find((function(t){returnnode-label===t.get(className)})),w=l.find((function(t){returnrect-description===t.get(className)}));if(t.label)if(x){var M=t.labelCfgt.labelCfg.style{},S=Object(ht.mix)({},x.attr(),M);t.label&&(S.text=t.label),S.x=b,Object(ht.isString)(t.description)&&(S.y=-5),w&&(w.resetMatrix(),w.attr({xb})),x.resetMatrix(),x.attr(S)}else l.addShape(text,{attrsObject(k.__assign)(Object(k.__assign)({},a.style),{xb,yt.description-57,textt.label}),classNamenode-label,namenode-label,draggable!0});if(Object(ht.isString)(t.description)){var _=u.paddingTop;if(w){M=t.descriptionCfgt.descriptionCfg.style{};var O=Object(ht.mix)({},w.attr(),M);Object(ht.isString)(t.description)&&(O.text=t.description),O.x=b,w.resetMatrix(),w.attr(Object(k.__assign)(Object(k.__assign)({},O),{y17+(_0)}))}else l.addShape(text,{attrsObject(k.__assign)(Object(k.__assign)({},u.style),{xb,y17+(_0),textt.description}),classNamerect-description,namerect-description,draggable!0})}var E=l.find((function(t){returnpre-rect===t.get(className)}));if(E){var j=Object(ht.mix)({},E.attr(),t.preRect);E.attr(Object(k.__assign)(Object(k.__assign)({},j),{x-h2,y-f2,heightf}))}if(d)if(yvoid 0===y){var C=g.width,A=g.height,P=g.x,I=g.y,T=g.offset,N=Object(k.__rest)(g,[width,height,x,y,offset]);d.attr(Object(k.__assign)(Object(k.__assign)({},N),{xP-h2+C+T,yI-A2,widthC,heightA}))}else d.remove();else y&&this.drawLogoIcon(t,l);var D=l.find((function(t){returnrect-state-icon===t.get(className)})),B=DD.attr(){},R=Object(ht.mix)({},B,t.stateIcon);if(D){R.showvoid 0===R.showD.remove();var L=R.width,z=(A=R.height,P=R.x,I=R.y,R.offset),F=Object(k.__rest)(R,[width,height,x,y,offset]);D.attr(Object(k.__assign)(Object(k.__assign)({},F),{xPh2-L+z,yI-A2,widthL,heightA}))}else R.show&&this.drawStateIcon(t,l);this.updateLinkPoints(t,l)}},single-node),Pr.registerNode(star,{options{size60,style{strokeQ.defaultNode.style.stroke,fillQ.defaultNode.style.fill,lineWidthQ.defaultNode.style.lineWidth},labelCfg{style{fillQ.nodeLabel.style.fill,fontSizeQ.nodeLabel.style.fontSize}},linkPoints{top!1,right!1,bottom!1,left!1,sizeQ.defaultNode.linkPoints.size,lineWidthQ.defaultNode.linkPoints.lineWidth,fillQ.defaultNode.linkPoints.fill,strokeQ.defaultNode.linkPoints.stroke},icon{show!1,imghttpsgw.alipayobjects.comzosbmw-prod5d015065-8505-4e7a-baec-976f81e3c41d.svg,width20,height20},stateStylesObject(k.__assign)({},Q.nodeStateStyles)},shapeTypestar,labelPositioncenter,drawShapefunction(t,e){var r=this.getOptions(t).icon,n=void 0===r{}r,i=this.getShapeStyle(t),o=e.addShape(path,{attrsi,classNamethis.type+-keyShape,namethis.type+-keyShape,draggable!0}),a=n.width,s=n.height;if(n.show)e.addShape(image,{attrsObject(k.__assign)({x-a2,y-s2},n),classNamethis.type+-icon,namethis.type+-icon,draggable!0});return this.drawLinkPoints(t,e),o},drawLinkPointsfunction(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r{}r,i=n.top,o=n.left,a=n.right,s=n.leftBottom,u=n.rightBottom,c=n.size,h=n.r,f=Object(k.__rest)(n,[top,left,right,leftBottom,rightBottom,size,r]),l=this.getSize(t)[0];if(a){var d=Math.cos(.1Math.PI)l,p=Math.sin(.1Math.PI)l;e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},f),{xd,y-p,rc2h5}),classNamelink-point-right,namelink-point-right})}if(i){d=Math.cos(.5Math.PI)l,p=Math.sin(.5Math.PI)l;e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},f),{xd,y-p,rc2h5}),classNamelink-point-top,namelink-point-top})}if(o){d=Math.cos(.9Math.PI)l,p=Math.sin(.9Math.PI)l;e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},f),{xd,y-p,rc2h5}),classNamelink-point-left,namelink-point-left})}if(s){d=Math.cos(1.3Math.PI)l,p=Math.sin(1.3Math.PI)l;e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},f),{xd,y-p,rc2h5}),classNamelink-point-left-bottom,namelink-point-left-bottom})}if(u){d=Math.cos(1.7Math.PI)l,p=Math.sin(1.7Math.PI)l;e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},f),{xd,y-p,rc2h5}),classNamelink-point-right-bottom,namelink-point-right-bottom})}},getPathfunction(t){for(var e=this.getSize(t)[0],r=3e8,n=t.innerRr,i=[],o=0;o5;o++){var a=Math.cos((18+72o)180Math.PI)e,s=Math.sin((18+72o)180Math.PI)e,u=Math.cos((54+72o)180Math.PI)n,c=Math.sin((54+72o)180Math.PI)n;0===oi.push([M,a,-s])i.push([L,a,-s]),i.push([L,u,-c])}return i.push([Z]),i},getShapeStylefunction(t){var e=this.getOptions(t).style,r={stroket.color},n=Object(ht.mix)({},e,r),i=this.getPath(t);return Object(k.__assign)({pathi},n)},updatefunction(t,e){var r=e.getContainer(),n=this.getOptions({}).style,i=this.getPath(t),o={stroket.color,pathi},a=e.get(keyShape),s=Object(ht.mix)({},n,a.attr(),o);s=Object(ht.mix)(s,t.style),this.updateShape(t,e,s,!0),this.updateLinkPoints(t,r)},updateLinkPointsfunction(t,e){var r=this.getOptions({}).linkPoints,n=e.find((function(t){returnlink-point-left===t.get(className)})),i=e.find((function(t){returnlink-point-right===t.get(className)})),o=e.find((function(t){returnlink-point-top===t.get(className)})),a=e.find((function(t){returnlink-point-left-bottom===t.get(className)})),s=e.find((function(t){returnlink-point-right-bottom===t.get(className)})),u=r,c=nioas;c&&(u=c.attr());var h=Object(ht.mix)({},u,t.linkPoints),f=h.fill,l=h.stroke,d=h.lineWidth,p=h.size2;p(p=h.r);var g=t.linkPointst.linkPoints{leftvoid 0,rightvoid 0,topvoid 0,leftBottomvoid 0,rightBottomvoid 0},v=g.left,y=g.right,m=g.top,b=g.leftBottom,x=g.rightBottom,w=this.getSize(t)[0],M={rp,fillf,strokel,lineWidthd},S=Math.cos(.1Math.PI)w,_=Math.sin(.1Math.PI)w;iyvoid 0===yi.attr(Object(k.__assign)(Object(k.__assign)({},M),{xS,y-_}))i.remove()y&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},M),{xS,y-_}),classNamelink-point-right,namelink-point-right,isAnchorPoint!0}),S=Math.cos(.5Math.PI)w,_=Math.sin(.5Math.PI)w,omvoid 0===mo.attr(Object(k.__assign)(Object(k.__assign)({},M),{xS,y-_}))o.remove()m&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},M),{xS,y-_}),classNamelink-point-top,namelink-point-top,isAnchorPoint!0}),S=Math.cos(.9Math.PI)w,_=Math.sin(.9Math.PI)w,nvvoid 0===vn.attr(Object(k.__assign)(Object(k.__assign)({},M),{xS,y-_}))n.remove()v&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},M),{xS,y-_}),classNamelink-point-left,namelink-point-left,isAnchorPoint!0}),S=Math.cos(1.3Math.PI)w,_=Math.sin(1.3Math.PI)w,abvoid 0===ba.attr(Object(k.__assign)(Object(k.__assign)({},M),{xS,y-_}))a.remove()b&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},M),{xS,y-_}),classNamelink-point-left-bottom,namelink-point-left-bottom,isAnchorPoint!0}),S=Math.cos(1.7Math.PI)w,_=Math.sin(1.7Math.PI)w,sxvoid 0===xs.attr(Object(k.__assign)(Object(k.__assign)({},M),{xS,y-_}))a.remove()x&&e.addShape(circle,{attrsObject(k.__assign)(Object(k.__assign)({},M),{xS,y-_}),classNamelink-point-right-bottom,namelink-point-right-bottom,isAnchorPoint!0})}},single-node),Pr.registerNode(image,{options{imghttpsgw.alipayobjects.commdnrms_f8c6a0aftsimgAeD7nT6tmYgAAAAAAAAAAAABkARQnAQ,size200,clipCfg{show!1,typecircle,r50,rx50,ry35,width50,height35,points[[30,12],[12,30],[30,48],[48,30]],path[[M,25,25],[L,50,25],[A,12.5,12.5,0,1,1,50,50],[A,12.5,12.5,0,1,0,50,50],[L,25,75],[Z]],x0,y0}},shapeTypeimage,labelPositionbottom,drawShapefunction(t,e){var r=this.shapeType,n=this.getShapeStyle(t);delete n.fill;var i=e.addShape(r,{attrsn,classNamethis.type+-keyShape,namethis.type+-keyShape,draggable!0});return this.drawClip(t,i),i},drawClipfunction(t,e){var r=this.getOptions(t).clipCfg;if(r.show){var n=r.type,i=r.x,o=r.y,a=r.style;if(circle===n){var s=r.r;e.setClip({typecircle,attrsObject(k.__assign)({rs,xi,yo},a)})}else if(rect===n){var u=r.width,c=r.height,h=i-u2,f=o-c2;e.setClip({typerect,attrsObject(k.__assign)({xh,yf,widthu,heightc},a)})}else if(ellipse===n){var l=r.rx,d=r.ry;e.setClip({typeellipse,attrsObject(k.__assign)({xi,yo,rxl,ryd},a)})}else if(polygon===n){var p=r.points;e.setClip({typepolygon,attrsObject(k.__assign)({pointsp},a)})}else if(path===n){var g=r.path;e.setClip({typepath,attrsObject(k.__assign)({pathg},a)})}}},getShapeStylefunction(t){var e=this.getOptions(t).style,r=this.getSize(t),n=this.getOptions(t).img,i=r[0],o=r[1];return e&&(i=e.widthr[0],o=e.heightr[1]),Object(k.__assign)({x-i2,y-o2,widthi,heighto,imgn},e)},updateShapeStylefunction(t,e){var r=e.getContainer(),n=this.itemType+-shape,i=r.find((function(t){return t.get(className)===n}))e.getKeyShape(),o=this.getShapeStyle(t);i&&i.attr(o)}},single-node);var ea=function(t){var e=t.x,r=t.y;return{xe,yr,centerXe,centerYr,minXe,minYr,maxXe,maxYr,height0,width0}},ra=function(t,e){return 2Math.abs(t.centerX-e.centerX)t.width+e.width&&2Math.abs(t.centerY-e.centerY)t.height+e.height},na=function(t){var e=[],r={};return t.forEach((function(t){var e=t.x+-+t.y;t.id=e,r[e]=t})),Object(ht.each)(r,(function(t){e.push(t)})),e},ia=function(t){return t=na(t)},oa=function(t,e){return[t,{xt.x,ye.y},e]},aa=function(t,e){return 0===t.width&&0===t.heightt{centerXt.centerX,centerYt.centerY,minXt.minX-e,minYt.minY-e,maxXt.maxX+e,maxYt.maxY+e,heightt.height+2e,widtht.width+2e}},sa=function(t,e){return function(t,e){var r=Math.abs(t.x-e.centerX),n=Math.abs(t.y-e.centerY);return re.widthne.height}(e,t){xe.xt.centerXt.maxXt.minX,ye.y}{xe.x,ye.yt.centerYt.maxYt.minY}},ua=function(t,e){var r=Math.min(t.minX,e.minX),n=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX(r+i)2,centerY(n+o)2,minXr,minYn,maxXi,maxYo,heighto-n,widthi-r}},ca=function(t){var e=t.minX,r=t.minY,n=t.maxX,i=t.maxY;return[{xe,yr},{xn,yr},{xn,yi},{xe,yi}]},ha=function(t,e){var r=t.x,n=t.y;return re.minXre.maxXne.minYne.maxY},fa=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},la=function(t,e,r,n,i){return fa(t,e)+fa(t,r)+function(t,e){var r=0;return e.forEach((function(e){e&&(t.x===e.x&&(r+=-2),t.y===e.y&&(r+=-2))})),r}(t,[e,r,n,i])},da=function(t,e,r,n,i){void 0===i&&(i=0),t.unshift(e[n]),r[n]&&r[n]!==n&&i=100&&da(t,e,r,r[n],i+1)},pa=function(t,e,r,n){var i=e.x-t.x,o=e.y-t.y,a=n.x-r.x,s=n.y-r.y,u=(-o(t.x-r.x)+i(t.y-r.y))(-ao+is),c=(a(t.y-r.y)-s(t.x-r.x))(-ao+is);return u=0&&u=1&&c=0&&c=1},ga=function(t,e,r){if(0===r.width&&0===r.height)return!1;var n=ca(r),i=n[0],o=n[1],a=n[2],s=n[3];return pa(t,e,i,o)pa(t,e,i,s)pa(t,e,o,a)pa(t,e,a,s)},va=function(t,e,r,n,i,o,a){var s=[],u=[e],c={},h={},f={};h[e.id]=0,f[e.id]=la(e,r,e);var l={};t.forEach((function(t){l[t.id]=t}));for(var d=function(){var d,p,g,v,y=10;if(u.forEach((function(t){f[t.id]y&&(y=f[t.id],d=t)})),d===r){var m=[];return da(m,l,c,r.id),{valuem}}g=d,(v=(p=u).indexOf(g))-1&&p.splice(v,1),s.push(d),function(t,e,r,n){var i=[];return t.forEach((function(t){t!==e&&(t.x!==e.x&&t.y!==e.yga(t,e,r)ga(t,e,n)i.push(t))})),na(i)}(t,d,n,i).forEach((function(t){if(-1===s.indexOf(t)){-1===u.indexOf(t)&&u.push(t);var n=f[d.id]+fa(d,t);h[t.id]&&n=h[t.id](c[t.id]=d.id,h[t.id]=n,f[t.id]=h[t.id]+la(t,r,e,o,a))}}))};u.length;){var p=d();if(object==typeof p)return p.value}return[e,r]},ya=function(t,e){var r=[],n=t[0];return r.push(M+n.x+ +n.y),t.forEach((function(n,i){var o=t[i+1],a=t[i+2];if(o&&a)if(function(t,e,r){return!(t.x===e.x&&e.x===r.xt.y===e.y&&e.y===r.y)}(n,o,a)){var s=function(t,e,r,n){var i=fa(t,e),o=fa(r,e);return in&&(n=i),on&&(n=o),[{xe.x-ni(e.x-t.x),ye.y-ni(e.y-t.y)},{xe.x-no(e.x-r.x),ye.y-no(e.y-r.y)}]}(n,o,a,e),u=s[0],c=s[1];r.push(L+u.x+ +u.y),r.push(Q+o.x+ +o.y+ +c.x+ +c.y),r.push(L+c.x+ +c.y)}else r.push(L+o.x+ +o.y);else o&&r.push(L+o.x+ +o.y)})),r.join()},ma=function(t,e,r,n,i){var o,a;if(r&&r.getType())if(combo===r.getType()){(o=r.getKeyShape().getCanvasBBox()ea(t)).centerX=(o.minX+o.maxX)2,o.centerY=(o.minY+o.maxY)2}else o=r.getBBox();else o=ea(t);if(n&&n.getType())if(combo===n.getType()){(a=n.getKeyShape().getCanvasBBox()ea(e)).centerX=(a.minX+a.maxX)2,a.centerY=(a.minY+a.maxY)2}else a=n&&n.getBBox();else a=ea(e);if(ra(o,a))return ia(oa(t,e));var s=aa(o,i),u=aa(a,i);if(ra(s,u))return ia(oa(t,e));var c=sa(s,t),h=sa(u,e),f=function(t){void 0===t&&(t=[]);var e=[],r=[];t.forEach((function(t){e.push(t.x),r.push(t.y)}));var n=Math.min.apply(Math,e),i=Math.max.apply(Math,e),o=Math.min.apply(Math,r),a=Math.max.apply(Math,r);return{centerX(n+i)2,centerY(o+a)2,maxXi,maxYa,minXn,minYo,heighta-o,widthi-n}}([c,h]),l=(ua(s,u),ua(s,f)),d=ua(u,f),p=[];p=(p=p.concat(ca(l))).concat(ca(d));var g={x(t.x+e.x)2,y(t.y+e.y)2};[f,l,d].forEach((function(t){p=p.concat(function(t,e){return function(t,e){return et.minXet.maxX[][{xe,yt.minY},{xe,yt.maxY}]}(t,e.x).concat(function(t,e){return et.minYet.maxY[][{xt.minX,ye},{xt.maxX,ye}]}(t,e.y))}(t,g).filter((function(t){return ha(t,s)&&ha(t,u)})))})),[{xc.x,yh.y},{xh.x,yc.y}].forEach((function(t){ha(t,s)&&ha(t,u)&&p.push(t)})),p.unshift(c),p.push(h),p=na(p);var v=va(p,c,h,o,a,t,e);return v.unshift(t),v.push(e),ia(v)},ba={offset20,maxAllowedDirectionChange90,maximumLoops2e3,gridSize10,directions[{stepX1,stepY0},{stepX-1,stepY0},{stepX0,stepY1},{stepX0,stepY-1}],get penalties(){return{00,45this.gridSize2,90this.gridSize2}},distFuncfunction(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},fallbackRoutefunction(t,e,r,n,i){return ia(ma(t,e,r,n,i.offset))}},xa=function(t,e){var r=Math.floor(te);return r00r},wa=function(t,e){var r=e.x-t.x,n=e.y-t.y;return rn(360+180Math.atan2(n,r)Math.PI)%3600},Ma=function(t,e){var r=Math.abs(t-e);return r180360-rr},Sa=function(t,e,r){for(var n=10,i=0,o=e.length;io;i++){var a=r(t,e[i]);an&&(n=a)}return n},_a=function(t,e,r){var n=[];if(!e)return n;var i=r.directions,o=r.offset,a=e.getBBox(),s=aa(e.getBBox(),o);for(var u in s)s[u]=xa(s[u],r.gridSize);if(t.xxa(a.minX,r.gridSize)&&t.xxa(a.maxX,r.gridSize)&&t.yxa(a.minY,r.gridSize)&&t.yxa(a.maxY,r.gridSize))for(var c=0,h=i;ch.length;c++){var f=h[c],l=[[{xs.minX,ys.minY},{xs.maxX,ys.minY}],[{xs.minX,ys.minY},{xs.minX,ys.maxY}],[{xs.maxX,ys.minY},{xs.maxX,ys.maxY}],[{xs.minX,ys.maxY},{xs.maxX,ys.maxY}]];for(u=0;u4;u++){var d,p=l[u];(d=Bt(t,{xt.x+f.stepXs.width,yt.y+f.stepYs.height},p[0],p[1]))&&!ga(t,d,e.getBBox())&&(d.id=d.x+-+d.y,n.push(d))}}else(d=sa(s,t)).id=d.x+-+d.y,n.push(d);return n},ka=function(t,e,r,n,i){var o=St()(ba,i);o.obstacles=o.obstacles[];var a=function(t,e,r){var n={};return t.forEach((function(t){if(t)for(var i=aa(t.getBBox(),r),o=xa(i.minX,e);o=xa(i.maxX,e);o+=1)for(var a=xa(i.minY,e);a=xa(i.maxY,e);a+=1){n[o+-+a]=!0}})),n}(o.obstacles.concat([r,n]),o.gridSize,o.offset),s={xxa(t.x,o.gridSize),yxa(t.y,o.gridSize)},u={xxa(e.x,o.gridSize),yxa(e.y,o.gridSize)};t.id=s.x+-+s.y,e.id=u.x+-+u.y;var c=_a(s,r,o),h=_a(u,n,o);c.forEach((function(t){delete a[t.id]})),h.forEach((function(t){delete a[t.id]}));for(var f={},l={},d={},p={},g={},v=0;vc.length;v++){var y=c[v];f[y.id]=y,p[y.id]=0,g[y.id]=Sa(y,h,o.distFunc)}for(var m=function(t,e){var r,n=wa(t,e);if(d[t.id]){var i=wa({xparseFloat(d[t.id].split(-)[0]),yparseFloat(d[t.id].split(-)[1])},t);r=Ma(i,n)}else{var o=wa(s,t);r=Ma(o,n)}return r},b=o.maximumLoops,x=function(){var r,n=10;for(var i in f)g[i]=n&&(n=g[i],r=f[i]);if(!r)returnbreak;if(h.findIndex((function(t){return t.x===r.x&&t.y===r.y}))-1)return{valuefunction(r){var n=[e],i={xparseFloat(r.split(-)[0]),yparseFloat(r.split(-)[1]),idr};for(m(i,u)&&n.unshift({xi.x===u.xe.xi.xo.gridSize,yi.y===u.ye.yi.yo.gridSize});d[r]&&d[r]!==r;){var a={xparseFloat(r.split(-)[0]),yparseFloat(r.split(-)[1]),idr},c=d[r],h={xparseFloat(c.split(-)[0]),yparseFloat(c.split(-)[1]),idc};m(h,a)&&n.unshift({xh.x===a.xn[0].xh.xo.gridSize,yh.y===a.yn[0].yh.yo.gridSize}),r=c}var f=parseFloat(r.split(-)[0]),l=parseFloat(r.split(-)[1]);return n[0].x=f===s.xt.xn[0].x,n[0].y=l===s.yt.yn[0].y,n.unshift(t),n}(r.id)};delete f[r.id],l[r.id]=!0;for(var c=0;co.directions.length;c++){var v=o.directions[c],y={xr.x+v.stepX,yr.y+v.stepY,idr.x+v.stepX+-+(r.y+v.stepY)};if(!l[y.id]){var x=m(r,y);if(!(xo.maxAllowedDirectionChangea[y.id])){f[y.id](f[y.id]=y);var w=o.distFunc(r,y)+(isNaN(o.penalties[x])o.gridSizeo.penalties[x]),M=p[r.id]+w;p[y.id]&&M=p[y.id](d[y.id]=r.id,p[y.id]=M,g[y.id]=M+Sa(y,h,o.distFunc))}}}b-=1};Object.keys(f).length0&&b0;){var w=x();if(object==typeof w)return w.value;if(break===w)break}return o.fallbackRoute(t,e,r,n,o)};Pr.registerEdge(polyline,{options{colorQ.defaultEdge.color,sizeQ.defaultEdge.size,style{radius0,offset15,x0,y0,strokeQ.defaultEdge.style.stroke,lineAppendWidthQ.defaultEdge.style.lineAppendWidth},labelCfg{style{fillQ.edgeLabel.style.fill,fontSizeQ.edgeLabel.style.fontSize}},routeCfg{obstacles[],maxAllowedDirectionChange90,maximumLoops1e3,gridSize10},stateStylesObject(k.__assign)({},Q.edgeStateStyles)},shapeTypepolyline,labelPositioncenter,drawShapefunction(t,e){var r=this.getShapeStyle(t);return 0===r.radius&&delete r.radius,e.addShape(path,{classNameedge-shape,nameedge-shape,attrsr})},getShapeStylefunction(t){var e=this.options.style,r={stroket.color},n=Object(ht.mix)({},e,r,t.style);t=this.getPathPoints(t),this.radius=n.radius,this.offset=n.offset;var i=t.startPoint,o=t.endPoint,a=this.getControlPoints(t),s=[i];a&&(s=s.concat(a)),s.push(o);var u=t.sourceNode,c=t.targetNode,h=n.radius,f=this.options.routeCfg;f.offset=n.offset;var l=this.getPath(s,u,c,h,f);return(Object(ht.isArray)(l)&&l.length=1Object(ht.isString)(l)&&-1===l.indexOf(L))&&(l=M0 0, L0 0),(isNaN(i.x)isNaN(i.y)isNaN(o.x)isNaN(o.y))&&(l=M0 0, L0 0),Object(ht.mix)({},Q.defaultEdge.style,n,{lineWidtht.size,pathl})},updateShapeStylefunction(t,e){var r=e.getContainer(),n={stroket.color},i=r.find((function(t){returnedge-shape===t.get(className)}))e.getKeyShape(),o=t.size,a=(t=this.getPathPoints(t)).startPoint,s=t.endPoint,u=this.getControlPoints(t),c=[a];u&&(c=c.concat(u)),c.push(s);var h=Object(ht.mix)({},n,i.attr(),t.style),f=t.sourceNode,l=t.targetNode,d=h.radius,p=this.options.routeCfg;p.offset=h.offset;var g=this.getPath(c,f,l,d,p);(Object(ht.isArray)(g)&&g.length=1Object(ht.isString)(g)&&-1===g.indexOf(L))&&(g=M0 0, L0 0),(isNaN(a.x)isNaN(a.y)isNaN(s.x)isNaN(s.y))&&(g=M0 0, L0 0);var v=Object(ht.mix)(n,i.attr(),{lineWidtho,pathg},t.style);i&&i.attr(v)},getPathfunction(t,e,r,n,i){var o;if(!i.offsett.length2){if(n)return ya(t,n);var a=[];return Object(ht.each)(t,(function(t,e){0===ea.push([M,t.x,t.y])a.push([L,t.x,t.y])})),a}return n(o=ka(t[0],t[t.length-1],e,r,i),ya(o,n))(o=ka(t[0],t[t.length-1],e,r,i),xe(o))}},single-edge);var Oa={collapsefunction(t,e,r){return[[M,t-r,e],[a,r,r,0,1,0,2r,0],[a,r,r,0,1,0,2-r,0],[M,t-r+4,e],[L,t+r-4,e]]},expandfunction(t,e,r){return[[M,t-r,e],[a,r,r,0,1,0,2r,0],[a,r,r,0,1,0,2-r,0],[M,t-r+4,e],[L,t-r+2r-4,e],[M,t-r+r,e-r+4],[L,t,e+r-4]]},upTrianglefunction(t,e,r){var n=rMath.cos(Math.PI6),i=rMath.sin(Math.PI6);return[[M,t-n,e+i],[L,t+n,e+i],[L,t,e-r],[Z]]},downTrianglefunction(t,e,r){var n=rMath.cos(Math.PI6),i=rMath.sin(Math.PI6);return[[M,t-n,e-i],[L,t+n,e-i],[L,t,e+r],[Z]]}},Ea=Pr,ja={mat3ze.mat3,mixBr.a,deepMixSt.a,transformze.transform},Ca=Object(k.__assign)(Object(k.__assign)(Object(k.__assign)(Object(k.__assign)(Object(k.__assign)(Object(k.__assign)({},ja),n),s),a),o),i),Aa=function(){function t(t){this._cfgs=St()(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}return t.prototype.getDefaultCfgs=function(){return{}},t.prototype.initPlugin=function(t){var e=this;e.set(graph,t);var r=e.getEvents(),n={};d()(r,(function(r,i){var o=Ue()(e,r);n[i]=o,t.on(i,o)})),this._events=n,this.init()},t.prototype.init=function(){},t.prototype.getEvents=function(){return{}},t.prototype.get=function(t){return this._cfgs[t]},t.prototype.set=function(t,e){this._cfgs[t]=e},t.prototype.destroy=function(){},t.prototype.destroyPlugin=function(){this.destroy();var t=this.get(graph),e=this._events;d()(e,(function(e,r){t.off(r,e)})),this._events=null,this._cfgs=null,this.destroyed=!0},t}(),Pa=url(dataimagesvg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=),Ia=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{imgPa}},e.prototype.init=function(){var t=this.get(graph),e=t.get(minZoom),r=t.get(container),n=t.get(canvas).get(el),i=t.get(width),o=t.get(height),a=this.get(img)Pa,s=mt()(div class='g6-grid-container' style=position absolute; left0;top0;right0;bottom0;overflow hidden;z-index -1;div),u=mt()(div n        class='g6-grid' n        style='positionabsolute;n        transform-origin 0% 0% 0px;n        background-image +a+;n        user-select nonen        'div);s.appendChild(u),vt()(s,{widthi+px,heighto+px,leftr.offsetLeft+px,topr.offsetTop+px}),vt()(u,{widthie+px,heightoe+px,left0px,top0px}),r.insertBefore(s,n),this.set(container,s),this.set(gridContainer,u)},e.prototype.getEvents=function(){return{viewportchangeupdateGrid}},e.prototype.updateGrid=function(t){var e=this.get(gridContainer),r=t.matrix;r(r=[1,0,0,0,1,0,0,0,1]);var n=matrix(+r[0]+, +r[1]+, +r[3]+, +r[4]+, 0, 0);vt()(e,{transformn})},e.prototype.getContainer=function(){return this.get(container)},e.prototype.destroy=function(){var t=this.get(graph).get(container),e=this.get(container);t.removeChild(e)},e}(Aa),Ta=r(56),Na=r.n(Ta);Na()(n  .g6-component-contextmenu {n    border 1px solid #e2e2e2;n    border-radius 4px;n    font-size 12px;n    color #545454;n    background-color rgba(255, 255, 255, 0.9);n    padding 10px 8px;n    box-shadow rgb(174, 174, 174) 0px 0px 10px;n  }n  .g6-contextmenu-ul {n    padding 0;n    margin 0;n    list-style none;n  }nn);var Da=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX6,offsetY6,handleMenuClickvoid 0,getContentfunction(t){returnn          ul class='g6-contextmenu-ul'n            li1lin            li2lin          uln        },shouldBeginfunction(t){return!0},onHidefunction(){return!0},itemTypes[node,edge,combo]}},e.prototype.getEvents=function(){return{contextmenuonMenuShow}},e.prototype.init=function(){var t=this.get(className),e=mt()(div class=+(tg6-component-contextmenu)+div);vt()(e,{top0px,positionabsolute,visibilityhidden});var r=this.get(container);r(r=this.get(graph).get(container)),r.appendChild(e),this.set(menu,e)},e.prototype.onMenuShow=function(t){var e=this;if((t.preventDefault(),t.stopPropagation(),t.item)&&this.get(shouldBegin)(t)){var r=this.get(itemTypes);if(t.item&&t.item.getType&&-1===r.indexOf(t.item.getType()))e.onMenuHide();else if(t.item){var n=this.get(menu),i=this.get(getContent),o=this.get(graph),a=i(t,o);_()(a)n.innerHTML=an.innerHTML=a.outerHTML,this.removeMenuEventListener();var s=this.get(handleMenuClick);if(s){var u=function(e){s(e.target,t.item,o)};this.set(handleMenuClickWrapper,u),n.addEventListener(click,u)}var c=o.get(width),h=o.get(height),f=n.getBoundingClientRect(),l=this.get(offsetX)0,d=this.get(offsetY)0,p=o.getContainer().offsetTop,g=o.getContainer().offsetLeft,v=t.canvasX+g+l,y=t.canvasY+p+d;v+f.widthc&&(v=t.canvasX-f.width-l+g),y+f.heighth&&(y=t.canvasY-f.height-d+p),vt()(n,{topy+px,leftv+px,visibilityvisible});var m=function(t){e.onMenuHide()};document.body.addEventListener(click,m),this.set(handler,m)}}},e.prototype.removeMenuEventListener=function(){var t=this.get(handleMenuClickWrapper),e=this.get(handler);t&&(this.get(menu).removeEventListener(click,t),this.set(handleMenuClickWrapper,null));e&&document.body.removeEventListener(click,e)},e.prototype.onMenuHide=function(){var t=this.get(menu);t&&vt()(t,{visibilityhidden}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get(menu);if(this.removeMenuEventListener(),t){var e=this.get(container);e(e=this.get(graph).get(container)),e.removeChild(t)}},e}(Aa),Ba=Math.max,Ra=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.handleUpdateCanvas=Object(ht.debounce)((function(t){var r=e;r.destroyedr.updateCanvas()}),100,!1),e}return Object(k.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{containernull,classNameg6-minimap,viewportClassNameg6-minimap-viewport,typedefault,padding50,size[200,120],delegateStyle{fill#40a9ff,stroke#096dd9},refresh!0}},e.prototype.getEvents=function(){return{beforepaintupdateViewport,beforeanimatedisableRefresh,afteranimateenableRefresh,viewportchangedisableOneRefresh}},e.prototype.disableRefresh=function(){this.set(refresh,!1)},e.prototype.enableRefresh=function(){this.set(refresh,!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set(viewportChange,!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.size,n=e.graph;if(!this.destroyed){var i=this.get(canvas).get(container),o=mt()(n      divn        class=+e.viewportClassName+n        style='positionabsolute;n          left0;n          top0;n          box-sizingborder-box;n          border 2px solid #1980ff'n        draggable=truen      div),a=0,s=0,u=!1,c=0,h=0,f=0,l=0,d=0,p=0;o.addEventListener(dragstart,(function(i){if(i.dataTransfer){var g=new Image;g.src=dataimagesvg+xml,%3Csvg xmlns='httpwww.w3.org2000svg' %3E%3Cpath %3E%3Csvg%3E,i.dataTransfer.setDragImage(g,0,0),i.dataTransfer.setData(text,view-port-minimap)}if(e.refresh=!1,i.target===o){var v=o.style;c=parseInt(v.left,10),h=parseInt(v.top,10),f=parseInt(v.width,10),l=parseInt(v.height,10),fr[0]lr[1](p=n.getZoom(),d=t.get(ratio),u=!0,a=i.clientX,s=i.clientY)}}),!1),o.addEventListener(drag,(function(t){if(u&&!x()(t.clientX)&&!x()(t.clientY)){var e=a-t.clientX,i=s-t.clientY;(c-e0c-e+f=r[0])&&(e=0),(h-i0h-i+l=r[1])&&(i=0),c-=e,h-=i,vt()(o,{leftc+px,toph+px}),n.translate(epd,ipd),a=t.clientX,s=t.clientY}}),!1),o.addEventListener(dragend,(function(){u=!1,e.refresh=!0}),!1),this.set(viewport,o),i.appendChild(o)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get(ratio),e=(this.get(dx),this.get(dy),this.get(totaldx)),r=this.get(totaldy),n=this.get(graph),i=this.get(size),o=n.get(width),a=n.get(height),s=n.getPointByCanvas(0,0),u=n.getPointByCanvas(o,a),c=this.get(viewport);cthis.initViewport();n.getZoom();var h=(u.x-s.x)t,f=(u.y-s.y)t,l=s.xt+e,d=s.yt+r,p=l+h,g=d+f;l0&&(h+=l,l=0),pi[0]&&(h-=p-i[0]),d0&&(f+=d,d=0),gi[1]&&(f-=g-i[1]),this.set(ratio,t);var v=l+px,y=d+px;vt()(c,{leftv,topy,widthh+px,heightf+px})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get(canvas),r=t.get(group);if(!r.destroyed){var n=r.clone();n.resetMatrix(),e.clear(),e.add(n),svg===t.get(renderer)&&this.updateVisible(n)}},e.prototype.updateVisible=function(t){var e=this;if(t.isGroup()t.get(visible)){var r=t.get(children);if(!r!r.length)return;r.forEach((function(t){t.get(visible)t.hide(),e.updateVisible(t)}))}else t.hide()},e.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;d()(e.getEdges(),(function(e){t.updateOneEdgeKeyShape(e)})),d()(e.getNodes(),(function(e){t.updateOneNodeKeyShape(e)})),this.clearDestroyedShapes()},e.prototype.updateOneNodeKeyShape=function(t){var e=this.get(canvas),r=e.get(children)[0]e.addGroup(),n=this.get(itemMap){},i=n[t.get(id)],o=t.getBBox(),a=t.get(keyShape).clone(),s=a.attr(),u={xo.centerX,yo.centerY};iu=Object.assign(s,u)(i=a,r.add(i));var c=i.get(type);rect!==c&&image!==c(u.x=o.minX,u.y=o.minY),i.attr(u),t.isVisible()i.hide(),i.exist=!0,n[t.get(id)]=i,this.set(itemMap,n)},e.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;d()(e.getEdges(),(function(e){t.updateOneEdgeKeyShape(e)})),d()(e.getNodes(),(function(e){t.updateOneNodeDelegateShape(e)})),this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get(itemMap){},e=Object.keys(t);if(e&&0!==e.length)for(var r=e.length-1;r=0;r--){var n=t[e[r]],i=n.exist;n.exist=!1,i(n.remove(),delete t[e[r]])}},e.prototype.updateOneEdgeKeyShape=function(t){var e=this.get(canvas),r=e.get(children)[0]e.addGroup(),n=this.get(itemMap){},i=n[t.get(id)];if(i){var o=t.get(keyShape).attr(path);i.attr(path,o)}else i=t.get(keyShape).clone(),r.add(i),i.toBack();t.isVisible()i.hide(),i.exist=!0,n[t.get(id)]=i,this.set(itemMap,n)},e.prototype.updateOneNodeDelegateShape=function(t){var e=this.get(canvas),r=e.get(children)[0]e.addGroup(),n=this.get(delegateStyle),i=this.get(itemMap){},o=i[t.get(id)],a=t.getBBox();if(o){var s={xa.minX,ya.minY,widtha.width,heighta.height};o.attr(s)}else o=r.addShape(rect,{attrsObject(k.__assign)({xa.minX,ya.minY,widtha.width,heighta.height},n),nameminimap-node-shape});t.isVisible()o.hide(),o.exist=!0,i[t.get(id)]=o,this.set(itemMap,i)},e.prototype.init=function(){this.initContainer(),this.get(graph).on(afterupdateitem,this.handleUpdateCanvas),this.get(graph).on(afteritemstatechange,this.handleUpdateCanvas),this.get(graph).on(afteradditem,this.handleUpdateCanvas),this.get(graph).on(afterremoveitem,this.handleUpdateCanvas),this.get(graph).on(afterrender,this.handleUpdateCanvas),this.get(graph).on(afterlayout,this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this.get(graph),e=this.get(size),r=this.get(className),n=this.get(container),i=mt()(div class='+r+' style='width +e[0]+px; height +e[1]+px; overflow hidden'div);_()(n)&&(n=document.getElementById(n)),nn.appendChild(i)t.get(container).appendChild(i),this.set(container,i);var o,a=mt()('div class=g6-minimap-container style=position relative;div');i.appendChild(a),o=svg===t.get(renderer)new Le.a({containera,widthe[0],heighte[1]})new Be.a({containera,widthe[0],heighte[1]}),this.set(canvas,o),this.updateCanvas()},e.prototype.updateCanvas=function(){if(this.get(refresh)){var t=this.get(graph);if(!t.get(destroyed)){this.get(viewportChange)&&(this.set(viewportChange,!1),this.updateViewport());var e=this.get(size),r=this.get(canvas),n=this.get(type),i=this.get(padding);if(!r.destroyed){switch(n){casedefaultthis.updateGraphShapes();break;casekeyShapethis.updateKeyShapes();break;casedelegatethis.updateDelegateShapes()}var o=r.get(children)[0];if(o){o.resetMatrix();var a=o.getCanvasBBox(),s=t.get(canvas).getBBox(),u=s.width,c=s.height;Number.isFinite(a.width)&&(u=Ba(a.width,u),c=Ba(a.height,c)),u+=2i,c+=2i;var h=Math.min(e[0]u,e[1]c),f=[1,0,0,0,1,0,0,0,1],l=0,d=0;Number.isFinite(a.minX)&&(l=-a.minX),Number.isFinite(a.minY)&&(d=-a.minY);var p=(e[0]-(u-2i)h)2,g=(e[1]-(c-2i)h)2;f=dt(f,[[t,l,d],[s,h,h],[t,p,g]]),o.setMatrix(f),this.set(ratio,h),this.set(totaldx,p+lh),this.set(totaldy,g+dh),this.set(dx,p),this.set(dy,g),this.updateViewport()}}}}},e.prototype.getCanvas=function(){return this.get(canvas)},e.prototype.getViewport=function(){return this.get(viewport)},e.prototype.getContainer=function(){return this.get(container)},e.prototype.destroy=function(){this.get(canvas).destroy();var t=this.get(container);t.parentNode.removeChild(t)},e}(Aa);function La(t,e,r){var n=t.x-e.x,i=t.y-e.y;return!rMath.abs(n)rMath.abs(i)rMath.sqrt(nn+ii)r}function za(t,e){var r=(e.source.y-e.target.y)(e.source.x-e.target.x),n=(rre.source.x+r(t.y-e.source.y)+t.x)(rr+1);return{xn,yr(n-e.source.x)+e.source.y}}var Fa=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{edgeBundles[],edgePoints[],K.1,lambda.1,divisions1,divRate2,cycles6,iterations90,iterRate.6666667,bundleThreshold.6,eps1e-6,onLayoutEndfunction(){},onTickfunction(){}}},e.prototype.init=function(){var t=this.get(graph),e=this.get(onTick);this.set(tick,(function(){e&&e(),t.refreshPositions()}))},e.prototype.bundling=function(t){var e=this;if(e.set(data,t),!e.isTicking()){var r=t.edges[],n=t.nodes[],i={},o=!1;if(n.forEach((function(t){null!==t.x&&null!==!t.y&&void 0!==t.x&&void 0!==!t.y(o=!0),i[t.id]=t})),o)throw new Error(please layout the graph or assign x and y for nodes first);e.set(nodeIdMap,i);var a=e.get(divisions),s=e.get(divRate),u=e.divideEdges(a);e.set(edgePoints,u);var c=e.getEdgeBundles();e.set(edgeBundles,c);for(var h=e.get(cycles),f=e.get(iterations),l=e.get(iterRate),d=e.get(lambda),p=0;ph;p++){for(var g=function(t){var n=[];r.forEach((function(t,r){if(t.source!==t.target){var o=i[t.source],s=i[t.target];n[r]=e.getEdgeForces({sourceo,targets},r,a,d);for(var c=0;ca+1;c++)u[r][c].x+=n[r][c].x,u[r][c].y+=n[r][c].y}}))},v=0;vf;v++)g();d=2,a=s,f=l,u=e.divideEdges(a),e.set(edgePoints,u)}r.forEach((function(t,e){t.source!==t.target&&(t.shape=polyline,t.type=polyline,t.controlPoints=u[e].slice(1,u[e].length-1))})),e.get(graph).refresh()}},e.prototype.updateBundling=function(t){var e=this,r=t.data;if(r&&e.set(data,r),e.get(ticking)&&e.set(ticking,!1),Object.keys(t).forEach((function(r){e.set(r,t[r])})),t.onTick){var n=this.get(graph);e.set(tick,(function(){t.onTick(),n.refresh()}))}e.bundling(r)},e.prototype.divideEdges=function(t){var e=this,r=e.get(data).edges,n=e.get(nodeIdMap),i=e.get(edgePoints);return i&&void 0!==i(i=[]),r.forEach((function(r,o){i[o]&&void 0!==i[o](i[o]=[]);var a=n[r.source],s=n[r.target];if(1===t)i[o].push({xa.x,ya.y}),i[o].push({x.5(a.x+s.x),y.5(a.y+s.y)}),i[o].push({xs.x,ys.y});else{var u=(i[o]&&i[o]!==[]e.getEdgeLength(i[o])La({xa.x,ya.y},{xs.x,ys.y}))(t+1),c=u,h=[{xa.x,ya.y}];i[o].forEach((function(t,e){if(0!==e){for(var r=La(t,i[o][e-1]);rc;){var n=cr,a={xi[o][e-1].x,yi[o][e-1].y};a.x+=n(t.x-i[o][e-1].x),a.y+=n(t.y-i[o][e-1].y),h.push(a),r-=c,c=u}c-=r}})),h.push({xs.x,ys.y}),i[o]=h}})),i},e.prototype.getEdgeLength=function(t){var e=0;return t.forEach((function(r,n){0!==n&&(e+=La(r,t[n-1]))})),e},e.prototype.getEdgeBundles=function(){var t=this,e=t.get(data).edges[],r=t.get(bundleThreshold),n=t.get(nodeIdMap),i=t.get(edgeBundles);return i(i=[]),e.forEach((function(t,e){i[e]&&void 0!==i[e](i[e]=[])})),e.forEach((function(o,a){var s=n[o.source],u=n[o.target];e.forEach((function(e,o){if(!(o=a)){var c=n[e.source],h=n[e.target];t.getBundleScore({sources,targetu},{sourcec,targeth})=r&&(i[a].push(o),i[o].push(a))}}))})),i},e.prototype.getBundleScore=function(t,e){return t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=La({xt.source.x,yt.source.y},{xt.target.x,yt.target.y}),e.length=La({xe.source.x,ye.source.y},{xe.target.x,ye.target.y}),this.getAngleScore(t,e)this.getScaleScore(t,e)this.getPositionScore(t,e)this.getVisibilityScore(t,e)},e.prototype.getAngleScore=function(t,e){return function(t,e){return t.xe.x+t.ye.y}({xt.vx,yt.vy},{xe.vx,ye.vy})(t.lengthe.length)},e.prototype.getScaleScore=function(t,e){var r=(t.length+e.length)2;return 2(rMath.min(t.length,e.length)+Math.max(t.length,e.length)r)},e.prototype.getPositionScore=function(t,e){var r=(t.length+e.length)2;return r(r+La({x(t.source.x+t.target.x)2,y(t.source.y+t.target.y)2},{x(e.source.x+e.target.x)2,y(e.source.y+e.target.y)2}))},e.prototype.getVisibilityScore=function(t,e){var r=this.getEdgeVisibility(t,e),n=this.getEdgeVisibility(e,t);return rnrn},e.prototype.getEdgeVisibility=function(t,e){var r=za(e.source,t),n=za(e.target,t),i={x(r.x+n.x)2,y(r.y+n.y)2},o={x(t.source.x+t.target.x)2,y(t.source.y+t.target.y)2};return Math.max(0,1-2La(i,o)La(r,n))},e.prototype.getEdgeForces=function(t,e,r,n){for(var i=this.get(edgePoints),o=this.get(K)(La(t.source,t.target)(r+1)),a=[{x0,y0}],s=1;sr;s++){var u={x0,y0},c=this.getSpringForce({prei[e][s-1],curi[e][s],nexti[e][s+1]},o),h=this.getElectrostaticForce(s,e);u.x=n(c.x+h.x),u.y=n(c.y+h.y),a.push(u)}return a.push({x0,y0}),a},e.prototype.getSpringForce=function(t,e){var r=t.pre.x+t.next.x-2t.cur.x,n=t.pre.y+t.next.y-2t.cur.y;return{xr=e,yn=e}},e.prototype.getElectrostaticForce=function(t,e){var r=this.get(eps),n=this.get(edgeBundles),i=this.get(edgePoints),o=n[e],a={x0,y0};return o.forEach((function(n){var o={xi[n][t].x-i[e][t].x,yi[n][t].y-i[e][t].y};if(Math.abs(o.x)rMath.abs(o.y)r){var s=1La(i[n][t],i[e][t]);a.x+=o.xs,a.y+=o.ys}})),a},e.prototype.isTicking=function(){return this.get(ticking)},e.prototype.getSimulation=function(){return this.get(forceSimulation)},e.prototype.destroy=function(){this.get(ticking)&&this.getSimulation().stop(),t.prototype.destroy.call(this)},e}(Aa),Ya={stroke#000,strokeOpacity.8,lineWidth2,fillOpacity.1,fill#ccc},Ga=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{triggermousemove,d1.5,r300,delegateStyleObject(p.clone)(Ya),showLabel!1,maxD5,minD0,scaleRByunset,scaleDByunset,showDPercent!0}},e.prototype.getEvents=function(){var t;switch(this.get(trigger)){caseclickt={clickmagnify};break;casedragt={clickcreateDelegate};break;defaultt={mousemovemagnify}}return t},e.prototype.init=function(){var t=this.get(r);this.set(cachedMagnifiedModels,[]),this.set(cachedOriginPositions,{}),this.set(r2,tt);var e=this.get(d);this.set(molecularParam,(e+1)t)},e.prototype.createDelegate=function(t){var e=this,r=this,n=r.get(delegate);n&&!n.destroyed(r.magnify(t),(n=r.get(delegate)).on(dragstart,(function(t){r.set(delegateCenterDiff,{xn.attr(x)-t.x,yn.attr(y)-t.y})})),n.on(drag,(function(t){r.magnify(t)})),wheel===this.get(scaleDBy)&&n.on(mousewheel,(function(t){e.scaleDByWheel(t)})),wheel===this.get(scaleRBy)&&n.on(mousewheel,(function(t){r.scaleRByWheel(t)})))},e.prototype.scaleRByWheel=function(t){if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var e,r=this.get(graph),n=this.get(delegate),i=(n{xn.attr(x),yn.attr(y)}void 0)r.getPointByClient(t.clientX,t.clientY);e=t.originalEvent.wheelDelta0.951.95;var o=this.get(maxR),a=this.get(minR),s=this.get(r);(s(or.get(height))&&e1s(a.05r.get(height))&&e1)&&(e=1),s=e,this.set(r,s),this.set(r2,ss);var u=this.get(d);this.set(molecularParam,(u+1)s),this.set(delegateCenterDiff,void 0),this.magnify(t,i)}},e.prototype.scaleRByDrag=function(t){if(t){var e,r=this.get(dragPrePos),n=this.get(graph),i=n.getPointByClient(t.clientX,t.clientY);e=t.x-r.x0.951.95;var o=this.get(maxR),a=this.get(minR),s=this.get(r);(s(on.get(height))&&e1s(a.05n.get(height))&&e1)&&(e=1),s=e,this.set(r,s),this.set(r2,ss);var u=this.get(d);this.set(molecularParam,(u+1)s),this.magnify(t,i),this.set(dragPrePos,{xt.x,yt.y})}},e.prototype.scaleDByWheel=function(t){if(tt.originalEvent){t.preventDefault&&t.preventDefault();var e=0;e=t.originalEvent.wheelDelta0-.1.1;var r=this.get(d)+e,n=this.get(maxD),i=this.get(minD);if(rn&&ri){this.set(d,r);var o=this.get(r);this.set(molecularParam,(r+1)o);var a=this.get(delegate),s=a{xa.attr(x),ya.attr(y)}void 0;this.set(delegateCenterDiff,void 0),this.magnify(t,s)}}},e.prototype.scaleDByDrag=function(t){var e=this.get(dragPrePos),r=t.x-e.x0.1-.1,n=this.get(d)+r,i=this.get(maxD),o=this.get(minD);if(ni&&no){this.set(d,n);var a=this.get(r);this.set(molecularParam,(n+1)a),this.magnify(t)}this.set(dragPrePos,{xt.x,yt.y})},e.prototype.magnify=function(t,e){this.restoreCache();var r=this.get(graph),n=this.get(cachedMagnifiedModels),i=this.get(cachedOriginPositions),o=this.get(showLabel),a=this.get(r),s=this.get(r2),u=this.get(d),c=this.get(molecularParam),h=r.getNodes(),f=h.length,l=e{xe.x,ye.y}{xt.x,yt.y};!this.get(dragging)mousemove!==this.get(trigger)&&click!==this.get(trigger)(l=this.get(cacheCenter));var d=this.get(delegateCenterDiff);d&&(l.x+=d.x,l.y+=d.y),this.updateDelegate(l,a);for(var p=0;pf;p++){var g=h[p].getModel(),v=g.x,y=g.y;if(!isNaN(v)&&!isNaN(y)){var m=(v-l.x)(v-l.x)+(y-l.y)(y-l.y);if(!isNaN(m)&&ms&&0!==m){var b=Math.sqrt(m),x=cb(ub+a),w=(v-l.x)b,M=(y-l.y)b;if(g.x=wx+l.x,g.y=Mx+l.y,i[g.id](i[g.id]={xv,yy,texts[]}),n.push(g),o&&2ba)for(var S=h[p].getContainer().getChildren(),_=S.length,k=0;k_;k++){var O=S[k];text===O.get(type)&&(i[g.id].texts.push({visibleO.get(visible),shapeO}),O.set(visible,!0))}}}}r.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this.get(cachedMagnifiedModels),e=this.get(cachedOriginPositions),r=t.length,n=0;nr;n++){var i=t[n],o=e[i.id];i.x=o.x,i.y=o.y;for(var a=o.texts.length,s=0;sa;s++){var u=o.texts[s];u.shape.set(visible,u.visible)}}this.set(cachedMagnifiedModels,[]),this.set(cachedOriginPositions,{})},e.prototype.updateParams=function(t){var e=t.r,r=t.d,n=t.trigger,i=t.minD,o=t.maxD,a=t.minR,s=t.maxR,u=t.scaleDBy,c=t.scaleRBy;isNaN(t.r)(this.set(r,e),this.set(r2,ee)),isNaN(r)this.set(d,r),isNaN(o)this.set(maxD,o),isNaN(i)this.set(minD,i),isNaN(s)this.set(maxR,s),isNaN(a)this.set(minR,a);var h,f=this.get(d),l=this.get(r);(this.set(molecularParam,(f+1)l),mousemove!==n&&click!==n&&drag!==nthis.set(trigger,n),drag===uwheel===uunset===u)&&(this.set(scaleDBy,u),this.get(delegate).remove(),this.get(delegate).destroy(),(h=this.get(dPercentText))&&(h.remove(),h.destroy()));drag!==c&&wheel!==c&&unset!==c(this.set(scaleRBy,c),this.get(delegate).remove(),this.get(delegate).destroy(),(h=this.get(dPercentText))&&(h.remove(),h.destroy()))},e.prototype.updateDelegate=function(t,e){var r=this,n=this,i=n.get(graph),o=n.get(delegate);if(!oo.destroyed){var a=i.get(group),s=n.get(delegateStyle)Ya;o=a.addShape(circle,{attrsObject(k.__assign)({re1.5,xt.x,yt.y},s),namelens-shape,draggable!0}),drag!==this.get(trigger)&&(wheel===this.get(scaleRBy)o.on(mousewheel,(function(t){n.scaleRByWheel(t)}))drag===this.get(scaleRBy)&&(o.on(dragstart,(function(t){n.set(dragging,!0),n.set(cacheCenter,{xt.x,yt.y}),n.set(dragPrePos,{xt.x,yt.y})})),o.on(drag,(function(t){n.scaleRByDrag(t)})),o.on(dragend,(function(t){n.set(dragging,!1)}))),wheel===this.get(scaleDBy)o.on(mousewheel,(function(t){r.scaleDByWheel(t)}))drag===this.get(scaleDBy)&&(o.on(dragstart,(function(t){n.set(dragging,!0),n.set(cacheCenter,{xt.x,yt.y}),n.set(dragPrePos,{xt.x,yt.y})})),o.on(drag,(function(t){r.scaleDByDrag(t)})),o.on(dragend,(function(t){n.set(dragging,!1)}))))}else o.attr({xt.x,yt.y,re1.5});if(n.get(showDPercent)){var u=Math.round((n.get(d)-n.get(minD))(n.get(maxD)-n.get(minD))100),c=n.get(dPercentText),h=t.y+e1.5+16;if(!cc.destroyed)c=(a=i.get(group)).addShape(text,{attrs{textu+%,xt.x,yh,fill#aaa,stroke#fff,lineWidth1,fontSize12}}),n.set(dPercentText,c);else c.attr({textu+%,xt.x,yh})}n.set(delegate,o)},e.prototype.clear=function(){var t=this.get(graph);this.restoreCache(),t.refreshPositions();var e=this.get(delegate);e&&!e.destroyed&&(e.remove(),e.destroy());var r=this.get(dPercentText);r&&!r.destroyed&&(r.remove(),r.destroy())},e.prototype.destroy=function(){this.clear()},e}(Aa);Na()(n  .g6-component-toolbar {n    position absolute;n    list-style-type none;n    padding 6px;n    left 0px;n    top 0px;n    background-color rgba(255, 255, 255, 0.9);n    border 1px solid #e2e2e2;n    border-radius 4px;n    font-size 12px;n    color #545454;n    margin 0;n  }n  .g6-component-toolbar li {n    float left;n    text-align center;n    width 35px;n    height 24px;n    cursor pointer;nttlist-style-typenone;n    list-style none;n    margin-left 0px;n  }n  .g6-component-toolbar li .icon {n    opacity 0.7;n  }n  .g6-component-toolbar li .iconhover {n    opacity 1;n  }n);var qa=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{handleClickvoid 0,getContentfunction(t){return'n          ul class='g6-component-toolbar'n            li code='redo'n              svg class=icon viewBox=0 0 1024 1024 version=1.1 xmlns=httpwww.w3.org2000svg width=24 height=24n                path d=M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z fill= p-id=2041pathn              svgn            lin            li code='undo'n              svg class=icon viewBox=0 0 1024 1024 version=1.1 xmlns=httpwww.w3.org2000svg width=24 height=24n                path d=M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z fill= p-id=2764pathn              svgn            lin            li  code='zoomOut'n              svg class=icon viewBox=0 0 1024 1024 version=1.1 xmlns=httpwww.w3.org2000svg width=24 height=24n                path d=M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432zpathn              svgn            lin            li code='zoomIn'n              svg class=icon viewBox=0 0 1024 1024 version=1.1 xmlns=httpwww.w3.org2000svg width=24 height=24n                path d=M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z p-id=3853pathn              svgn            lin            li code='realZoom'n              svg class=icon viewBox=0 0 1024 1024 version=1.1 xmlns=httpwww.w3.org2000svg width=20 height=24n                path d=M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256zpathn              svgn            lin            li code='autoZoom'n              svg class=icon viewBox=0 0 1024 1024 version=1.1 xmlns=httpwww.w3.org2000svg width=20 height=24n                path d=M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08zpathn              svgn            lin          uln        '}}},e.prototype.init=function(){var t=this,e=this.get(graph),r=this.get(getContent)(e),n=r;Object(p.isString)(r)&&(n=mt()(r));var i=this.get(className);n.setAttribute(class,ig6-component-toolbar);var o=this.get(container);o(o=this.get(graph).get(container)),o.appendChild(n),this.set(toolBar,n);var a=this.get(handleClick);n.addEventListener(click,(function(r){var n=r.path.filter((function(t){returnLI===t.nodeName}));if(0!==n.length){var i=n[0].getAttribute(code);i&&(aa(i,e)t.handleDefaultOperator(i,e))}}));var s=this.get(position);s&&vt()(n,{tops.y+px,lefts.x+px}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get(graph),e=document.querySelector('.g6-component-toolbar li[code=undo]'),r=document.querySelector('.g6-component-toolbar li[code=undo] svg'),n=document.querySelector('.g6-component-toolbar li[code=redo]'),i=document.querySelector('.g6-component-toolbar li[code=redo] svg');e&&r&&n&&i&&t.on(stackchange,(function(t){var o=t.undoStack,a=t.redoStack,s=o.length,u=a.length;1===s(e.setAttribute(style,cursor not-allowed),r.setAttribute(style,opacity 0.4))(e.removeAttribute(style),r.removeAttribute(style)),0===u(n.setAttribute(style,cursor not-allowed),i.setAttribute(style,opacity 0.4))(n.removeAttribute(style),i.removeAttribute(style))}))},e.prototype.undo=function(){var t=this.get(graph),e=t.getUndoStack();if(e&&0!==e.length){var r=e.pop();if(r){var n=r.action;t.pushStack(n,Object(p.clone)(r.data),redo);var i=r.data.before;if(add===n&&(i=r.data.after),!i)return;switch(n){casevisibleObject.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){var r=t.findById(e.id);e.visiblet.showItem(r,!1)t.hideItem(r,!1)}))}));break;caserendercaseupdateObject.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){t.updateItem(e.id,e,!1)}))}));break;casechangedatat.changeData(i,!1);break;casedeleteObject.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){var r=e.itemType;delete e.itemType,t.addItem(r,e,!1)}))}));break;caseaddObject.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){t.removeItem(e.id,!1)}))}))}}}},e.prototype.redo=function(){var t=this.get(graph),e=t.getRedoStack();if(e&&0!==e.length){var r=e.pop();if(r){var n=r.action,i=r.data.after;if(t.pushStack(n,Object(p.clone)(r.data)),delete===n&&(i=r.data.before),!i)return;switch(n){casevisibleObject.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){var r=t.findById(e.id);e.visiblet.showItem(r,!1)t.hideItem(r,!1)}))}));break;caserendercaseupdateObject.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){t.updateItem(e.id,e,!1)}))}));break;casechangedatat.changeData(i,!1);break;casedeletei.edges&&i.edges.forEach((function(e){t.removeItem(e.id,!1)})),i.nodes&&i.nodes.forEach((function(e){t.removeItem(e.id,!1)})),i.combos&&i.combos.forEach((function(e){t.removeItem(e.id,!1)}));break;caseaddObject.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){var r=e.itemType;delete e.itemType,t.addItem(r,e,!1)}))}))}}}},e.prototype.handleDefaultOperator=function(t,e){var r=e.getZoom();switch(t){caseredothis.redo();break;caseundothis.undo();break;casezoomOutif(1.25r5)return;e.zoomTo(1.1r);break;casezoomInif(.75r.3)return;e.zoomTo(.9r);break;caserealZoome.zoomTo(1);break;caseautoZoome.fitView([20,20])}},e.prototype.destroy=function(){var t=this.get(toolBar);if(t){var e=this.get(container);e(e=this.get(graph).get(container)),e.removeChild(t)}var r=this.get(handleClick);r&&t.removeEventListener(click,r)},e}(Aa);Na()(n  .g6-component-tooltip {n    border 1px solid #e2e2e2;n    border-radius 4px;n    font-size 12px;n    color #545454;n    background-color rgba(255, 255, 255, 0.9);n    padding 10px 8px;n    box-shadow rgb(174, 174, 174) 0px 0px 10px;n  }n  .tooltip-type {n    padding 0;n    margin 0;n  }n  .tooltip-id {n    color #531dab;n  }n);var Xa=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX6,offsetY6,getContentfunction(t){returnn          h4 class='tooltip-type'+t.item.getType()+h4n          span class='tooltip-id'ID+t.item.getID()+spann        },shouldBeginfunction(t){return!0},itemTypes[node,edge,combo]}},e.prototype.getEvents=function(){return{nodemouseenteronMouseEnter,nodemouseleaveonMouseLeave,nodemousemoveonMouseMove,edgemouseenteronMouseEnter,edgemouseleaveonMouseLeave,edgemousemoveonMouseMove,afterremoveitemonMouseLeave,contextmenuonMouseLeave,nodedragonMouseLeave}},e.prototype.init=function(){var t=this.get(className)g6-component-tooltip,e=mt()(div class=+t+div),r=this.get(container);r(r=this.get(graph).get(container)),vt()(e,{positionabsolute,visibilityhidden}),r.appendChild(e),this.set(tooltip,e)},e.prototype.onMouseEnter=function(t){var e=this.get(itemTypes);if(!t.item!t.item.getType-1!==e.indexOf(t.item.getType())){var r=t.item,n=this.get(graph);this.currentTarget=r,this.showTooltip(t),n.emit(tooltipchange,{itemt.item,actionshow})}},e.prototype.onMouseMove=function(t){var e=this.get(itemTypes);t.item&&t.item.getType&&-1===e.indexOf(t.item.getType())this.currentTarget&&t.item===this.currentTarget&&this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip(),this.get(graph).emit(tooltipchange,{itemthis.currentTarget,actionhide}),this.currentTarget=null},e.prototype.showTooltip=function(t){if(t.item){var e=this.get(itemTypes);if(!t.item.getType-1!==e.indexOf(t.item.getType())){var r=this.get(tooltip),n=this.get(getContent)(t);_()(n)r.innerHTML=nr.innerHTML=n.outerHTML,this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get(tooltip);t&&vt()(t,{visibilityhidden})},e.prototype.updatePosition=function(t){var e=this.get(shouldBegin),r=this.get(tooltip);if(e(t)){var n=this.get(graph),i=n.get(width),o=n.get(height),a=this.get(offsetX)0,s=this.get(offsetY)0,u=n.getPointByClient(t.clientX,t.clientY),c=n.getCanvasByPoint(u.x,u.y),h=c.x,f=c.y;h+=a,f+=s;var l=r.getBoundingClientRect();h+l.widthi&&(h=h-l.width-a),f+l.heighto&&(f=f-l.height-s),vt()(r,{lefth+px,topf+px,visibilityvisible})}else vt()(r,{visibilityhidden})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get(tooltip);if(t){var e=this.get(container);e(e=this.get(graph).get(container)),e.removeChild(t)}},e}(Aa),Va={};function Ha(t,e){Va[t]=e}var Ua=function(){function t(t){this.type=base,this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){Object(ht.assign)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return Object(ht.map)(this.ticks,(function(e,r){return Object(ht.isObject)(e)e{textt.getText(e,r),tickValuee,valuet.scale(e)}}))},t.prototype.getText=function(t,e){var r=this.formatter,n=rr(t,e)t;return Object(ht.isNil)(n)!Object(ht.isFunction)(n.toString)n.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){Object(ht.assign)(this,this.__cfg__),this.setDomain(),Object(ht.isEmpty)(this.getConfig(ticks))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(ht.isString)(t)){var r=Va[t];if(!r)throw new Error(There is no method to to calculate ticks!);e=r(this)}else Object(ht.isFunction)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return Object(ht.head)(this.range)},t.prototype.rangeMax=function(){return Object(ht.last)(this.range)},t.prototype.calcPercent=function(t,e,r){return Object(ht.isNumber)(t)(t-e)(r-e)NaN},t.prototype.calcValue=function(t,e,r){return e+t(r-e)},t}(),Wa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=cat,e.isCategory=!0,e}return Object(k.__extends)(e,t),e.prototype.translate=function(t){var e=Object(ht.indexOf)(this.values,t);return-1===eObject(ht.isNumber)(t)tNaNe},e.prototype.scale=function(t){var e=this.translate(t),r=this.calcPercent(e,this.min,this.max);return this.calcValue(r,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,r=this.calcPercent(t,this.rangeMin(),this.rangeMax()),n=Math.round(er)+this.min;return nthis.minnthis.maxNaNthis.values[n]},e.prototype.getText=function(e){for(var r=[],n=1;narguments.length;n++)r[n-1]=arguments[n];var i=e;return Object(ht.isNumber)(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,Object(k.__spreadArrays)([i],r))},e.prototype.initCfg=function(){this.tickMethod=cat},e.prototype.setDomain=function(){if(Object(ht.isNil)(this.getConfig(min))&&(this.min=0),Object(ht.isNil)(this.getConfig(max))){var t=this.values.length;this.max=t1t-1t}},e}(Ua),Za=d{1,4}M{1,4}YY(YY)S{1,3}DoZZZ([HhMsDm])1[aA][^]'[^']'g,$a=[^s]+,Ka=[([^])]gm;function Qa(t,e){for(var r=[],n=0,i=t.length;ni;n++)r.push(t[n].substr(0,e));return r}var Ja=function(t){return function(e,r){var n=r[t].map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase());return n-1nnull}};function ts(t){for(var e=[],r=1;rarguments.length;r++)e[r-1]=arguments[r];for(var n=0,i=e;ni.length;n++){var o=i[n];for(var a in o)t[a]=o[a]}return t}var es=[Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday],rs=[January,February,March,April,May,June,July,August,September,October,November,December],ns=Qa(rs,3),is={dayNamesShortQa(es,3),dayNameses,monthNamesShortns,monthNamesrs,amPm[am,pm],DoFnfunction(t){return t+[th,st,nd,rd][t%1030(t-t%10!=1010)t%10]}},os=ts({},is),as=function(t){return os=ts(os,t)},ss=function(t){return t.replace([{()[^$+.-]g,$&)},us=function(t,e){for(void 0===e&&(e=2),t=String(t);t.lengthe;)t=0+t;return t},cs={Dfunction(t){return String(t.getDate())},DDfunction(t){return us(t.getDate())},Dofunction(t,e){return e.DoFn(t.getDate())},dfunction(t){return String(t.getDay())},ddfunction(t){return us(t.getDay())},dddfunction(t,e){return e.dayNamesShort[t.getDay()]},ddddfunction(t,e){return e.dayNames[t.getDay()]},Mfunction(t){return String(t.getMonth()+1)},MMfunction(t){return us(t.getMonth()+1)},MMMfunction(t,e){return e.monthNamesShort[t.getMonth()]},MMMMfunction(t,e){return e.monthNames[t.getMonth()]},YYfunction(t){return us(String(t.getFullYear()),4).substr(2)},YYYYfunction(t){return us(t.getFullYear(),4)},hfunction(t){return String(t.getHours()%1212)},hhfunction(t){return us(t.getHours()%1212)},Hfunction(t){return String(t.getHours())},HHfunction(t){return us(t.getHours())},mfunction(t){return String(t.getMinutes())},mmfunction(t){return us(t.getMinutes())},sfunction(t){return String(t.getSeconds())},ssfunction(t){return us(t.getSeconds())},Sfunction(t){return String(Math.round(t.getMilliseconds()100))},SSfunction(t){return us(Math.round(t.getMilliseconds()10),2)},SSSfunction(t){return us(t.getMilliseconds(),3)},afunction(t,e){return t.getHours()12e.amPm[0]e.amPm[1]},Afunction(t,e){return t.getHours()12e.amPm[0].toUpperCase()e.amPm[1].toUpperCase()},ZZfunction(t){var e=t.getTimezoneOffset();return(e0-+)+us(100Math.floor(Math.abs(e)60)+Math.abs(e)%60,4)},Zfunction(t){var e=t.getTimezoneOffset();return(e0-+)+us(Math.floor(Math.abs(e)60),2)++us(Math.abs(e)%60,2)}},hs=function(t){return+t-1},fs=[null,[1-9]d],ls=[null,$a],ds=[isPm,$a,function(t,e){var r=t.toLowerCase();return r===e.amPm[0]0r===e.amPm[1]1null}],ps=[timezoneOffset,[^s][+-]dddd[^s]Z,function(t){var e=(t+).match(([+-]dd)gi);if(e){var r=60+e[1]+parseInt(e[2],10);return+===e[0]r-r}return 0}],gs={D[day,[1-9]d],DD[day,dd],Do[day,[1-9]d+$a,function(t){return parseInt(t,10)}],M[month,[1-9]d,hs],MM[month,dd,hs],YY[year,dd,function(t){var e=+(+(new Date).getFullYear()).substr(0,2);return+(+(+t68e-1e)+t)}],h[hour,[1-9]d,void 0,isPm],hh[hour,dd,void 0,isPm],H[hour,[1-9]d],HH[hour,dd],m[minute,[1-9]d],mm[minute,dd],s[second,[1-9]d],ss[second,dd],YYYY[year,d{4}],S[millisecond,d,function(t){return 100+t}],SS[millisecond,dd,function(t){return 10+t}],SSS[millisecond,d{3}],dfs,ddfs,dddls,ddddls,MMM[month,$a,Ja(monthNamesShort)],MMMM[month,$a,Ja(monthNames)],ads,Ads,ZZps,Zps},vs={defaultddd MMM DD YYYY HHmmss,shortDateMDYY,mediumDateMMM D, YYYY,longDateMMMM D, YYYY,fullDatedddd, MMMM D, YYYY,isoDateYYYY-MM-DD,isoDateTimeYYYY-MM-DDTHHmmssZ,shortTimeHHmm,mediumTimeHHmmss,longTimeHHmmss.SSS},ys=function(t){return ts(vs,t)},ms=function(t,e,r){if(void 0===e&&(e=vs.default),void 0===r&&(r={}),number==typeof t&&(t=new Date(t)),[object Date]!==Object.prototype.toString.call(t)isNaN(t.getTime()))throw new Error(Invalid Date pass to format);var n=[];e=(e=vs[e]e).replace(Ka,(function(t,e){return n.push(e),@@@}));var i=ts(ts({},os),r);return(e=e.replace(Za,(function(e){return cs[e](t,i)}))).replace(@@@g,(function(){return n.shift()}))};function bs(t,e,r){if(void 0===r&&(r={}),string!=typeof e)throw new Error(Invalid format in fecha parse);if(e=vs[e]e,t.length1e3)return null;var n={year(new Date).getFullYear(),month0,day1,hour0,minute0,second0,millisecond0,isPmnull,timezoneOffsetnull},i=[],o=[],a=e.replace(Ka,(function(t,e){return o.push(ss(e)),@@@})),s={},u={};a=ss(a).replace(Za,(function(t){var e=gs[t],r=e[0],n=e[1],o=e[3];if(s[r])throw new Error(Invalid format. +r+ specified twice in format);return s[r]=!0,o&&(u[o]=!0),i.push(e),(+n+)})),Object.keys(u).forEach((function(t){if(!s[t])throw new Error(Invalid format. +t+ is required in specified format)})),a=a.replace(@@@g,(function(){return o.shift()}));var c=t.match(new RegExp(a,i));if(!c)return null;for(var h=ts(ts({},os),r),f=1;fc.length;f++){var l=i[f-1],d=l[0],p=l[2],g=pp(c[f],h)+c[f];if(null==g)return null;n[d]=g}1===n.isPm&&null!=n.hour&&12!=+n.hourn.hour=+n.hour+120===n.isPm&&12==+n.hour&&(n.hour=0);for(var v=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond),y=[[month,getMonth],[day,getDate],[hour,getHours],[minute,getMinutes],[second,getSeconds]],m=(f=0,y.length);fm;f++)if(s[y[f][0]]&&n[y[f][0]]!==v[y[f][1]]())return null;return null==n.timezoneOffsetvnew Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute-n.timezoneOffset,n.second,n.millisecond))}var xs={formatms,parsebs,defaultI18nis,setGlobalDateI18nas,setGlobalDateMasksys};function ws(t,e){return(u.formatxs.format)(t,e)}function Ms(t){return Object(ht.isString)(t)&&(t=t.indexOf(T)0new Date(t).getTime()new Date(t.replace(-gi,)).getTime()),Object(ht.isDate)(t)&&(t=t.getTime()),t}var Ss=36e5,_s=24Ss,ks=31_s,Os=[[HHmmss,1e3],[HHmmss,1e4],[HHmmss,3e4],[HHmm,6e4],[HHmm,6e5],[HHmm,18e5],[HH,Ss],[HH,6Ss],[HH,12Ss],[YYYY-MM-DD,_s],[YYYY-MM-DD,4_s],[YYYY-WW,7_s],[YYYY-MM,ks],[YYYY-MM,4ks],[YYYY-MM,6ks],[YYYY,380_s]];function Es(t,e,r){var n,i=(n=function(t){return t[1]},function(t,e,r,i){for(var o=Object(ht.isNil)(r)0r,a=Object(ht.isNil)(i)t.lengthi;oa;){var s=o+a1;n(t[s])ea=so=s+1}return o})(Os,(e-t)r)-1,o=Os[i];return i0o=Os[0]i=Os.length&&(o=Object(ht.last)(Os)),o}var js=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=timeCat,e}return Object(k.__extends)(e,t),e.prototype.translate=function(t){t=Ms(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(ht.isNumber)(t)&&tthis.values.lengthtNaN),e},e.prototype.getText=function(t,e){var r=this.translate(t);if(r-1){var n=this.values[r],i=this.formatter;return n=ii(n,e)ws(n,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod=time-cat,this.mask=YYYY-MM-DD,this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;Object(ht.each)(e,(function(t,r){e[r]=Ms(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(Wa),Cs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.isContinuous=!0,e}return Object(k.__extends)(e,t),e.prototype.scale=function(t){if(Object(ht.isNil)(t))return NaN;var e=this.rangeMin(),r=this.rangeMax();return this.max===this.minee+this.getScalePercent(t)(r-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,r=Object(ht.head)(e),n=Object(ht.last)(e);rthis.min&&(this.min=r),nthis.max&&(this.max=n),Object(ht.isNil)(this.minLimit)(this.min=r),Object(ht.isNil)(this.maxLimit)(this.max=n)},e.prototype.setDomain=function(){var t=Object(ht.getRange)(this.values),e=t.min,r=t.max;Object(ht.isNil)(this.min)&&(this.min=e),Object(ht.isNil)(this.max)&&(this.max=r),this.minthis.max&&(this.min=e,this.max=r)},e.prototype.calculateTicks=function(){var e=this,r=t.prototype.calculateTicks.call(this);return this.nice(r=Object(ht.filter)(r,(function(t){return t=e.min&&t=e.max}))),r},e.prototype.getScalePercent=function(t){var e=this.max,r=this.min;return(t-r)(e-r)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())(this.rangeMax()-this.rangeMin())},e}(Ua),As=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=linear,e.isLinear=!0,e}return Object(k.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod=wilkinson-extended,this.nice=!1},e}(Cs);function Ps(t,e){var r=Math.E;return e=0Math.pow(r,Math.log(e)t)-1Math.pow(r,Math.log(-e)t)}function Is(t,e){return 1===t1Math.log(e)Math.log(t)}function Ts(t,e,r){Object(ht.isNil)(r)&&(r=Math.max.apply(null,t));var n=r;return Object(ht.each)(t,(function(t){t0&&tn&&(n=t)})),n===r&&(n=re),n1&&(n=1),n}var Ns=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=log,e}return Object(k.__extends)(e,t),e.prototype.invert=function(t){var e,r=this.base,n=Is(r,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===t)return 0;var s=1(n-(e=Is(r,ar)))o;if(ts)return tsa}else e=Is(r,this.min);var u=(t-i)o(n-e)+e;return Math.pow(r,u)},e.prototype.initCfg=function(){this.tickMethod=log,this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e0)throw new Error(When you use log scale, the minimum value must be greater than zero!);0===e&&(this.positiveMin=Ts(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,r=this.min;if(e===r)return 0;if(t=0)return 0;var n=this.base,i=this.positiveMin;return i&&(r=1in),titi(Is(n,e)-Is(n,r))(Is(n,t)-Is(n,r))(Is(n,e)-Is(n,r))},e}(Cs),Ds=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=pow,e}return Object(k.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),r=this.exponent,n=Ps(r,this.max),i=Ps(r,this.min),o=e(n-i)+i,a=o=01-1;return Math.pow(o,r)a},e.prototype.initCfg=function(){this.tickMethod=pow,this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,r=this.min;if(e===r)return 0;var n=this.exponent;return(Ps(n,t)-Ps(n,r))(Ps(n,e)-Ps(n,r))},e}(Cs),Bs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=time,e}return Object(k.__extends)(e,t),e.prototype.getText=function(t,e){var r=this.translate(t),n=this.formatter;return nn(r,e)ws(r,this.mask)},e.prototype.scale=function(e){var r=e;return(Object(ht.isString)(r)Object(ht.isDate)(r))&&(r=this.translate(r)),t.prototype.scale.call(this,r)},e.prototype.translate=function(t){return Ms(t)},e.prototype.initCfg=function(){this.tickMethod=time-pretty,this.mask=YYYY-MM-DD,this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig(min),r=this.getConfig(max);if(Object(ht.isNil)(e)&&Object(ht.isNumber)(e)(this.min=this.translate(this.min)),Object(ht.isNil)(r)&&Object(ht.isNumber)(r)(this.max=this.translate(this.max)),t&&t.length){var n=[],i=10,o=i,a=0;Object(ht.each)(t,(function(t){var e=Ms(t);if(isNaN(e))throw new TypeError(Invalid Time +t+ in time scale!);ie(o=i,i=e)oe&&(o=e),ae&&(a=e),n.push(e)})),t.length1&&(this.minTickInterval=o-i),Object(ht.isNil)(e)&&(this.min=i),Object(ht.isNil)(r)&&(this.max=a)}},e}(As),Rs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=quantize,e}return Object(k.__extends)(e,t),e.prototype.invert=function(t){var e=this.ticks,r=e.length,n=this.getInvertPercent(t),i=Math.floor(n(r-1));if(i=r-1)return Object(ht.last)(e);if(i0)return Object(ht.head)(e);var o=e[i],a=i(r-1);return o+(n-a)((i+1)(r-1)-a)(e[i+1]-o)},e.prototype.initCfg=function(){this.tickMethod=r-pretty,this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice(Object(ht.last)(e)!==this.max&&e.push(this.max),Object(ht.head)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(tObject(ht.head)(e))return 0;if(tObject(ht.last)(e))return 1;var r=0;return Object(ht.each)(e,(function(e,n){if(!(t=e))return!1;r=n})),r(e.length-1)},e}(Cs),Ls=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=quantile,e}return Object(k.__extends)(e,t),e.prototype.initCfg=function(){this.tickMethod=quantile,this.tickCount=5,this.nice=!0},e}(Rs),zs={};function Fs(t,e){if(function(t){return zs[t]}(t))throw new Error(type '+t+' existed.);zs[t]=e}var Ys=function(t){function e(){var e=null!==t&&t.apply(this,arguments)this;return e.type=identity,e.isIdentity=!0,e}return Object(k.__extends)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&Object(ht.isNumber)(t)tthis.range[0]},e.prototype.invert=function(t){var e=this.range;return te[0]te[1]NaNthis.values[0]},e}(Ua),Gs=[1,5,2,2.5,4,3],qs=100Number.EPSILON;function Xs(t,e,r,n,i,o){var a=Object(ht.size)(e),s=Object(ht.indexOf)(e,t),u=0,c=function(t,e){return(t%e+e)%e}(n,o);return(cqso-cqs)&&n=0&&i=0&&(u=1),1-s(a-1)-r+u}function Vs(t,e,r){var n=Object(ht.size)(e);return 1-Object(ht.indexOf)(e,t)(n-1)-r+1}function Hs(t,e,r,n,i,o){var a=(t-1)(o-i),s=(e-1)(Math.max(o,n)-Math.min(r,i));return 2-Math.max(as,sa)}function Us(t,e){return t=e2-(t-1)(e-1)1}function Ws(t,e,r,n){var i=e-t;return 1-.5(Math.pow(e-n,2)+Math.pow(t-r,2))Math.pow(.1i,2)}function Zs(t,e,r){var n=e-t;if(rn){var i=(r-n)2;return 1-Math.pow(i,2)Math.pow(.1n,2)}return 1}function $s(t,e,r,n,i,o){if(void 0===r&&(r=5),void 0===n&&(n=!0),void 0===i&&(i=Gs),void 0===o&&(o=[.25,.2,.5,.05]),number!=typeof tnumber!=typeof e)return{min0,max0,ticks[]};if(t===e1===r)return{mint,maxe,ticks[t]};for(var a={score-2,lmin0,lmax0,lstep0},s=1;s10;){for(var u=0,c=i;uc.length;u++){var h=c[u],f=Vs(h,i,s);if(Number.isNaN(f))throw new Error(NaN);if(o[0]f+o[1]+o[2]+o[3]a.score){s=10;break}for(var l=2;l10;){var d=Us(l,r);if(o[0]f+o[1]+o[2]d+o[3]a.score)break;for(var p=(e-t)(l+1)sh,g=Math.ceil(Math.log10(p));g10;){var v=shMath.pow(10,g),y=Zs(t,e,v(l-1));if(o[0]f+o[1]y+o[2]d+o[3]a.score)break;var m=Math.floor(ev)s-(l-1)s,b=Math.ceil(tv)s;if(mb)g+=1;else{for(var x=m;x=b;x+=1){var w=x(vs),M=w+v(l-1),S=v,_=Xs(h,i,s,w,M,S),k=Ws(t,e,w,M),O=Hs(l,r,t,e,w,M),E=o[0]_+o[1]k+o[2]O+1o[3];Ea.score&&(!nw=t&&M=e)&&(a.lmin=w,a.lmax=M,a.lstep=S,a.score=E)}g+=1}}l+=1}}s+=1}for(var j=Number.isInteger(a.lstep)0Math.ceil(Math.abs(Math.log10(a.lstep))),C=[],A=a.lmin;A=a.lmax;A+=a.lstep)C.push(A);var P=jObject(ht.map)(C,(function(t){return Number.parseFloat(t.toFixed(j))}))C;return{minMath.min(t,Object(ht.head)(P)),maxMath.max(e,Object(ht.last)(P)),ticksP}}function Ks(t){var e=t.values,r=t.tickInterval,n=t.tickCount,i=e;if(Object(ht.isNumber)(r))return Object(ht.filter)(i,(function(t,e){return e%r==0}));var o=t.min,a=t.max;if(Object(ht.isNil)(o)&&(o=0),Object(ht.isNil)(a)&&(a=e.length-1),Object(ht.isNumber)(n)&&na-o){var s=$s(o,a,n,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(ht.filter)(s,(function(t){return t=o&&t=a})).map((function(t){return e[t]}))}return e.slice(o,a+1)}var Qs=Math.sqrt(50),Js=Math.sqrt(10),tu=Math.sqrt(2),eu=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t(this._domain=Array.from(t,Number),this)this._domain.slice()},t.prototype.nice=function(t){var e,r;void 0===t&&(t=5);var n,i=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],u=this._domain[a];return us&&(s=(e=[u,s])[0],u=e[1],o=(r=[a,o])[0],a=r[1]),(n=ru(s,u,t))0n=ru(s=Math.floor(sn)n,u=Math.ceil(un)n,t)n0&&(n=ru(s=Math.ceil(sn)n,u=Math.floor(un)n,t)),n0(i[o]=Math.floor(sn)n,i[a]=Math.ceil(un)n,this.domain(i))n0&&(i[o]=Math.ceil(sn)n,i[a]=Math.floor(un)n,this.domain(i)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,r){var n,i,o,a,s=-1;if(r=+r,(t=+t)===(e=+e)&&r0)return[t];(n=et)&&(i=t,t=e,e=i);if(0===(a=ru(t,e,r))!isFinite(a))return[];if(a0)for(t=Math.ceil(ta),e=Math.floor(ea),o=new Array(i=Math.ceil(e-t+1));++si;)o[s]=(t+s)a;else for(t=Math.floor(ta),e=Math.ceil(ea),o=new Array(i=Math.ceil(t-e+1));++si;)o[s]=(t-s)a;n&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],t5)},t}();function ru(t,e,r){var n=(e-t)Math.max(0,r),i=Math.floor(Math.log(n)Math.LN10),o=nMath.pow(10,i);return i=0(o=Qs10o=Js5o=tu21)Math.pow(10,i)-Math.pow(10,-i)(o=Qs10o=Js5o=tu21)}function nu(t,e,r){return(ceil===rMath.ceil(te)floor===rMath.floor(te)Math.round(te))e}function iu(t,e,r){var n=nu(t,r,floor),i=nu(e,r,ceil);n=Object(ht.fixedBase)(n,r),i=Object(ht.fixedBase)(i,r);for(var o=[],a=n;a=i;a+=r){var s=Object(ht.fixedBase)(a,r);o.push(s)}return{minn,maxi,tickso}}function ou(t,e,r){var n,i=t.minLimit,o=t.maxLimit,a=t.min,s=t.max,u=t.tickCount,c=void 0===u5u,h=Object(ht.isNil)(i)Object(ht.isNil)(e)aei,f=Object(ht.isNil)(o)Object(ht.isNil)(r)sro;if(hf&&(f=(n=[h,f])[0],h=n[1]),c=2)return[h,f];for(var l=(f-h)(c-1),d=[],p=0;pc;p++)d.push(h+lp);return d}function au(t,e,r){void 0===r&&(r=5);var n={max0,min0,ticks[]};if(t===e)return{maxe,mint,ticks[t]};var i=(e-t)r,o=Math.pow(10,Math.floor(Math.log10(i))),a=o1Math.ceil(Math.abs(Math.log10(o)))0,s=o;2o-i1.5(i-s)&&5o-i2.75(i-(s=2o))&&10o-i1.5(i-(s=5o))&&(s=10o);var u=Math.ceil(es),c=Math.floor(ts);n.max=Math.max(us,e),n.min=Math.min(cs,t);for(var h=Number.parseFloat((cs).toFixed(a));he;)n.ticks.push(h),h+=s,a&&(h=Number.parseFloat(h.toFixed(a)));return n.ticks.push(h),n}function su(t,e){var r=t.lengthe;return 1===et[t.length-1]0===et[0]r%1!=0t[Math.ceil(r)-1]t.length%2==0(t[r-1]+t[r])2t[r]}function uu(t){return new Date(t).getFullYear()}function cu(t){return new Date(t,0,1).getTime()}function hu(t){return new Date(t).getMonth()}function fu(t,e){return new Date(t,e,1).getTime()}Ha(cat,Ks),Ha(time-cat,(function(t){var e=Ks(t),r=Object(ht.last)(t.values);return r!==Object(ht.last)(e)&&e.push(r),e})),Ha(wilkinson-extended,(function(t){var e=t.min,r=t.max,n=t.tickCount,i=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,u=$s(e,r,n,i).ticks;return Object(ht.isNil)(a)&&Object(ht.isNil)(s)oiu(e,r,o).ticksuou(t,Object(ht.head)(u),Object(ht.last)(u))})),Ha(r-pretty,(function(t){var e=t.min,r=t.max,n=t.tickCount,i=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=au(e,r,n).ticks;return Object(ht.isNil)(o)&&Object(ht.isNil)(a)iiu(e,r,i).tickssou(t,Object(ht.head)(s),Object(ht.last)(s))})),Ha(time,(function(t){var e=t.min,r=t.max,n=t.minTickInterval,i=t.tickInterval,o=t.tickCount;if(i)o=Math.ceil((r-e)i);else{var a=(r-e)(i=Es(e,r,o)[1])o;a1&&(i=Math.ceil(a)),n&&in&&(i=n)}for(var s=[],u=e;ur+i;u+=i)s.push(u);return s})),Ha(time-pretty,(function(t){var e=t.min,r=t.max,n=t.minTickInterval,i=t.tickCount,o=t.tickInterval,a=[];o(o=(r-e)i,n&&on&&(o=n));var s=uu(e);if(o31536e6)for(var u=uu(r),c=Math.ceil(o31536e6),h=s;h=u+c;h+=c)a.push(cu(h));else if(oks){var f=Math.ceil(oks),l=hu(e),d=function(t,e){var r=uu(t),n=uu(e),i=hu(t);return 12(n-r)+(hu(e)-i)%12}(e,r);for(h=0;h=d+f;h+=f)a.push(fu(s,h+l))}else if(o_s){var p=(b=new Date(e)).getFullYear(),g=b.getMonth(),v=b.getDate(),y=Math.ceil(o_s),m=function(t,e){return Math.ceil((e-t)_s)}(e,r);for(h=0;hm+y;h+=y)a.push(new Date(p,g,v+h).getTime())}else if(oSs){p=(b=new Date(e)).getFullYear(),g=b.getMonth(),y=b.getDate();var b,x=b.getHours(),w=Math.ceil(oSs),M=function(t,e){return Math.ceil((e-t)Ss)}(e,r);for(h=0;h=M+w;h+=w)a.push(new Date(p,g,y,x+h).getTime())}else if(o6e4){var S=function(t,e){return Math.ceil((e-t)6e4)}(e,r),_=Math.ceil(o6e4);for(h=0;h=S+_;h+=_)a.push(e+6e4h)}else{var k=o;k1e3&&(k=1e3);var O=1e3Math.floor(e1e3),E=Math.ceil((r-e)1e3),j=Math.ceil(k1e3);for(h=0;hE+j;h+=j)a.push(O+1e3h)}return a.length=512&&console.warn(Notice current ticks length(+a.length+') = 512, may cause performance issues, even out of memory. Because of the configure tickInterval(in milliseconds, current is '+o+) is too small, increase the value to solve the problem!),a})),Ha(log,(function(t){var e,r=t.base,n=t.tickCount,i=t.min,o=t.max,a=t.values,s=Is(r,o);if(i0)e=Math.floor(Is(r,i));else{var u=Ts(a,r,o);e=Math.floor(Is(r,u))}for(var c=s-e,h=Math.ceil(cn),f=[],l=e;ls+h;l+=h)f.push(Math.pow(r,l));return i=0&&f.unshift(0),f})),Ha(pow,(function(t){var e=t.exponent,r=t.tickCount,n=Math.ceil(Ps(e,t.max));return au(Math.floor(Ps(e,t.min)),n,r).ticks.map((function(t){var r=t=01-1;return Math.pow(t,e)r}))})),Ha(quantile,(function(t){var e=t.tickCount,r=t.values;if(!r!r.length)return[];for(var n=r.slice().sort((function(t,e){return t-e})),i=[],o=0;oe;o++){var a=o(e-1);i.push(su(n,a))}return i})),Ha(d3-linear,(function(t){var e=t.min,r=t.max,n=t.tickInterval,i=t.minLimit,o=t.maxLimit,a=function(t){var e=t.min,r=t.max,n=t.nice,i=t.tickCount,o=new eu;return o.domain([e,r]),n&&o.nice(i),o.ticks(i)}(t);return Object(ht.isNil)(i)&&Object(ht.isNil)(o)niu(e,r,n).ticksaou(t,Object(ht.head)(a),Object(ht.last)(a))})),Fs(cat,Wa),Fs(category,Wa),Fs(identity,Ys),Fs(linear,As),Fs(log,Ns),Fs(pow,Ds),Fs(time,Bs),Fs(timeCat,js),Fs(quantize,Rs),Fs(quantile,Ls);var lu=r(136);function du(t){return function(t){return Object(ht.map)(t,(function(t,e){return[0===eML,t[0],t[1]]}))}(t)}function pu(t,e,r,n){void 0===n&&(n=!0);var i=new As({valuest}),o=new Wa({valuesObject(ht.map)(t,(function(t,e){return e}))}),a=Object(ht.map)(t,(function(t,n){return[o.scale(n)e,r-i.scale(t)r]}));return nfunction(t){if(t.length=2)return du(t);var e=[];Object(ht.each)(t,(function(t){Object(ht.isEqual)(t,e.slice(e.length-2))e.push(t[0],t[1])}));var r=le(e,!1),n=Object(ht.head)(t),i=n[0],o=n[1];return r.unshift([M,i,o]),r}(a)du(a)}function gu(t,e,r){for(var n=new As({valuest}),i=new Wa({valuesObject(ht.map)(t,(function(t,e){return e}))}),o=Object(ht.map)(t,(function(t,o){return[i.scale(o)e,r-n.scale(t)r]})),a=[],s=0;so.length;s++){var u=o[s],c=yu({xu[0],yu[1],y0r,size5});a.push.apply(a,c)}return function(t,e){void 0===e&&(e=!0);var r=[],n=t[0];r.push([M,n.x,n.y]);for(var i=1,o=t.length;io;i++)r.push([L,t[i].x,t[i].y]);e&&(r.push([L,n.x,n.y]),r.push([z]));return r}(a)}function vu(t,e,r,n){var i=Object(k.__spreadArrays)(t),o=function(t,e){var r=new As({valuest}),n=Math.max(0,r.min);return e-r.scale(n)e}(n,r);return i.push([L,e,o]),i.push([L,0,o]),i.push([Z]),i}function yu(t){var e,r,n,i,o=t.x,a=t.y,s=t.y0,u=t.size;Object(lu.isArray)(a)(e=a[0],r=a[1])(e=s,r=a),Object(lu.isArray)(o)(n=o[0],i=o[1])(n=o-u2,i=o+u2);var c=[{xn,ye},{xn,yr}];return c.push({xi,yr},{xi,ye}),c}var mu={stroke#C5C5C5,strokeOpacity.85},bu={fill#CACED4,opacity.85},xu=function(){function t(t){var e=t.x,r=void 0===e0e,n=t.y,i=void 0===n0n,o=t.width,a=void 0===o200o,s=t.height,u=void 0===s26s,c=t.smooth,h=void 0===cc,f=t.isArea,l=void 0!==f&&f,d=t.data,p=void 0===d[]d,g=t.lineStyle,v=t.areaStyle,y=t.group,m=t.interval,b=void 0===mnullm;this.group=y,this.x=r,this.y=i,this.width=a,this.height=u,this.data=p,this.smooth=h,this.isArea=l,this.lineStyle=Object.assign({},mu,g),this.areaStyle=Object.assign({},bu,v),this.intervalConfig=b,this.renderLine()}return t.prototype.renderLine=function(){var t=this,e=t.x,r=t.y,n=t.width,i=t.height,o=t.data,a=t.smooth,s=t.isArea,u=(t.backgroundStyle,t.lineStyle),c=t.areaStyle,h=this.group.addGroup({nametrend-group});if(o){var f=pu(o,n,i,a);if(h.addShape(path,{attrsObject(k.__assign)({pathf},u)}),s){var l=vu(f,n,i,o);h.addShape(path,{attrsObject(k.__assign)({pathl},c)})}}this.intervalConfig&&h.addShape(path,{attrsObject(k.__assign)({pathgu(this.intervalConfig.data,n,i)},this.intervalConfig.style)}),h.move(e,r)},t.prototype.destory=function(){this.group.destroy()},t}(),wu={fill#1890ff,stroke#1890ff,typetrend,radius2,opacity1,cursorew-resize,highLightFill#0050b3},Mu={fill#fff,stroke#1890ff,radius2,opacity1,cursorew-resize},Su=function(){function t(t){var e=t.group,r=t.name,n=t.type,i=t.x,o=void 0===i0i,a=t.y,s=void 0===a0a,u=t.width,c=void 0===u2u,h=t.height,f=void 0===h24h,l=t.style,d=void 0===l{}l;this.group=e,this.name=r,this.handleType=n,this.x=o,this.y=s,this.width=c,this.height=f,trend===nthis.style=Object(k.__assign)(Object(k.__assign)({},wu),d)simple===n&&(this.style=Object(k.__assign)(Object(k.__assign)({},Mu),d)),this.renderHandle()}return t.prototype.setX=function(t){this.setXY(t,void 0)},t.prototype.setY=function(t){this.setXY(void 0,t)},t.prototype.setXY=function(t,e){Object(ht.isNumber)(t)&&(this.x=t),Object(ht.isNumber)(e)&&(this.y=e),this.updateXY()},t.prototype.renderHandle=function(){var t=this.width,e=this.height,r=this.style,n=this.name,i=r.fill,o=r.stroke,a=r.radius,s=r.opacity,u=r.cursor;this.handleGroup=this.group.addGroup(),trend===this.handleType(this.background=this.handleGroup.addShape(rect,{attrs{x0,y0,widtht,heighte,filli,strokeo,radiusa,opacitys,cursoru},namen+-handler}),this.handleGroup.addShape(circle,{attrs{xt2,y0,r2t,filli,strokeo,radiusa,opacitys,cursoru},namen+-handler}),this.handleGroup.addShape(circle,{attrs{xt2,ye,r2t,filli,strokeo,radiusa,opacitys,cursoru},namen+-handler}))simple===this.handleType&&(this.handleGroup.addShape(circle,{attrs{xt2,ye2,r2t,filli,strokeo,radiusa,opacitys,cursoru},namen+-handler}),this.handleGroup.addShape(circle,{attrs{xt2,ye2,r2t,filli,strokeo,radiusa,opacitys,cursoru},namen+-handler})),this.updateXY(),trend===this.handleType&&this.bindEvents()},t.prototype.bindEvents=function(){var t=this,e=this.name;this.handleGroup.on(e+-handlermouseenter,(function(){var e=t.style.highLightFill;t.background.attr(fill,e)})),this.handleGroup.on(e+-handlermouseleave,(function(){var e=t.style.fill;t.background.attr(fill,e)}))},t.prototype.show=function(){this.handleGroup.show()},t.prototype.hide=function(){this.handleGroup.hide()},t.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},t}(),_u=function(){function t(t){this.config=Object(ht.deepMix)({},t),this.init()}return t.prototype.update=function(t){this.config=Object(ht.deepMix)({},this.config,t),this.updateElement(),this.renderMarker()},t.prototype.init=function(){this.initElement(),this.renderMarker()},t.prototype.initElement=function(){var t=this.config,e=t.group,r=t.style;this.circle=e.addShape(circle,{attrsObject(k.__assign)({xthis.config.x,ythis.config.y,rthis.config.r},r)}),this.startMarker=e.addShape(path,{attrs{paththis.getStartMarkerPath(),fill#ccc},nameplayPauseBtn}),this.pauseGroupMarker=e.addGroup();var n=14this.config.r,i=.5this.config.rMath.sqrt(3);this.pauseGroupMarker.addShape(rect,{attrs{xthis.config.x-.375this.config.r,ythis.config.y-i2,width2.5n,heighti,fill#fff},nameplayPauseBtn}),this.pauseLeftMarker=this.pauseGroupMarker.addShape(rect,{attrs{xthis.config.x-.375this.config.r,ythis.config.y-i2,widthn,heighti,fill#ccc},nameplayPauseBtn}),this.pauseRightMarker=this.pauseGroupMarker.addShape(rect,{attrs{xthis.config.x+18this.config.r,ythis.config.y-i2,widthn,heighti,fill#ccc},nameplayPauseBtn})},t.prototype.updateElement=function(){this.circle.attr(x,this.config.x),this.circle.attr(y,this.config.y),this.circle.attr(r,this.config.r),this.startMarker.attr(path,this.getStartMarkerPath());var t=14this.config.r,e=.5this.config.rMath.sqrt(3);this.pauseLeftMarker.attr(x,this.config.x-.375this.config.r),this.pauseLeftMarker.attr(y,this.config.y-e2),this.pauseLeftMarker.attr(width,t),this.pauseLeftMarker.attr(height,e),this.pauseRightMarker.attr(x,this.config.x+18this.config.r),this.pauseRightMarker.attr(y,this.config.y-e2),this.pauseRightMarker.attr(width,t),this.pauseRightMarker.attr(height,e)},t.prototype.renderMarker=function(){this.config.isPlay(this.startMarker.hide(),this.pauseGroupMarker.show())(this.startMarker.show(),this.pauseGroupMarker.hide())},t.prototype.getStartMarkerPath=function(){var t=.5this.config.rMath.sqrt(3);return[[M,this.config.x-tMath.sqrt(3)2,this.config.y-t2],[L,this.config.x+tMath.sqrt(3),this.config.y],[L,this.config.x-tMath.sqrt(3)2,this.config.y+t2]]},t}(),ku={fill#607889,stroke#607889},Ou={fill#fff},Eu={fillgreen},ju={speed2,loop!1,fill#fff,stroke#fff,hiddleToggle!1,preBtnStyle{fill#ccc,stroke#ccc},nextBtnStyle{fill#ccc,stroke#ccc},playBtnStyle{fill#fff,stroke#ccc}},Cu=function(){function t(t){this.controllerCfg=Object(ht.deepMix)({},ju,t),this.group=t.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType=range,this.init()}return t.prototype.init=function(){this.renderPlayButton()},t.prototype.getNextMarkerPath=function(t,e,r){return[[M,t,e-r],[L,t+r,e],[L,t,e+r]]},t.prototype.getPreMarkerPath=function(t,e,r){return[[M,t,e-r],[L,t-r,e],[L,t,e+r]]},t.prototype.renderPlayButton=function(){var t=this.controllerCfg,e=t.width,r=t.height,n=t.x,i=t.y,o=t.hiddleToggle,a=t.fill,s=void 0===a#ccca,u=t.stroke,c=void 0===ugreenu,h=t.playBtnStyle,f=void 0===hkuh,l=t.preBtnStyle,d=void 0===lOul,p=t.nextBtnStyle,g=void 0===pEup,v=r2-5,y=i+10,m=this.group.addShape(rect,{attrs{xn,yy,widthe,heightr,strokec,fills},namecontainer-rect});this.playButtonthis.playButton.update({xe2,yy,rv})this.playButton=new _u({groupthis.group,xe2,yy+v+5,rv,isPlaythis.isPlay,stylef}),this.group.addShape(path,{attrsObject(k.__assign)({paththis.getPreMarkerPath(e2-5v,y+v+5,.5v)},d),namepreStepBtn}),this.group.addShape(path,{attrsObject(k.__assign)({paththis.getPreMarkerPath(e2-4.5v,y+v+5,.5v)},d),namepreStepBtn}),this.group.addShape(path,{attrsObject(k.__assign)({paththis.getNextMarkerPath(e2+5v,y+v+5,.5v)},g),namenextStepBtn}),this.group.addShape(path,{attrsObject(k.__assign)({paththis.getNextMarkerPath(e2+4.5v,y+v+5,.5v)},g),namenextStepBtn}),m.toBack(),this.renderSpeedBtn(),othis.renderToggleTime(),this.bindEvent()},t.prototype.renderSpeedBtn=function(){var t=this.controllerCfg,e=t.y,r=t.width,n=t.hiddleToggle,i=this.group.addGroup({namespeed-group});this.speedGroup=i;for(var o=1,a=[],s=9,u=0;u5;u++){var c=e+15+u(u+1)+o;i.addShape(rect,{attrs{xr-(n50110),yc,width15,height2,fill#ccc},speeds,namespeed-rect}),this.speedAxisY.push(c),a.push(s),s-=2,o++}for(u=0;u4;u++)i.addShape(rect,{attrs{xr-(n50110),ythis.speedAxisY[u]+2,width15,height2u+1,fill#fff,opacity.3},speeda[u]-1,namespeed-rect});this.speedText=i.addShape(text,{attrs{xr-(n50110)+20,ythis.speedAxisY[1]+15,text1.0X,fill#ccc}}),this.speedPoint=i.addShape(path,{attrs{paththis.getPath(r-(n50110),this.speedAxisY[4]),fill#ccc}})},t.prototype.getPath=function(t,e){return[[M,t,e],[L,t-12,e-6],[L,t-12,e+6],[Z]]},t.prototype.renderToggleTime=function(){var t=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({nametoggle-group}),this.toggleGroup.addShape(rect,{attrs{width14,height14,xt-50,ythis.speedAxisY[1],fill#fff,stroke#ccc,lineWidth2,radius3},isChecked!1,nametoggle-model}),this.checkedIcon=this.toggleGroup.addShape(path,{attrs{path[[M,t-50+3,this.speedAxisY[1]+6],[L,t-50+7,this.speedAxisY[1]+10],[L,t-50+12,this.speedAxisY[1]+4]],strokegreen,lineWidth3},capture!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape(text,{attrs{text,xt-50+20,ythis.speedAxisY[1]+15,fill#ccc}})},t.prototype.bindEvent=function(){var t=this,e=this.controllerCfg,r=e.width,n=e.hiddleToggle;this.speedGroup.on(speed-rectclick,(function(e){t.speedPoint.attr(path,t.getPath(r-(n50110),e.y)),t.currentSpeed=e.target.get(speed),t.speedText.attr(text,t.currentSpeed+.0X),t.group.emit(timebarConfigChanged,{speedt.currentSpeed,typet.currentType})})),this.toggleGroup&&this.toggleGroup.on(toggle-modelclick,(function(e){var r=e.target.get(isChecked);r(t.checkedIcon.hide(),t.checkedText.attr(text,),t.currentType=range)(t.checkedIcon.show(),t.checkedText.attr(text,),t.currentType=single),e.target.set(isChecked,!r),t.group.emit(timebarConfigChanged,{typet.currentType,speedt.currentSpeed})}))},t.prototype.destroy=function(){this.speedGroup.off(speed-rectclick),this.toggleGroup&&(this.toggleGroup.off(toggle-modelclick),this.toggleGroup.destroy()),this.speedGroup.destroy()},t}(),Au={fill#416180,opacity.05},Pu={fill#416180,opacity.15,radius5},Iu={fill#5B8FF9,opacity.3,cursormove},Tu={width2,height24},Nu={textBaselinemiddle,fill#000,opacity.45},Du=function(){function t(t){var e=this;this.prevX=0,this.onMouseDown=function(t){return function(r){e.currentHandler=t;var n=r.originalEvent;n.stopPropagation(),n.preventDefault(),e.prevX=Object(ht.get)(n,touches.0.pageX,n.pageX);var i=e.canvas.get(container);i.addEventListener(mousemove,e.onMouseMove),i.addEventListener(mouseup,e.onMouseUp),i.addEventListener(mouseleave,e.onMouseUp),i.addEventListener(touchmove,e.onMouseMove),i.addEventListener(touchend,e.onMouseUp),i.addEventListener(touchcancel,e.onMouseUp)}},this.onMouseMove=function(t){t.stopPropagation(),t.preventDefault();var r=Object(ht.get)(t,touches.0.pageX,t.pageX),n=r-e.prevX,i=e.adjustOffsetRange(ne.width);e.updateStartEnd(i),e.updateUI(),e.prevX=r},this.onMouseUp=function(){e.currentHandler&&(e.currentHandler=void 0);var t=e.canvas.get(container);t&&(t.removeEventListener(mousemove,e.onMouseMove),t.removeEventListener(mouseup,e.onMouseUp),t.removeEventListener(mouseleave,e.onMouseUp),t.removeEventListener(touchmove,e.onMouseMove),t.removeEventListener(touchend,e.onMouseUp),t.removeEventListener(touchcancel,e.onMouseUp))};var r=t.x,n=void 0===r0r,i=t.y,o=void 0===i0i,a=t.width,s=void 0===a100a,u=t.height,c=t.padding,h=void 0===c10c,f=t.trendCfg,l=t.controllerCfg,d=void 0===l{speed1}l,p=t.backgroundStyle,g=void 0===p{}p,v=t.foregroundStyle,y=void 0===v{}v,m=t.handlerStyle,b=void 0===m{}m,x=t.textStyle,w=void 0===x{}x,M=t.start,S=void 0===M0M,_=t.end,O=void 0===_1_,E=t.minText,j=void 0===EE,C=t.maxText,A=void 0===CC,P=t.group,I=t.graph,T=t.canvas,N=t.ticks,D=t.type;this.graph=I,this.canvas=T,this.group=P,this.timeBarType=D,this.x=n,this.y=o,this.width=s,this.height=u,this.padding=h,this.ticks=N,this.trendCfg=f,this.controllerCfg=d,this.currentSpeed=d.speed,trend===Dthis.backgroundStyle=Object(k.__assign)(Object(k.__assign)({},Au),g)simple===D&&(this.backgroundStyle=Object(k.__assign)(Object(k.__assign)({},Pu),g)),this.foregroundStyle=Object(k.__assign)(Object(k.__assign)({},Iu),y),this.handlerStyle=Object(k.__assign)(Object(k.__assign)({},Tu),b),this.textStyle=Object(k.__assign)(Object(k.__assign)({},Nu),w),this.currentMode=range,this.start=S,this.end=O,this.minText=j,this.maxText=A,this.renderSlider()}return t.prototype.update=function(t){var e=t.x,r=t.y,n=t.width,i=t.height,o=t.minText,a=t.maxText,s=t.start,u=t.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(u,0)),Object(ht.assign)(this,{xe,yr,widthn,heighti,minTexto,maxTexta}),this.updateUI()},t.prototype.setText=function(t,e){this.minTextShape.attr(text,t),this.maxTextShape.attr(text,e)},t.prototype.renderSlider=function(){var t=this,e=this.width,r=this.height,n=this.timeBarType;if(trend===n&&Object(ht.size)(Object(ht.get)(this.trendCfg,data))){var i=new xu(Object(k.__assign)(Object(k.__assign)({xthis.x,ythis.y,widthe,heightr},this.trendCfg),{groupthis.group}));this.trendComponent=i}var o=this.group.addGroup({nameslider-group});o.addShape(rect,{attrsObject(k.__assign)({x0,y0,widthe,heightr},this.backgroundStyle)});var a=this.group.addGroup();trend===n(this.minTextShape=a.addShape(text,{attrsObject(k.__assign)({x0,yr2+this.y,textAlignright,textthis.minText,silent!1},this.textStyle),capture!1}),this.maxTextShape=a.addShape(text,{attrsObject(k.__assign)({yr2+this.y,textAlignleft,textthis.maxText,silent!1},this.textStyle),capture!1}))(this.minTextShape=a.addShape(text,{attrsObject(k.__assign)({x0,ythis.y-10,textAligncenter,textthis.minText,silent!1},this.textStyle),capture!1}),this.maxTextShape=a.addShape(text,{attrsObject(k.__assign)({ythis.y-10,textAligncenter,textthis.maxText,silent!1},this.textStyle),capture!1})),this.foregroundShape=this.group.addGroup().addShape(rect,{attrsObject(k.__assign)({x0,ythis.y,heightr},this.foregroundStyle)});var s=Object(ht.get)(this.handlerStyle,width,2),u=Object(ht.get)(this.handlerStyle,height,24),c=this.group.addGroup({nameminHandlerShape});this.minHandlerShape=new Su(Object(k.__assign)({nameminHandlerShape,groupc,typen,xthis.x,ythis.y,widths,heightu,cursorew-resize},this.handlerStyle));var h=this.group.addGroup({namemaxHandlerShape});this.maxHandlerShape=new Su(Object(k.__assign)({namemaxHandlerShape,grouph,typen,xthis.x,ythis.y,widths,heightu,cursorew-resize},this.handlerStyle));var f=this.ticks,l=e(f.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach((function(t){t.destroy()}));var d=-10;this.textList=f.map((function(e,n){t.tickPosList.push(t.x+nl);var i=t.group.addShape(text,{attrs{xt.x+nl,yt.y+r+5,texte,textAligncenter,textBaselinetop,fill#607889,opacity.35}}),o=t.group.addShape(line,{attrs{x1t.x+nl,y1t.y+r+2,x2t.x+nl,y2t.y+r+6,lineWidth1,stroke#ccc}}),a=i.getBBox();return a.minXd(i.show(),o.show(),d=a.minX+a.width+10)(i.hide(),o.hide()),i})),this.controllerBtnGroup=new Cu({groupthis.group,xthis.x,ythis.y+r+25,widthe,height40}),this.updateUI(),o.move(this.x,this.y),this.bindEvents()},t.prototype.bindEvents=function(){var t=this,e=this.group.find((function(t){returnminHandlerShape===t.get(name)}));e&&(e.on(minHandlerShape-handlermousedown,this.onMouseDown(this.minHandlerShape)),e.on(minHandlerShape-handlertouchstart,this.onMouseDown(this.minHandlerShape)));var r=this.group.find((function(t){returnmaxHandlerShape===t.get(name)}));r&&(r.on(maxHandlerShape-handlermousedown,this.onMouseDown(this.maxHandlerShape)),r.on(maxHandlerShape-handlertouchstart,this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on(mousedown,this.onMouseDown(this.foregroundShape)),this.foregroundShape.on(touchstart,this.onMouseDown(this.foregroundShape)),this.group.on(playPauseBtnclick,(function(){t.isPlay=!t.isPlay,t.currentHandler=t.maxHandlerShape,t.changePlayStatus()})),this.group.on(nextStepBtnclick,(function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(.01),t.updateUI()})),this.group.on(preStepBtnclick,(function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(-.01),t.updateUI()})),this.group.on(timebarConfigChanged,(function(e){var r=e.type,n=e.speed;t.currentSpeed=n,t.currentMode=r,single===r(t.minHandlerShape.hide(),t.foregroundShape.hide(),t.minTextShape.hide())range===r&&(t.minHandlerShape.show(),t.foregroundShape.show(),t.minTextShape.show())}))},t.prototype.adjustTickIndex=function(t){for(var e=0;ethis.tickPosList.length-1;e++)if(this.tickPosList[e]=t&&t=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)Math.abs(t-this.tickPosList[e+1])ee+1},t.prototype.adjustOffsetRange=function(t){switch(this.currentHandler){case this.minHandlerShapevar e=0-this.start,r=1-this.start;return Math.min(r,Math.max(e,t));case this.maxHandlerShapee=0-this.end,r=1-this.end;return Math.min(r,Math.max(e,t));case this.foregroundShapee=0-this.start,r=1-this.end;return Math.min(r,Math.max(e,t));defaultreturn 0}},t.prototype.updateStartEnd=function(t){switch(this.currentHandler){case this.minHandlerShapethis.maxText=this.maxTextShape.attr(text),this.start+=t,this.minText=this.ticks[this.adjustTickIndex(this.startthis.width)];break;case this.maxHandlerShapethis.minText=this.minTextShape.attr(text),this.end+=t,this.maxText=this.ticks[this.adjustTickIndex(this.endthis.width)];break;case this.foregroundShapethis.start+=t,this.end+=t,this.minText=this.ticks[this.adjustTickIndex(this.startthis.width)],this.maxText=this.ticks[this.adjustTickIndex(this.endthis.width)]}},t.prototype.updateUI=function(){var t=this;this.start0&&(this.start=0),this.end1&&(this.end=1);var e=this.startthis.width,r=this.endthis.width;this.foregroundShape.attr(x,e),this.foregroundShape.attr(width,r-e);var n=Object(ht.get)(this.handlerStyle,width,2);this.setText(this.minText,this.maxText);var i=this.dodgeText([e,r]),o=i[0],a=i[1];this.minHandlerShape.setX(e-n2),Object(ht.each)(o,(function(e,r){return t.minTextShape.attr(r,e)})),this.maxHandlerShape.setX(r-n2),Object(ht.each)(a,(function(e,r){return t.maxTextShape.attr(r,e)})),range===this.currentModethis.graph.emit(valueChange,{value[this.start,this.end].sort()})single===this.currentMode&&this.graph.emit(valueChange,{value[this.end,this.end]})},t.prototype.dodgeText=function(t){var e,r,n=Object(ht.get)(this.handlerStyle,width,2),i=this.minTextShape,o=this.maxTextShape,a=t[0],s=t[1],u=!1;as&&(a=(e=[s,a])[0],s=e[1],i=(r=[o,i])[0],o=r[1],u=!0);var c=i.getBBox(),h=o.getBBox(),f=null,l=null;returntrend===this.timeBarType(f=c.widtha-2{xa+n2+2,textAlignleft}{xa-n2-2,textAlignright},l=h.widththis.width-s-2{xs-n2-2,textAlignright}{xs+n2+2,textAlignleft})simple===this.timeBarType&&(f=c.widtha-2{xa+n2+2,textAligncenter}{xa-n2-2,textAligncenter},l=h.widththis.width-s-2{xs-n2-2,textAligncenter}{xs+n2+2,textAligncenter}),u[l,f][f,l]},t.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame((function(){var e=t,r=e.ticks,n=e.width,i=t.currentSpeed,o=nr.length(1e3(10-i)60),a=t.adjustOffsetRange(ot.width);t.updateStartEnd(a),t.updateUI(),t.isPlay&&(t.playHandler=t.startPlay())}))},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlaythis.isPlay}),this.isPlay(this.playHandler=this.startPlay(),this.graph.emit(timelinestart,null))this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(timelineend,null))},t.prototype.destory=function(){this.graph.off(valueChange);var t=this.group,e=t.find((function(t){returnminHandlerShape===t.get(name)}));e&&(e.off(minHandlerShape-handlermousedown),e.off(minHandlerShape-handlertouchstart),e.destroy());var r=t.find((function(t){returnmaxHandlerShape===t.get(name)}));r&&(r.off(maxHandlerShape-handlermousedown),r.off(maxHandlerShape-handlertouchstart),r.destroy()),this.foregroundShape.off(mousedown),this.foregroundShape.off(touchstart),this.foregroundShape.destroy(),t.off(playPauseBtnclick),t.off(nextStepBtnclick),t.off(preStepBtnclick),t.off(timebarConfigChanged),t.destroy(),this.trendComponent&&this.trendComponent.destory()},t}(),Bu=function(){function t(t){var e=t.x,r=void 0===e0e,n=t.y,i=void 0===n0n,o=t.container,a=t.text,s=t.padding,u=void 0===s[4,4,4,4]s,c=t.className,h=void 0===cg6-component-timebar-tooltipc,f=t.backgroundColor,l=void 0===f#000f,d=t.textColor,p=void 0===d#fffd,g=t.opacity,v=void 0===g.8g,y=t.fontSize,m=void 0===y12y;this.container=o,this.className=h,this.backgroundColor=l,this.textColor=p,this.x=r,this.y=i,this.text=a,this.padding=u,this.opacity=v,this.fontSize=m,this.render()}return t.prototype.render=function(){var t=this.className,e=(this.x,this.y,this.backgroundColor),r=this.textColor,n=this.text,i=this.padding,o=this.opacity,a=this.fontSize,s=this.container,u=mt()(div class='+t+' style=position absolute; width fit-content; height fit-content; opacity +o+'div');Object(ht.isString)(s)&&(s=document.getElementById(s)),s.appendChild(u),this.parentHeight=s.offsetHeight,this.parentWidth=s.offsetWidth,vt()(u,{visibilityhidden,top0,left0});var c=mt()(n      div style='position absolute; white-spacenowrap; background-color +e+; font-size +a+px; border-radius 4px; width fit-content; height fit-content; color +r+; padding +i[0]+px +i[1]+px +i[2]+px +i[3]+px'div);c.innerHTML=n,u.appendChild(c),this.backgroundDOM=c;var h=mt()(div style='position absolute; width 0px; height 0px; border-left 5px solid transparent; border-right 5px solid transparent; border-top 10px solid +e+'div);u.appendChild(h),this.arrowDOM=h,this.container=u},t.prototype.show=function(t){var e=t.text,r=t.x;t.y,t.clientX,t.clientY;this.backgroundDOM.innerHTML=e;var n=this.backgroundDOM.offsetWidth,i=this.backgroundDOM.offsetHeight,o=this.arrowDOM.offsetWidth,a=this.arrowDOM.offsetHeight;vt()(this.container,{top-i-a+px,leftr+px,visibilityvisible}),vt()(this.backgroundDOM,{marginLeft-n2+px}),vt()(this.arrowDOM,{marginLeft-o2+px,topi+px});var s=r-n2,u=r+n2;s0vt()(this.backgroundDOM,{marginLeft-n2-s+px})uthis.parentWidth&&vt()(this.backgroundDOM,{marginLeft-n2-u+this.parentWidth+12+px})},t.prototype.hide=function(){vt()(this.container,{top0,left0,visibilityhidden})},t}(),Ru={fill#5B8FF9},Lu={fill#e6e8e9},zu=function(){function t(t){this.frameCount=0;var e=t.graph,r=t.canvas,n=t.group,i=t.width,o=t.height,a=t.padding,s=t.data,u=t.start,c=t.end,h=t.x,f=void 0===h0h,l=t.y,d=void 0===l0l,p=t.tickLabelFormatter,g=t.selectedTickStyle,v=void 0===gRug,y=t.unselectedTickStyle,m=void 0===yLuy,b=t.tooltipBackgroundColor,x=t.tooltipFomatter;this.graph=e,this.group=n,this.sliceGroup=n.addGroup({nameslice-group}),this.canvas=r,this.width=i,this.height=o,this.padding=a,this.data=s,this.start=u,this.end=c,this.tickLabelFormatter=p,this.selectedTickStyle=v,this.unselectedTickStyle=m,this.x=f,this.y=d,this.tooltipBackgroundColor=b,this.tooltipFomatter=x,this.renderSlices(),this.initEvent()}return t.prototype.renderSlices=function(){var t=this,e=t.width,r=t.height,n=t.padding,i=t.data,o=t.start,a=t.end,s=t.tickLabelFormatter,u=t.selectedTickStyle,c=t.unselectedTickStyle,h=e-2n,f=r-(3n+4+10)-2n,l=i.length,d=(h-2(l-1))l;this.tickWidth=d;var p=this.sliceGroup,g=[],v=[],y=Math.round(lo),m=Math.round(la);this.startTickRectId=y,this.endTickRectId=m,i.forEach((function(t,r){var i=r=y&&r=muc,o=p.addShape(rect,{attrsObject(k.__assign)({xn+r(d+2),yn,widthd,heightf},i),draggable!0,nametick-rect-+r}),a=p.addShape(rect,{attrs{xn+rd+2(2r-1)2,yn,width0===rr===l-1d+1d+2,heightf,fill#fff,opacity0},draggable!0,namepick-rect-+r});a.toFront();var h,b=o.getBBox(),x=(b.minX+b.maxX)2;if(g.push({recto,pickRecta,valuet.date,xx,yb.minY}),s(h=s(t),!Object(ht.isString)(h)&&h&&(h=t.date))r%Math.round(l10)==0&&(h=t.date),h){v.push(h);var w=b.maxY+2n;p.addShape(line,{attrs{stroke#BFBFBF,x1x,y1w,x2x,y2w+4}});var M=w+4+n,S=p.addShape(text,{attrs{fill#8c8c8c,stroke#fff,lineWidth1,xx,yM,textAligncenter,texth,textBaselinetop,fontSize10},capture!1}),_=S.getBBox();_.maxXeS.attr(textAlign,right)_.minX0&&S.attr(textAlign,left)}})),this.tickRects=g;var b=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Cu({groupb,xthis.x,ythis.y+r+5,widthe,height40,hiddleToggle!0,speedthis.currentSpeed})},t.prototype.initEvent=function(){var t=this,e=this.sliceGroup;e.on(click,(function(e){var r=e.target;if(rect===r.get(type)&&r.get(name)){var n=parseInt(r.get(name).split(-)[2],10);if(!isNaN(n)){var i=t.tickRects,o=t.unselectedTickStyle;i.forEach((function(t){t.rect.attr(o)}));var a=t.selectedTickStyle;i[n].rect.attr(a),t.startTickRectId=n,t.endTickRectId=n;var s=ni.length;t.graph.emit(valueChange,{value[s,s]})}}})),e.on(dragstart,(function(e){var r=t.tickRects,n=t.unselectedTickStyle;r.forEach((function(t){t.rect.attr(n)}));var i=e.target,o=parseInt(i.get(name).split(-)[2],10),a=t.selectedTickStyle;r[o].rect.attr(a),t.startTickRectId=o;var s=or.length;t.graph.emit(valueChange,{value[s,s]}),t.dragging=!0})),e.on(dragover,(function(e){if(t.dragging&&rect===e.target.get(type)){for(var r=parseInt(e.target.get(name).split(-)[2],10),n=t.startTickRectId,i=t.tickRects,o=t.selectedTickStyle,a=t.unselectedTickStyle,s=0;si.length;s++){var u=s=n&&s=roa;i[s].rect.attr(u)}var c=i.length;t.endTickRectId=r;var h=nc,f=rc;t.graph.emit(valueChange,{value[h,f]})}})),e.on(drop,(function(e){if(t.dragging&&(t.dragging=!1,rect===e.target.get(type))){var r=t.startTickRectId,n=parseInt(e.target.get(name).split(-)[2],10);if(!(nr)){var i=t.selectedTickStyle,o=t.tickRects;o[n].rect.attr(i),t.endTickRectId=n;var a=o.length,s=ra,u=na;t.graph.emit(valueChange,{value[s,u]})}}}));var r=this.tooltipBackgroundColor,n=this.tooltipFomatter,i=this.canvas,o=new Bu({containeri.get(container),backgroundColorr}),a=this.tickRects;a.forEach((function(t){var e=t.pickRect;e.on(mouseenter,(function(t){var e=t.target;if(rect===e.get(type)){var r=parseInt(e.get(name).split(-)[2],10),s=i.getClientByPoint(a[r].x,a[r].y);o.show({xa[r].x,ya[r].y,clientXs.x,clientYs.y,textnn(a[r].value)a[r].value})}})),e.on(mouseleave,(function(t){o.hide()}))}));var s=this.group;s.on(playPauseBtnclick,(function(){t.isPlay=!t.isPlay,t.changePlayStatus()})),s.on(nextStepBtnclick,(function(){t.updateStartEnd(1)})),s.on(preStepBtnclick,(function(){t.updateStartEnd(-1)})),s.on(timebarConfigChanged,(function(e){e.type;var r=e.speed;t.currentSpeed=r}))},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlaythis.isPlay}),this.isPlay(this.playHandler=this.startPlay(),this.graph.emit(timelinestart,null))this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(timelineend,null))},t.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame((function(){var e=t.currentSpeed;t.frameCount%(60e)==0&&(t.frameCount=0,t.updateStartEnd(1)),t.frameCount++,t.isPlay&&(t.playHandler=t.startPlay())}))},t.prototype.updateStartEnd=function(t){var e=this.tickRects,r=e.length,n=this.unselectedTickStyle,i=this.selectedTickStyle,o=this.endTickRectId;if(t0this.endTickRectId++(e[this.endTickRectId].rect.attr(n),this.endTickRectId--),o!==this.startTickRectId)this.endTickRectIdthis.startTickRectId&&(this.startTickRectId=this.endTickRectId);else{for(var a=this.startTickRectId;a=this.endTickRectId-1;a++)e[a].rect.attr(n);this.startTickRectId=this.endTickRectId}if(e[this.endTickRectId]){e[this.endTickRectId].rect.attr(i);var s=this.startTickRectIdr,u=this.endTickRectIdr;this.graph.emit(valueChange,{value[s,u]})}},t.prototype.destory=function(){this.graph.off(valueChange);var t=this.sliceGroup;t.off(click),t.off(dragstart),t.off(dragover),t.off(drop),this.tickRects.forEach((function(t){var e=t.pickRect;e.off(mouseenter),e.off(mouseleave)})),this.tickRects.length=0,t.off(playPauseBtnclick),t.off(nextStepBtnclick),t.off(preStepBtnclick),t.off(timebarConfigChanged),this.sliceGroup.destroy()},t}(),Fu=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{containernull,classNameg6-component-timebar,padding10,typetrend,trend{data[],isArea!1,smooth!0},controllerCfg{speed2,loop!1},slider{start.1,end.9,minTextmin,maxTextmax},tick{start.1,end.9,data[]}}},e.prototype.initContainer=function(){var t,e,r=this.get(graph),n=this._cfgs,i=n.width,o=n.height,a=this.get(className)g6-component-timebar,s=this.get(container),u=this.get(graph).get(container);st=s(t=mt()(div class='+a+'div),vt()(t,{positionrelative})),u.appendChild(t),this.set(timeBarContainer,t),e=SVG===r.get(renderer)new Le.a({containert,widthi,heighto})new Be.a({containert,widthi,heighto}),this.set(canvas,e)},e.prototype.init=function(){this.initContainer();var t=this.get(canvas).addGroup({nametimebar-group});this.set(timeBarGroup,t),this.renderTrend(),this.initEvent()},e.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,r=t.x,n=t.y,i=t.padding,o=t.type,a=t.trend,s=t.slider,u=t.controllerCfg,c=a.data,h=Object(k.__rest)(a,[data]),f=e-2i,l=trend===o268,d=this.get(graph),p=this.get(timeBarGroup),g=this.get(canvas),v=null;if(trend===osimple===o)v=new Du(Object(k.__assign)(Object(k.__assign)({graphd,canvasg,groupp,typeo,xr+i,ytrend===on+in+i+15,widthf,heightl,paddingi,trendCfgObject(k.__assign)(Object(k.__assign)({},h),{datac.map((function(t){return t.value}))})},s),{ticksc.map((function(t){return t.date})),handlerStyleObject(k.__assign)(Object(k.__assign)({},s.handlerStyle),{heights.heightl}),controllerCfgu}));else if(tick===o){var y=this._cfgs.tick;v=new zu(Object(k.__assign)({graphd,canvasg,groupp,xr+i,yn+i},y))}this.set(timebar,v)},e.prototype.filterData=function(t){var e=t.value,r=null,n=this._cfgs.type;if(trend===nsimple===nr=this._cfgs.trend.datatick===n&&(r=this._cfgs.tick.data),r&&0!==r.length){var i=this.get(rangeChange),o=this.get(graph),a=Math.round(r.lengthe[0]),s=Math.round(r.lengthe[1]);s=s=r.lengthr.length-1s;var u=r[a].date,c=r[s].date;if(tick!==n)this.get(timebar).setText(u,c);if(i)i(o,u,c);else{var h=o.save();(!this.cacheGraphDatathis.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=h);var f=this.cacheGraphData.nodes.filter((function(t){return t.date=u&&t.date=c})),l=f.map((function(t){return t.id})),d=this.cacheGraphData.edges.filter((function(t){return l.includes(t.source)&&l.includes(t.target)}));o.changeData({nodesf,edgesd})}}else console.warn( TimeBar )},e.prototype.initEvent=function(){var t=this,e=0,r=0,n=this._cfgs.type;n&&trend!==n&&simple!==ntick===n&&(e=this._cfgs.tick.start,r=this._cfgs.tick.end)(e=this._cfgs.slider.start,r=this._cfgs.slider.end);var i=this.get(graph);i.on(afterrender,(function(){t.filterData({value[e,r]})})),i.on(valueChange,(function(e){t.filterData(e)}))},e.prototype.destroy=function(){var e=this.get(timebar);e&&e.destory&&e.destory(),t.prototype.destroy.call(this);var r=this.get(timeBarContainer);if(r){var n=this.get(container);n(n=this.get(graph).get(container)),n.removeChild(r)}},e}(Aa);var Yu=function(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{containernull,classNameg6-minimap,viewportClassNameg6-minimap-viewport,width200,delegateStyle{fill#40a9ff,stroke#096dd9},refresh!0}},e.prototype.getEvents=function(){return{beforepaintupdateViewport,beforeanimatedisableRefresh,afteranimateenableRefresh,viewportchangedisableOneRefresh}},e.prototype.disableRefresh=function(){this.set(refresh,!1)},e.prototype.enableRefresh=function(){this.set(refresh,!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set(viewportChange,!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.graph;if(!this.destroyed){var n=this.get(container),i=mt()(div class=+e.viewportClassName+n      style='positionabsolute;n        left0;n        top0;n        box-sizingborder-box;n        border 2px solid #1980ff'n      div),o=0,a=0,s=!1,u=0,c=0,h=0,f=0,l=0,d=0;n.addEventListener(mousedown,(function(n){if(e.refresh=!1,n.target===i){var u=i.style;h=parseInt(u.width,10),f=parseInt(u.height,10);var c=t.get(width),p=t.get(height);hcfp(d=r.getZoom(),l=t.get(ratio),s=!0,o=n.clientX,a=n.clientY)}}),!1),n.addEventListener(mousemove,(function(e){if(s&&!x()(e.clientX)&&!x()(e.clientY)){var n=t.get(width),p=t.get(height),g=i.style;u=parseInt(g.left,10),c=parseInt(g.top,10),h=parseInt(g.width,10),f=parseInt(g.height,10);var v=o-e.clientX,y=a-e.clientY;u-v0v=uu-v+h=n&&(v=0),c-y0y=cc-y+f=p&&(y=0),u-=v,c-=y,vt()(i,{leftu+px,topc+px}),r.translate(vdl,ydl),o=e.clientX,a=e.clientY}}),!1),n.addEventListener(mouseleave,(function(){s=!1,e.refresh=!0}),!1),n.addEventListener(mouseup,(function(){s=!1,e.refresh=!0}),!1),this.set(viewport,i),n.appendChild(i)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get(ratio),e=this.get(width),r=this.get(height),n=this.get(graph),i=n.get(width),o=in.get(height),a=n.getGroup(),s=a.getCanvasBBox(),u=[(s.minX+s.maxX)2,(s.minY+s.maxY)2],c=[s.maxX-s.minX,s.maxY-s.minY],h={centerXu[0],centerYu[1],width0,height0,minX0,minY0};s[0]s[1]o(h.width=c[0],h.height=h.widtho)(h.height=c[1],h.width=h.heighto),h.minX=u[0]-h.width2,h.minY=u[1]-h.height2;var f=a.getMatrix();f(f=[1,0,0,0,1,0,0,0,1]);var l=ut.invert([],f),d=Ft({xh.minX,yh.minY},l),p=n.getCanvasByPoint(d.x,d.y),g=this.get(viewport);gthis.initViewport();var v=ih.width,y=ve,m=vr,b=e-p.xh.width,x=r-p.yh.height,w=b+y,M=x+m;b0&&(y+=b,b=0),we&&(y-=w-e),x0&&(m+=x,x=0),Mr&&(m-=M-r),this.set(ratio,t);var S=b+px,_=x+px;vt()(g,{leftS,top_,widthy+px,heightm+px})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this.get(graph),e=t.get(width),r=t.get(height)e,n=this.get(className),i=this.get(container),o=this.get(width),a=this.get(height);oa(o=200),o(a=ro,this.set(height,a))(o=1ra,this.set(width,o));var s=mt()(div class='+n+' style='width +o+px; height +a+px; overflow hidden; position relative;'div);_()(i)&&(i=document.getElementById(i)),ii.appendChild(s)t.get(container).appendChild(s),this.set(container,s);var u=mt()('div class=g6-minimap-container style=position relative; width 100%; height 100%; text-align center; display table;div');s.appendChild(u);var c=mt()('span style=display table-cell; vertical-align middle; span');u.appendChild(c),this.set(containerDOM,u),this.set(containerSpan,c);var h=mt()('img alt= src='+this.get(graphImg)+' style=display inline-block; ondragstart=return false; onselectstart=return false;');this.set(imgDOM,h),this.updateImgSize(),c.appendChild(h),this.updateCanvas()},e.prototype.updateImgSize=function(){var t=this.get(imgDOM),e=this.get(width),r=this.get(height);t.onload=function(){var n=function(t,e){var r,n;if(t.naturalWidth)r=t.naturalWidth,n=t.naturalHeight;else{var i=new Image;i.src=t.src,i.onload=function(){null==ee(i.width,i.height)}}return[r,n]}(t);n[0]n[1]t.width=et.height=r}},e.prototype.updateCanvas=function(){if(this.get(refresh)){var t=this.get(graph);if(!t.get(destroyed)){this.get(viewportChange)&&(this.set(viewportChange,!1),this.updateViewport());var e=this.get(width)t.get(canvas).getCanvasBBox().width;this.set(ratio,e),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get(viewport)},e.prototype.getContainer=function(){return this.get(container)},e.prototype.updateGraphImg=function(t){this.get(imgDOM).remove(),this.set(graphImg,t);var e=mt()('img alt= src='+t+' style=display inline-block; ondragstart=return false; onselectstart=return false;');this.set(imgDOM,e),e.src=t,this.updateImgSize(),this.get(containerSpan).appendChild(e),this.updateCanvas()},e.prototype.destroy=function(){var t=this.get(container);t.parentNode.removeChild(t)},e}(Aa),Gu={stroke#000,strokeOpacity.8,lineWidth2,fillOpacity1,fill#fff},qu={MenuDa,GridIa,MinimapRa,BundlingFa,ToolBarqa,TooltipXa,FisheyeGa,TimeBarFu,ImageMinimapYu,EdgeFilterLensfunction(t){function e(){return null!==t&&t.apply(this,arguments)this}return Object(k.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{typeboth,triggermousemove,r60,delegateStyleObject(p.clone)(Gu),showLabeledge,scaleRBywheel}},e.prototype.getEvents=function(){var t;switch(this.get(trigger)){caseclickt={clickfilter};break;casedragt={clickcreateDelegate};break;defaultt={mousemovefilter}}return t},e.prototype.init=function(){var t=this.get(showLabel),e=node===tboth===t,r=edge===tboth===t;this.set(showNodeLabel,e),this.set(showEdgeLabel,r),this.get(shouldShow)this.set(shouldShow,(function(){return!0}))},e.prototype.createDelegate=function(t){var e=this,r=e.get(delegate);r&&!r.destroyed(e.filter(t),(r=e.get(delegate)).on(dragstart,(function(t){})),r.on(drag,(function(t){e.filter(t)})),wheel===this.get(scaleRBy)&&r.on(mousewheel,(function(t){e.scaleRByWheel(t)})))},e.prototype.scaleRByWheel=function(t){if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var e,r=this.get(graph),n=this.get(delegate);(n{xn.attr(x),yn.attr(y)}void 0)r.getPointByClient(t.clientX,t.clientY);e=t.originalEvent.wheelDelta0.951.95;var i=this.get(maxR),o=this.get(minR),a=this.get(r);(a(ir.get(height))&&e1a(o.05r.get(height))&&e1)&&(e=1),a=e,this.set(r,a),this.filter(t)}},e.prototype.filter=function(t){var e=this.get(graph),r=e.getNodes(),n={},i=this.get(r),o=this.get(type),a={xt.x,yt.y};this.updateDelegate(a,i);var s=this.get(shouldShow),u=this.get(vShapes);u&&u.forEach((function(t){t.remove(),t.destroy()})),u=[],r.forEach((function(t){var e=t.getModel(),r=e.x,o=e.y;qt({xr,yo},a)i&&(n[e.id]=t)}));var c=e.getEdges(),h=[];c.forEach((function(t){var e=t.getModel(),r=e.source,i=e.target;s(e)&&(only-source===oone===on[r]&&!n[i]&&h.push(t)only-target===oone===on[i]&&!n[r]&&h.push(t)both===o&&n[r]&&n[i]&&h.push(t))}));var f=this.get(showNodeLabel),l=this.get(showEdgelabel),d=e.get(group);h.forEach((function(t){t.get(group).get(children).forEach((function(t){var e=t.get(type),r=d.addShape(e,{attrst.attr()});u.push(r),f&&text===e&&r.set(visible,!0)}))})),Object.keys(n).forEach((function(t){var e=n[t].get(group).clone();if(d.add(e),u.push(e),l)for(var r=e.get(children),i=0;ir.length;i++){var o=r[i];text===o.get(type)&&o.set(visible,!0)}})),this.set(vShapes,u)},e.prototype.updateParams=function(t){var e=t.r,r=t.trigger,n=t.minR,i=t.maxR,o=t.scaleRBy,a=t.showLabel,s=t.shouldShow;if(isNaN(t.r)this.set(r,e),isNaN(i)this.set(maxR,i),isNaN(n)this.set(minR,n),mousemove!==r&&click!==rthis.set(trigger,r),wheel===ounset===o){this.set(scaleRBy,o),this.get(delegate).remove(),this.get(delegate).destroy();var u=this.get(dPercentText);u&&(u.remove(),u.destroy())}node!==a&&both!==athis.set(showNodeLabel,!0),edge!==a&&both!==athis.set(showEdgeLabel,!0),s&&this.set(shouldShow,s)},e.prototype.updateDelegate=function(t,e){var r=this,n=r.get(graph),i=r.get(delegate);if(!ii.destroyed){var o=n.get(group),a=r.get(delegateStyle)Gu;i=o.addShape(circle,{attrsObject(k.__assign)({re,xt.x,yt.y},a),namelens-shape,draggable!0}),drag!==this.get(trigger)&&wheel===this.get(scaleRBy)&&i.on(mousewheel,(function(t){r.scaleRByWheel(t)}))}else i.attr({xt.x,yt.y,re});r.set(delegate,i)},e.prototype.clear=function(){var t=this.get(vShapes);t&&t.forEach((function(t){t.remove(),t.destroy()})),t=[],this.set(vShapes,t);var e=this.get(delegate);e&&!e.destroyed&&(e.remove(),e.destroy())},e.prototype.destroy=function(){this.clear()},e}(Aa)};function Xu(t,e,r){var n=t.findById(e);!function t(e,r,n,i){i.enter({currentr,previousn}),e.getNeighbors(r,target).forEach((function(o){i.allowTraversal({previousn,currentr,nexto})&&t(e,o,r,i)})),i.leave({currentr,previousn})}(t,n,null,function(t){void 0===t&&(t={});var e,r=t,n=function(){},i=(e={},function(t){var r=t.next;return!e[r.get(id)]&&(e[r.get(id)]=!0,!0)});return r.allowTraversal=t.allowTraversali,r.enter=t.entern,r.leave=t.leaven,r}(r))}var Vu=function(){function t(){this.linkedList=new Co}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.headthis.linkedList.head.valuenull},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return tt.valuenull},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}();var Hu=function(t,e,r){var n=function(t){void 0===t&&(t={});var e,r=t,n=function(){},i=(e={},function(t){var r=t.next.get(id);return!e[r]&&(e[r]=!0,!0)});return r.allowTraversal=t.allowTraversali,r.enter=t.entern,r.leave=t.leaven,r}(r),i=new Vu,o=t.findById(e);i.enqueue(o);for(var a=null,s=function(){var e=i.dequeue();n.enter({currente,previousa}),t.getNeighbors(e,target).forEach((function(t){n.allowTraversal({previousa,currente,nextt})&&i.enqueue(t)})),n.leave({currente,previousa}),a=e};!i.isEmpty();)s()};function Uu(t){for(var e=[],r={},n={},i={},o=[],a=0,s=function(u){n[u.get(id)]=a,i[u.get(id)]=a,a+=1,e.push(u),r[u.get(id)]=!0;for(var c=u.getNeighbors(target).filter((function(e){return t.indexOf(e)-1})),h=0;hc.length;h++){var f=c[h];n[f.get(id)]0===n[f.get(id)]r[f.get(id)]&&(i[u.get(id)]=Math.min(i[u.get(id)],n[f.get(id)]))(s(f),i[u.get(id)]=Math.min(i[u.get(id)],i[f.get(id)]))}if(i[u.get(id)]===n[u.get(id)]){for(var l=[];e.length0;){var d=e.pop();if(r[d.get(id)]=!1,l.push(d),d===u)break}l.length0&&o.push(l)}},u=0,c=t;uc.length;u++){var h=c[u];n[h.get(id)]0===n[h.get(id)]s(h)}return o}function Wu(t,e){var r=void 0===et.get(directed)e,n=t.getNodes();return rUu(n)function(t){for(var e=[],r={},n=[],i=function(t){n.push(t),r[t.get(id)]=!0;for(var e=t.getNeighbors(),o=0;oe.length;++o){var a=e[o];r[a.get(id)]i(a)}},o=0;ot.length;o++){var a=t[o];if(!r[a.get(id)]){i(a);for(var s=[];n.length0;)s.push(n.pop());e.push(s)}}return e}(n)}var Zu=function(t,e,r){var n,i,o;void 0===r&&(r=!0);for(var a=[],s=0,u=Wu(t,!1);su.length;s++){var c=u[s];if(c.length)for(var h=c[0],f=h.get(id),l=[h],d=((n={})[f]=h,n),p=((i={})[f]=new Set,i);l.length0;)for(var g=l.pop(),v=g.get(id),y=g.getNeighbors(),m=0;my.length;m+=1){var b=y[m],x=b.get(id);if(x===v)a.push(((o={})[b.getID()]=g,o));else if(x in p){if(!p[v].has(b)){for(var w=!0,M=[b,g],S=d[v];p[x].size&&!p[x].has(S)&&(M.push(S),S!==d[S.getID()]);)S=d[S.getID()];if(M.push(S),e&&r(w=!1,M.findIndex((function(t){return e.indexOf(t.get(id))-1}))-1&&(w=!0))e&&!r&&M.findIndex((function(t){return e.indexOf(t.get(id))-1}))-1&&(w=!1),w){for(var _={},k=1;kM.length;k+=1)_[M[k-1].getID()]=M[k];M.length&&(_[M[M.length-1].getID()]=M[0]),a.push(_)}p[x].add(g)}}else d[x]=g,l.push(b),p[x]=new Set([g])}}return a},$u=function(t,e,r){void 0===r&&(r=!0);for(var n=[],i=new Set,o=[],a=[],s={},u={},c=function(t,u,h){var f=!1;if(e&&!1===r&&e.indexOf(t.get(id))-1)return f;n.push(t),i.add(t);for(var l=h[t.getID()],d=0;dl.length;d+=1){if((v=s[l[d]])===u){for(var p={},g=1;gn.length;g+=1)p[n[g-1].getID()]=n[g];n.length&&(p[n[n.length-1].getID()]=n[0]),a.push(p),f=!0}else i.has(v)c(v,u,h)&&(f=!0)}if(f)!function(t){for(var e=[t];e.length0;){var r=e.pop();i.has(r)&&(i.delete(r),o[r.get(id)].forEach((function(t){e.push(t)})),o[r.get(id)].clear())}}(t);else for(d=0;dl.length;d+=1){var v=s[l[d]];o[v.get(id)].has(t)o[v.get(id)].add(t)}return n.pop(),f},h=t.getNodes(),f=0;fh.length;f+=1){var l=h[f],d=l.getID();u[d]=f,s[f]=l}if(e&&r)for(f=0;fe.length;f++){d=e[f];u[h[f].getID()]=u[d],u[d]=0,s[0]=t.findById(d),s[u[h[f].getID()]]=h[f]}for(var p=function(t){for(var n,i,o=10,s=0;st.length;s+=1)for(var c=t[s],h=0;hc.length;h++){var f=u[c[h].getID()];fo&&(o=f,i=s)}var l=t[i],d=[];for(s=0;sl.length;s+=1){var p=l[s];d[p.getID()]=[];for(var g=0,v=p.getNeighbors(target).filter((function(t){return l.indexOf(t)-1}));gv.length;g++){var y=v[g];y!==p!1===r&&e.indexOf(p.getId())-1d[p.getID()].push(u[y.getID()])a.push(((n={})[p.getID()]=p,n))}}return{componentl,adjListd,minIdxo}},g=0;gh.length;){var v=Uu(h.filter((function(t){return u[t.getID()]=g}))).filter((function(t){return t.length1}));if(0===v.length)break;var y=p(v),m=y.minIdx,b=y.adjList,x=y.component;if(!(x.length1))break;x.forEach((function(t){o[t.get(id)]=new Set}));var w=s[m];if(e&&r&&-1===e.indexOf(w.get(id)))return a;c(w,w,b),g=m+1}return a},Ku=function(t,e,r,n){return void 0===n&&(n=!0),void 0===e&&(e=t.get(directed)),e$u(t,r,n)Zu(t,r,n)},Qu=function(t){var e=null,r={},n={},i={},o={};t.getNodes().forEach((function(t){n[t.getID()]=t}));for(var a={enterfunction(t){var o=t.current,a=t.previous;if(i[o.getID()]){e={};for(var s=o,u=a;u.getID()!==o.getID();)e[s.getID()]=u,s=u,u=r[u.getID()];e[s.getID()]=u}else i[o.getID()]=o,delete n[o.getID()],r[o.getID()]=a},leavefunction(t){var e=t.current;o[e.getID()]=e,delete i[e.getID()]},allowTraversalfunction(t){var r=t.next;return!e&&!o[r.getID()]}};Object.keys(n).length;){Xu(t,Object.keys(n)[0],a)}return e};var Ju=function(t,e,r,n){var i=t.getNodes(),o=[],a={},s={},u={};i.forEach((function(t,r){var n=t.getID();o.push(n),s[n]=10,n===e&&(s[n]=0)}));for(var c=i.length,h=function(t){var e=function(t,e,r){for(var n,i=10,o=0;oe.length;o++){var a=e[o].get(id);!r[a]&&t[a]=i&&(i=t[a],n=e[o])}return n}(s,i,a),o=e.get(id);if(a[o]=!0,s[o]===10)returncontinue;(re.getOutEdges()e.getEdges()).forEach((function(t){var r=t.getTarget().getID(),i=t.getSource().getID(),a=r===oir,c=n&&t.getModel()[n]t.getModel()[n]1;s[a]s[e.get(id)]+c&&(s[a]=s[e.get(id)]+c,u[a]=e.get(id))}))},f=0;fc;f++)h();var l={};for(var d in s){l[d]=[d];for(var p=u[d];void 0!==p;)l[d].unshift(p),p=u[p]}return{lengths,pathl}},tc=function(t,e,r,n,i){Object(ht.isString)(e)&&(e=t.findById(e)),Object(ht.isString)(r)&&(r=t.findById(r));var o=Ju(t,e.get(id),n,i),a=o.length,s=o.path;return{lengtha[r.get(id)],paths[r.get(id)]}},ec=function(t,e,r,n){var i;if(Object(ht.isString)(e)&&(e=t.findById(e)),Object(ht.isString)(r)&&(r=t.findById(r)),void 0===n&&(n=t.get(directed)),e===r)return[[e.get(id)]];var o=[e],a=((i={})[e.get(id)]=!0,i),s=[],u=[],c=ne.getNeighbors(target)e.getNeighbors();for(s.push(c);o.length0&&s.length0;){var h=s[s.length-1];if(h.length){var f=h.shift();if(f&&(o.push(f),a[f.get(id)]=!0,c=nf.getNeighbors(target)f.getNeighbors(),s.push(c.filter((function(t){return!a[t.get(id)]})))),o[o.length-1]===r){var l=o.map((function(t){return t.get(id)}));u.push(l);d=o.pop();a[d.get(id)]=!1,s.pop()}}else{var d=o.pop();a[d.get(id)]=!1,s.pop()}}return u},rc=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,r=t;er.length;e++){var n=r[e];this.parent[n]=n}}return t.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},t.prototype.union=function(t,e){var r=this.find(t),n=this.find(e);r!==n&&(rn(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t])(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}(),nc=function(t,e){return t-e},ic=function(){function t(t){void 0===t&&(t=nc),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2t+1},t.prototype.getRight=function(t){return 2t+2},t.prototype.getParent=function(t){return 0===tnullMath.floor((t-1)2)},t.prototype.isEmpty=function(){return this.list.length=0},t.prototype.top=function(){return this.isEmpty()void 0this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t0&&this.compareFn(this.list[e],this.list[t])0;){var r=this.list[e];this.list[e]=this.list[t],this.list[t]=r,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,r=t,n=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==n&&no&&this.compareFn(this.list[r],this.list[n])0r=nnull!==i&&io&&this.compareFn(this.list[r],this.list[i])0&&(r=i),t!==r&&(e=[this.list[r],this.list[t]],this.list[t]=e[0],this.list[r]=e[1],this.moveDown(r))},t}(),oc=function(t,e){var r=[],n=t.getNodes();if(0===n.length)return r;var i=n[0],o=new Set;o.add(i);var a=new ic((function(t,r){return et.getModel()[e]-r.getModel()[e]0}));for(i.getEdges().forEach((function(t){a.insert(t)}));!a.isEmpty();){var s=a.delMin(),u=s.getSource(),c=s.getTarget();o.has(u)&&o.has(c)(r.push(s),o.has(u)(o.add(u),u.getEdges().forEach((function(t){a.insert(t)}))),o.has(c)(o.add(c),c.getEdges().forEach((function(t){a.insert(t)}))))}return r},ac=function(t,e){var r=[];if(0===t.getNodes().length)return r;var n=t.getEdges().map((function(t){return t}));e&&n.sort((function(t,r){return t.getModel()[e]-r.getModel()[e]}));for(var i=new rc(t.getNodes().map((function(t){return t.get(id)})));n.length0;){var o=n.shift(),a=o.getSource().get(id),s=o.getTarget().get(id);i.connected(a,s)(r.push(o),i.union(a,s))}return r};function sc(t,e,r){return r{primoc,kruskalac}[r](t,e)ac(t,e)}var uc=function(t,e,r){number!=typeof e&&(e=1e-6),number!=typeof r&&(r=.85);for(var n,i=1,o=0,a=1e3,s=t.getNodes(),u=s.length,c={},h={},f=0;fu;++f){c[l=(y=s[f]).get(id)]=1u,h[l]=1u}for(;a0&&ie;){o=0;for(f=0;fu;++f){var l=(y=s[f]).get(id);if(n=0,0===t.getNodeDegree(y,in))c[l]=0;else{for(var d=y.getNeighbors(source),p=0;pd.length;++p){var g=d[p],v=t.getNodeDegree(g,out);v0&&(n+=h[g.get(id)]v)}c[l]=rn,o+=c[l]}}o=(1-o)u,i=0;for(f=0;fu;++f){var y;n=c[l=(y=s[f]).get(id)]+o,i+=Math.abs(n-h[l]),h[l]=n}a-=1}return h},cc=Ea.registerNode,hc=Ea.registerEdge,fc=Ea.registerCombo,lc=Te.registerBehavior,dc=fo.registerLayout,pc=qu.Minimap,gc=qu.Grid,vc=qu.Bundling,yc=qu.Menu,mc=qu.Fisheye,bc=qu.ToolBar,xc=qu.Tooltip,wc=qu.TimeBar,Mc=qu.ImageMinimap,Sc=qu.EdgeFilterLens;e.default={versionf.a,Graphqo,TreeGraphHo,UtilCa,registerNodeEa.registerNode,registerEdgeEa.registerEdge,registerComboEa.registerCombo,registerBehaviorTe.registerBehavior,registerLayoutfo.registerLayout,Layoutfo,GlobalQ,Minimapqu.Minimap,Gridqu.Grid,Bundlingqu.Bundling,Menuqu.Menu,ToolBarqu.ToolBar,Tooltipqu.Tooltip,TimeBarwc,Fisheyemc,ImageMinimapMc,EdgeFilterLensSc,Algorithmc,Arrow{trianglefunction(t,e,r){void 0===t&&(t=10),void 0===e&&(e=15),void 0===r&&(r=0);var n=2r;returnM +n+,0 L +(n+e)+,-+t2+ L +(n+e)+,+t2+ Z},veefunction(t,e,r){void 0===t&&(t=15),void 0===e&&(e=20),void 0===r&&(r=0);var n=2r;returnM +n+,0 L +(n+e)+,-+t2+n        L +(n+2e3)+,0 L +(n+e)+,+t2+ Z},circlefunction(t,e){return void 0===t&&(t=5),void 0===e&&(e=0),M +2e+, 0n            a +t+,+t+ 0 1,0 +2t+,0n            a +t+,+t+ 0 1,0 +2-t+,0},rectfunction(t,e,r){void 0===t&&(t=10),void 0===e&&(e=10),void 0===r&&(r=0);var n=2r;returnM +n+,+-t2+ n        L +(n+e)+,+-t2+ n        L +(n+e)+,+t2+ n        L +n+,+t2+ Z},diamondfunction(t,e,r){void 0===t&&(t=15),void 0===e&&(e=15),void 0===r&&(r=0);var n=2r;returnM +n+,0 n        L +(n+e2)+,+-t2+ n        L +(n+e)+,0 n        L +(n+e2)+,+t2+ Z},triangleRectfunction(t,e,r,n,i,o){void 0===t&&(t=15),void 0===e&&(e=15),void 0===r&&(r=15),void 0===n&&(n=3),void 0===i&&(i=5),void 0===o&&(o=0);var a=2o,s=a+e+i;returnM +a+,0 L +(a+e)+,-+t2+ L +(a+e)+,+t2+ Zn            M +s+, -+r2+n            L +(s+n)+ -+r2+n            L +(s+n)+ +r2+n            L +s+ +r2+n            Z}},MarkerOa}}]).default}));
# sourceMappingURL=g6.min.js.map